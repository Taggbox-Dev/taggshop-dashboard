"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5142],{15142:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(9950),n=s(28429),c=s(56463),l=s(40143),o=s(66345),r=s(28981),i=s(18633),h=s(47039),x=s(16522),d=s(85731),p=s(73878),m=s(41181),j=s(44414);const u=new m.A,f=e=>{let{history:a,isInstall:s}=e;const c=(()=>{const e=(0,n.zy)(),a=new URLSearchParams(e.search);return{code:a.get("code"),embedded:a.get("embedded"),hmac:a.get("hmac"),host:a.get("host"),id_token:a.get("id_token"),locale:a.get("locale"),session:a.get("session"),shop:a.get("shop"),timestamp:a.get("timestamp")}})(),l=(o=c,Object.fromEntries(Object.entries(o).filter((e=>{let[a,s]=e;return null!==s&&void 0!==s}))));var o;const h=(0,p.wA)();return(0,t.useEffect)((()=>{console.log(u.get("syncShopify"),"syncShopify"),s?l.embedded?(console.log(c,"paramsparamsparamsparamsparams-444444",l),h((0,r.AZ)(l,a))):(console.log(c,"paramsparamsparamsparamsparams-555555",l),(0,r.cW)(l.shop)):(console.log(c,"paramsparamsparamsparamsparams-666666",l),h((0,r.AZ)(l,a)))}),[]),(0,j.jsxs)("div",{className:"h-100vh w-100 f-center",children:[(0,j.jsx)(i.a,{}),"Test taggshop"]})};var g=s(7751),y=s(7103);const w=t.lazy((()=>s.e(3887).then(s.bind(s,73887)))),b=t.lazy((()=>s.e(72).then(s.bind(s,20072)))),k=t.lazy((()=>s.e(7562).then(s.bind(s,57562)))),S=t.lazy((()=>s.e(7996).then(s.bind(s,67996)))),q=t.lazy((()=>Promise.all([s.e(6957),s.e(899)]).then(s.bind(s,60899)))),v=t.lazy((()=>s.e(5565).then(s.bind(s,95565)))),P=t.lazy((()=>s.e(9613).then(s.bind(s,89613)))),z=t.lazy((()=>Promise.all([s.e(8740),s.e(6447)]).then(s.bind(s,76447)))),A=t.lazy((()=>s.e(1978).then(s.bind(s,61978)))),_=t.lazy((()=>Promise.all([s.e(3035),s.e(5312)]).then(s.bind(s,46615)))),I=e=>{const a=(0,n.g)();return(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(S,{prefix:e.prefix,params:a})})},L=e=>{const a=(0,n.g)();return(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(v,{prefix:e.prefix,params:a,history:e.history})})},R=e=>{const a=(0,n.zy)(),s=new URLSearchParams(a.search).get("token"),t=new URLSearchParams(a.search).get("callback");return s&&(localStorage.setItem("token",s),window.location.href=t),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(i.a,{})})},U=e=>{localStorage.clear();const a=(0,n.g)();return window.location.href.includes("admin")?localStorage.setItem("isAdmin",1):localStorage.setItem("isAdmin",0),a.token&&(localStorage.setItem("token",atob(a.token)),window.location.href="".concat(o.btP,"home")),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(i.a,{})})},E=e=>{let{history:a}=e;const s=(0,n.zy)(),c=new URLSearchParams(s.search).get("code"),l=new URLSearchParams(s.search).get("account_uuid"),o=new URLSearchParams(s.search).get("context"),h=new URLSearchParams(s.search).get("scope");return(0,t.useEffect)((()=>{(0,r.bG)({code:c,account_uuid:l,context:o,scope:h},a)}),[]),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(i.a,{})})},C=()=>{const e=(0,n.zy)(),a=new URLSearchParams(e.search).get("signed_payload"),s=new URLSearchParams(e.search).get("signed_payload_jwt");return(0,t.useEffect)((()=>{(0,r.HN)({signed_payload:a,signed_payload_jwt:s})}),[]),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(i.a,{})})};function N(e){const a=(0,n.Zp)();return(0,t.useEffect)((()=>{localStorage.getItem("token")||window.location.pathname.includes("/accounts")||window.location.pathname.includes("/connection")||window.location.pathname.includes("/bigcommerce")||window.location.pathname.includes("/Shopify")||window.location.pathname.includes("/autologin")||window.location.pathname.includes("/redirectlogin")||window.location.pathname.includes("/ugc_right")||window.location.pathname.includes("/feeds/authCallback")||window.location.pathname.includes("/collaborator/request")||a("/")}),[]),(0,j.jsxs)(l.A,{children:[(0,j.jsx)(h.A,{}),(0,j.jsxs)(n.BV,{children:[(0,j.jsx)(n.qh,{exact:!0,path:"/autologin",element:(0,j.jsx)(R,{history:e.history})}),(0,j.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token/:isAdmin",element:(0,j.jsx)(U,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token",element:(0,j.jsx)(U,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(w,{prefix:"/",history:a})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/register",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(b,{prefix:"/",history:a})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/login",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(w,{prefix:"/",history:a})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/forgotpassword",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(k,{prefix:"/",activeProduct:"0"})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/resetpassword/:userId/:token",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(I,{prefix:"/"})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/otherinfo",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(q,{prefix:"/",addEmail:!1,history:e.history})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/extemail",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(A,{children:(0,j.jsx)(q,{addEmail:!0,prefix:"/",history:e.history})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/price",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(z,{history:e.history})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/verifyemail/:id",element:(0,j.jsx)(L,{prefix:"/",history:e.history})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/verify",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(P,{prefix:"/",history:e.history})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/feeds/authCallback",element:(0,j.jsx)(x.A,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/paymentPaidCallback",element:(0,j.jsx)(c.A,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/ugc_right/:id",element:(0,j.jsx)(d.A,{})}),(0,j.jsx)(n.qh,{path:"/Shopify/token",element:(0,j.jsx)(f,{history:a,isInstall:!1})}),(0,j.jsx)(n.qh,{path:"/Shopify/install",element:(0,j.jsx)(f,{history:a,isInstall:!0})}),(0,j.jsx)(n.qh,{path:"/bigcommerce/oauth",element:(0,j.jsx)(E,{history:a})}),(0,j.jsx)(n.qh,{path:"/bigcommerce/load",element:(0,j.jsx)(C,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/connection/:id",element:(0,j.jsx)(t.Suspense,{fallback:null,children:(0,j.jsx)(_,{})})}),(0,j.jsx)(n.qh,{path:"*",element:(0,j.jsx)(n.C5,{to:"/accounts/login"})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/shopifypaymentcomplete",element:(0,j.jsx)(g.A,{})}),(0,j.jsx)(n.qh,{path:"/collaborator/request/:ownerToken/:collaboratorToken",element:(0,j.jsx)(A,{children:(0,j.jsx)(y.A,{history:a})})})]})]})}}}]);