{"version":3,"file":"static/js/4301.954c1967.chunk.js","mappings":"qLAGO,MAAMA,EAAaC,IACtB,MAAMC,EAASC,SAASC,KAAKC,YAAYF,SAASG,cAAc,WAChEJ,EAAOK,IAAMN,EACbC,EAAOM,OAAQ,EACfL,SAASM,KAAKJ,YAAYH,EAAO,EAGrC,MAAMQ,UAAmBC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KAClCC,MAAM,CAAEC,aAAY,GAAM,KAQvBC,OAAS,KACDC,KAAKC,SAAS,CAACH,aAAY,IAC3B,IAAII,EAAO,GAAAC,OAAMC,EAAAA,KACrBC,MAAMH,GACDI,MAAKC,GAAYA,EAASC,SAC1BF,MAAKE,IACF,MAAM,IAAEC,EAAG,GAAEC,EAAE,OAAEzB,GAAWuB,EAC5B,IAAIG,EAAWzB,SAASG,cAAc,OACtCsB,EAASC,aAAa,KAAMF,GAC5BxB,SAAS2B,eAAe,cAAczB,YAAYuB,GAElD,IAAIG,EAAQ5B,SAASG,cAAc,QACnCyB,EAAMF,aAAa,OAAQ,YAC3BE,EAAMF,aAAa,KAAM,kBACzBE,EAAMF,aAAa,MAAO,cAC1BE,EAAMF,aAAa,OAAQH,GAC3BvB,SAASC,KAAKC,YAAY0B,GAG1B,IAAIC,EAAU7B,SAASG,cAAc,UACrC0B,EAAQH,aAAa,OAAQ,mBAC7BG,EAAQH,aAAa,KAAM,iBAC3BG,EAAQH,aAAa,MAAO3B,GAC5BC,SAASM,KAAKJ,YAAY2B,EAAQ,IAEnCC,OAAMC,IACTjB,KAAKC,SAAS,CAACH,aAAY,GAAO,GAEhC,EAET,KAYDoB,gBAAkB,KACd,IACI,MAAMC,EAAajC,SAASkC,iBAAiB,yBAEvCC,EADoBC,MAAMC,KAAKJ,GACAK,MAAKvC,GAAwB,mBAAdA,EAAOyB,KAC3DW,EAAWI,WAAWC,YAAYL,EACtC,CACA,MAAOM,GAEP,GACH,KACDC,mBAAqB,KACjB,IACI,MAAMT,EAAajC,SAASkC,iBAAiB,kCAEvCC,EADoBC,MAAMC,KAAKJ,GACAK,MAAKvC,GAAwB,kBAAdA,EAAOyB,KAC3DW,EAAWI,WAAWC,YAAYL,EACtC,CACA,MAAOM,GAEP,EACH,CArEDE,iBAAAA,GACQC,aAAaC,QAAQ,WACrBD,aAAaE,QAAQ,eAAgBF,aAAaC,QAAQ,UAC1D/B,KAAKD,SAEb,CAgCAkC,yBAAAA,CAA0BC,GAClBJ,aAAaC,QAAQ,UAAYG,IACjCJ,aAAaE,QAAQ,eAAgBF,aAAaC,QAAQ,UACvD/B,KAAKH,MAAMC,aAAaE,KAAKD,SAExC,CAEAoC,oBAAAA,GACInC,KAAK4B,qBACL5B,KAAKkB,iBACT,CA0BAkB,MAAAA,GACI,OAAOC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACHF,EAAAA,EAAAA,KAAA,OAAK3B,GAAG,aAAa,aAAW,GAAG,WAAU8B,EAAAA,IAAuBD,SAAC,OAE7E,EAGJ,S","sources":["app/components/influencer/index.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport { UGC_EMBED_URL_JSON, UGC_EMBED_REDIRECT_URL } from '../../../actions/api'; \r\n\r\nexport const ADD_SCRIPT = url => {\r\n    const script = document.head.appendChild(document.createElement(\"script\"))\r\n    script.src = url\r\n    script.async = true\r\n    document.body.appendChild(script)\r\n}\r\n\r\nclass Influencer extends Component {\r\n state={ isembedCall:false}\r\n\r\n    componentDidMount() {\r\n        if (localStorage.getItem(\"token\")) {\r\n            localStorage.setItem(\"access_token\", localStorage.getItem(\"token\"))\r\n            this.onLoad()\r\n        }\r\n    }\r\n    onLoad = () => {\r\n            this.setState({isembedCall:false})\r\n            var AppPath = `${UGC_EMBED_URL_JSON}`;\r\n        fetch(AppPath)\r\n            .then(response => response.json())\r\n            .then(json => {\r\n                const { css, id, script } = json;\r\n                let myScript = document.createElement(\"div\");\r\n                myScript.setAttribute(\"id\", id);\r\n                document.getElementById('influencer').appendChild(myScript);\r\n\r\n                let myCss = document.createElement(\"link\");\r\n                myCss.setAttribute(\"type\", 'text/css');\r\n                myCss.setAttribute(\"id\", 'influencer_css');\r\n                myCss.setAttribute(\"rel\", 'stylesheet');\r\n                myCss.setAttribute(\"href\", css);\r\n                document.head.appendChild(myCss);\r\n\r\n\r\n                let myreact = document.createElement(\"script\");\r\n                myreact.setAttribute(\"type\", 'text/javascript');\r\n                myreact.setAttribute(\"id\", 'influencer_js');\r\n                myreact.setAttribute(\"src\", script);\r\n                document.body.appendChild(myreact);\r\n\r\n            }).catch(err => {\r\n            this.setState({isembedCall:false})\r\n\r\n            })\r\n        \r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        if (localStorage.getItem(\"token\") && nextProps) {\r\n            localStorage.setItem(\"access_token\", localStorage.getItem(\"token\"))\r\n            if(this.state.isembedCall) this.onLoad()\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.onLoadRemoveScript()\r\n        this.onLoadRemoveCss()\r\n    }\r\n    onLoadRemoveCss = () => {\r\n        try {\r\n            const scriptList = document.querySelectorAll(\"link[type='text/css']\")\r\n            const convertedNodeList = Array.from(scriptList)\r\n            const testScript = convertedNodeList.find(script => script.id === \"influencer_css\")\r\n            testScript.parentNode.removeChild(testScript)\r\n        }\r\n        catch (ex) {\r\n\r\n        }\r\n    }\r\n    onLoadRemoveScript = () => {\r\n        try {\r\n            const scriptList = document.querySelectorAll(\"script[type='text/javascript']\")\r\n            const convertedNodeList = Array.from(scriptList)\r\n            const testScript = convertedNodeList.find(script => script.id === \"influencer_js\")\r\n            testScript.parentNode.removeChild(testScript)\r\n        }\r\n        catch (ex) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return <>\r\n            <div id=\"influencer\" data-color=\"\" data-url={UGC_EMBED_REDIRECT_URL}> </div>\r\n        </>\r\n    }\r\n}\r\n\r\nexport default Influencer"],"names":["ADD_SCRIPT","url","script","document","head","appendChild","createElement","src","async","body","Influencer","Component","constructor","arguments","state","isembedCall","onLoad","this","setState","AppPath","concat","UGC_EMBED_URL_JSON","fetch","then","response","json","css","id","myScript","setAttribute","getElementById","myCss","myreact","catch","err","onLoadRemoveCss","scriptList","querySelectorAll","testScript","Array","from","find","parentNode","removeChild","ex","onLoadRemoveScript","componentDidMount","localStorage","getItem","setItem","componentWillReceiveProps","nextProps","componentWillUnmount","render","_jsx","_Fragment","children","UGC_EMBED_REDIRECT_URL"],"sourceRoot":""}