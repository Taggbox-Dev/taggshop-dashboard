"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6216],{16216:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var n=a(65043),o=a(97508),s=a(73216),r=a(92657),c=a(71214),i=a(27108),l=a(78894),d=a(70579);const g=new AbortController,u=new BroadcastChannel("connect"),w=()=>{const e=(0,s.g)(),t=(0,o.wA)(),[a,w]=(0,n.useState)(!0),m=async a=>{try{const n=JSON.parse(a.data),{code:o}=n,s=localStorage.getItem("networkId"),i=localStorage.getItem("connectionType");(a.origin.includes("tagshop.ai")||a.origin.includes("localhost"))&&"connectAccount"==i&&o&&await(0,c.CJ)(parseInt(s),o,(()=>t((0,r.xv)(atob(e.id).split("'").join(""),w))))}catch(n){}};return(0,n.useEffect)((()=>{const a=g.signal;return window.addEventListener("message",m,{signal:a}),u.addEventListener("message",m),t((0,r.xv)(atob(e.id).split("'").join(""),w)),localStorage.setItem("ownerId",atob(e.id).split("'").join("")),localStorage.setItem("shareAccount",!0),localStorage.setItem("url_redirect",window.location.pathname.replace("/v2","")),()=>{window.removeEventListener("message",m,{signal:a}),u.removeEventListener("message",m),g.abort(),u.close()}}),[]),a?(0,d.jsx)(i.a,{}):(0,d.jsx)(l.A,{isSharing:!0})}}}]);
//# sourceMappingURL=6216.00f518e9.chunk.js.map