(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9194],{47208:(o,e,t)=>{"use strict";t.d(e,{nH:()=>r});t(96011);var a=t(14313),i=t(66345),n=t(54480),s=t(4695),l=t.n(s);t(52867);const r=(o,e,t)=>s=>{(new a.A).post("".concat(i.SZr,"/").concat(o)).then((o=>{const{responseData:a,response_code:r,response_message:d,user:c}=o.data;var u,p;(null!==a&&void 0!==a&&a.promotor_key&&Object.keys(a.promotor_key).forEach((o=>{document.cookie="".concat(o,"=").concat(a.promotor_key[o],";")})),a.user&&Object.keys(a.user).length>0&&t(a.user.id),200==r)?(localStorage.setItem("steps","1"),s({type:n.C01,payload:a}),localStorage.setItem("token",a.token),null!==a&&void 0!==a&&null!==(u=a.user)&&void 0!==u&&u.emailId&&localStorage.setItem("emailId",null===a||void 0===a||null===(p=a.user)||void 0===p?void 0:p.emailId),e("/accounts/price")):201==r&&l().fire({title:d,icon:"success",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Go to Home"}).then((o=>{localStorage.removeItem("steps"),window.location=i.C1b}))}))}},48087:(o,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>S});var a=t(89379),i=t(9950),n=t(43927),s=t(52867),l=t(1391),r=t(41881),d=t(73878),c=t(87053),u=t(46256),p=t.n(u),h=t(66345);const v=p()("".concat(h._QT),{transports:["websocket"],transport:["websocket"],upgrade:!0});t(47208);var g=t(1480),m=t(28981),I=t(44414);class w extends i.Component{constructor(){super(...arguments),this.state={init:!1,showFrePlan:!1,shopifyLogin:localStorage.getItem("shopifyLogin"),loading:!1,changePrice:!0,showContactUs:!1},this.SignUpPlanUpdate=async o=>{const{authorized:e}=this.props;this.setState({loading:!0});const t=(0,s.HA)(),a=new r.A;try{var i,l,d,c,u,p,m;if(200!==(await(0,n.yL)(o)).data.response_code)throw new Error("Plan update failed");const r=(null===e||void 0===e||null===(i=e.token)||void 0===i||null===(l=i.user)||void 0===l?void 0:l.id)||(null===e||void 0===e||null===(d=e.userData)||void 0===d||null===(c=d.user_data)||void 0===c?void 0:c.user.id)||localStorage.getItem("ownerId"),S="shopify"===(null===e||void 0===e||null===(u=e.userData)||void 0===u||null===(p=u.user_data)||void 0===p||null===(m=p.sessionData)||void 0===m?void 0:m.createFrom),f=()=>{this.setState({loading:!1,init:!0}),localStorage.removeItem("steps"),a.remove("shoponUrl"),setTimeout((()=>{window.location.replace("".concat(h.btP,"home"))}),100)};if(S)localStorage.removeItem("shopifyLogin"),localStorage.removeItem("steps"),setTimeout((()=>{(0,g.Tn)(localStorage.getItem("shopId"),(()=>{this.props.getUserInfo(this.props.history,"".concat(h.btP,"init/index/shopify"))}))}),100);else{I="planUpdated",w={id:r,plan:""},v.emit(I,w);const o=(0,s.UM)("shoponUrl");await f(o)}(0,s.b)(t)}catch(S){this.setState({loading:!1}),(0,s.b)(t)}var I,w}}componentDidMount(){this.props.PLAN__DETAILS(!0),this.setState({shopifyLogin:localStorage.getItem("shopifyLogin")}),setTimeout((()=>{var o,e,t,a,i,n,s,l,r,d,c,u,p,g;p="getPlanUpdated".concat(null!=(null===(o=this.props.authorized)||void 0===o||null===(e=o.token)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)?null===(a=this.props.authorized)||void 0===a||null===(i=a.token)||void 0===i||null===(n=i.user)||void 0===n?void 0:n.id:null!==(s=this.props.authorized)&&void 0!==s&&null!==(l=s.userData)&&void 0!==l&&null!==(r=l.user_data)&&void 0!==r&&r.user.id?null===(d=this.props.authorized)||void 0===d||null===(c=d.userData)||void 0===c||null===(u=c.user_data)||void 0===u?void 0:u.user.id:localStorage.getItem("ownerId")),g=o=>{localStorage.removeItem("steps"),window.location.href="".concat(h.btP,"home")},v.on(p,g)}),1500),window.fpr("referral",{email:localStorage.getItem("emailId")})}render(){return(0,I.jsx)(c.A,(0,a.A)((0,a.A)({},this.props),{},{signUpPlan:!0,loading:this.state.loading,SignUpPlanUpdate:this.SignUpPlanUpdate}))}}const S=(0,d.Ng)((o=>{var e;return{authorized:o.authorized,priceDetail:null===(e=o.planPriceDetail)||void 0===e?void 0:e.planPrice}}),(o=>({PLAN__DETAILS:e=>o((0,n.mT)(e)),getUserInfo:(e,t)=>o((0,m.ug)(e,t))})))((0,l.A)(w))},25660:()=>{}}]);