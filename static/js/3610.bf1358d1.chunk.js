"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3610],{63610:(e,s,t)=>{t.r(s),t.d(s,{default:()=>le});var a=t(9950),i=t(45358),l=t(5216),n=t(17595),r=t(31355),c=t(54810),d=(t(18633),t(34483)),o=t(97937);const h=[{icon:"money-check-pen",title:"Name Your Rule:",text:"Give Your rule a name"},{icon:"arrow-pointer",title:"Select The Trigger:",text:"Select the Trigger on which you want to perform an action. Such as feed, network, hashtag."},{icon:"circle-plus",title:"Choose an Action",text:"Select the action you want to execute based on your chosen trigger. For example, public, private, or delete."}],m=[{class:"primary",icon:"clone",title:"Bye-bye Duplicates",text:"Enable this AI-powered rule to automatically identify and remove duplicate posts using the TruSense AI Duplicate Detection feature. All detected duplicates will be made private, ensuring a cleaner and more organized experience."},{class:"danger",icon:"octagon-minus",title:"Negativity Neutralizer",text:"Activate this AI rule to detect posts with negative sentiment and automatically make them private, keeping your feed focused and positive."},{class:"info",icon:"square-check",title:"AI Content Spotlight",text:"Activate this rule to automatically make posts with high AI recommendation scores public, showcasing your best-performing content."}],p=[{heading:"Rule Name"},{heading:"Status"},{heading:"Last Executed"},{heading:"Action"}],g=["feeds","networks","handle","hashtag","keyword","showHide","tags","assetsType","duplicateAsset","sentiment","recommend","profanity"];var u=t(44414);class x extends a.Component{render(){const{filterTabs:e}=this.props,s=(e=>{const{duplicateAssets:s,handleTrigger:t}=e;return[{name:"Network",desc:"Select your preferred network",icon:"chart-network",fnc:()=>t("networks"),propName:"networks"},{name:"Feeds",desc:"Select the Feed type",icon:"image-portrait",fnc:()=>t("feeds"),propName:"feeds"},{name:"Media Type",desc:"Choose the type of Media",icon:"image",fnc:()=>t("assetsType"),propName:"assetsType"},{name:"AI Recommendation",desc:"Choose Ai recommendation",icon:"sparkles",fnc:()=>t("recommend"),propName:"recommend"},{name:"Tag",desc:"Select the preferred tag",icon:"tags",fnc:()=>t("tags"),propName:"tags"},{name:"Sentiment",desc:"Choose sentiment analysis",icon:"face-smile",fnc:()=>t("sentiment"),propName:"sentiment"},{name:"Public/Private",desc:"Select Posts Visibility",icon:"users",fnc:()=>t("showHide"),propName:"showHide"},{name:"By Handle",desc:"Enter Handle",icon:"at",fnc:()=>t("handle"),propName:"handle"},{name:"By Hashtag",desc:"Enter Hashtag",icon:"hashtag",fnc:()=>t("hashtag"),propName:"hashtag"},{name:"By Keyword",desc:"Enter Keyword",icon:"text",fnc:()=>t("keyword"),propName:"keyword"},{name:"Profanity",desc:"Apply Profanity",icon:"ban",fnc:()=>t("profanity"),propName:"profanity"},{name:"Duplicate Post",desc:parseInt(s)>0?`${parseInt(s)} Select Posts`:"Select Posts",icon:"clone",fnc:()=>t("duplicateAsset"),propName:"duplicateAsset"}]})(this.props);return(0,u.jsx)(d.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:s.map(((s,t)=>e&&e.hasOwnProperty(s.propName)?null:(0,u.jsxs)(d.A.Item,{className:"d-flex align-items-center border-bottom py-2 rounded-0",onClick:s.fnc,children:[(0,u.jsx)("div",{className:"symbol symbol-30 bg-light me-2",children:(0,u.jsx)("div",{className:"symbol-label",children:(0,u.jsx)(c.gc,{icon:s.icon,iconClass:"text-muted me-0"})})}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:s.name}),(0,u.jsx)("span",{className:"fs-9 text-gray-500",children:s.desc})]})]})))})}}const f=x;var b=t(5830),j=t(95942);class y extends a.Component{render(){const{name:e,desc:s,icon:t,method:a,svgIcon:i,action:l,del:n}=this.props;return(0,u.jsxs)("div",{className:"d-flex align-items-center rounded-0 "+(n?"":"mb-2"),children:[(0,u.jsxs)("div",{className:"d-flex flex-grow-1 "+(l?"align-items-center":""),children:[l?(0,u.jsx)(c.gc,{icon:t,iconClass:"text-muted me-1"}):(0,u.jsx)("div",{className:"symbol symbol-30 bg-light-primary me-2",children:(0,u.jsx)(c.gc,{icon:t,iconClass:"text-muted fs-6"})}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:e}),s?(0,u.jsx)("span",{className:"fs-9 text-gray-500",children:s}):null]})]}),(0,u.jsx)(b.A,{placement:"top",overlay:(0,u.jsx)(j.A,{children:"Remove"}),children:(0,u.jsx)(o.A,{variant:"icon",className:"btn-active-light p-0 w-30px h-30px transition-none border-0",onClick:a,children:(0,u.jsx)(c.gc,{icon:"trash-can",iconClass:"text-muted"})})})]})}}const N=y;var w=t(52867);class v extends a.Component{constructor(){super(...arguments),this.state={networkList:[]},this.onSearchNetwork=e=>{const{networkList:s}=this.props,t=s.filter((s=>s.name.toLowerCase().includes(e.target.value.toLowerCase())));this.setState({networkList:t})}}componentDidMount(){setTimeout((()=>{this.setState({networkList:this.props.networkList})}),100)}componentWillReceiveProps(e){this.setState({networkList:e.networkList})}render(){const{handleTrigger:e,selectedNetworks:s,onSelectNetwork:t,selectAllNetworks:a}=this.props,{networkList:i}=this.state;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Network",desc:"Choose the required network",icon:"chart-network",svgIcon:!0,method:()=>e("networks","selectedNetworks",[])}),(0,u.jsxs)(d.A,{className:"w-100",autoClose:"outside",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsx)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`filter_${(0,w.Oi)(s[0])}`,children:(0,u.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium ps-0",children:s.length>0?1==s.length||2==s.length&&s.includes(18)&&s.includes(2)?(0,w.Oi)(s[0]):`${s.includes(2)?s.length-1:s.length} selected`:"Select Network"})})}),(0,u.jsxs)(d.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:[(0,u.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,u.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-searchNetwork",children:"Select All"}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",id:"tri-searchNetwork",onChange:e=>a(e),checked:s.length==this.props.networkList.length+1})]}),(0,u.jsx)("div",{className:"form-group mb-2",children:(0,u.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search your network",onChange:e=>this.onSearchNetwork(e)})}),i&&i.length>0?i.map((e=>(0,u.jsxs)("div",{className:"dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`tri-network-${e.id}`,children:[(0,u.jsx)("span",{className:"symbol symbol-20",children:(0,u.jsx)("img",{className:"img-fluid h-100",src:(0,c.pc)(`media/icons/social-icons-square/${(0,w.EC)(e.id)}.svg`),height:20,width:20,alt:(0,w.Oi)(e.id)})}),(0,u.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium",children:(0,w.Oi)(e.id)})]}),(0,u.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",id:`tri-network-${e.id}`,checked:s.includes(e.id),onChange:s=>t(e.id)})]},e.id))):(0,u.jsx)("div",{className:"py-4",children:(0,u.jsx)("h6",{className:"text-center fs-9 mb-0 text-gray-700",children:"No Networks Available"})})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})}}const S=v,k=e=>{let{handleTrigger:s,selectedAiType:t,onSelectAiType:a,selectAllAiTypes:i}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"AI Recommendation",desc:"Choose Ai recommendation.",icon:"sparkles",method:()=>s("recommend","selectedAiType",[])}),(0,u.jsxs)(d.A,{className:"w-100",autoClose:"outside",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[t&&1==t.length?(0,u.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-"+(t.includes("1")?"success":t.includes("2")?"warning":"danger")}):null,(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:t.length>0?1==t.length?t.includes("1")?"Recommended":t.includes("2")?"Considerable":"Not Recommended":`${t.length} selected`:"Select Recommendation Type"})]})}),(0,u.jsxs)(d.A.Menu,{className:"w-100",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,u.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-MediaType",children:"Select All"}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"tri-MediaType",onChange:e=>i(e),checked:3==t.length})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"recommend",children:[(0,u.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-success"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Recommended"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"image",id:"recommend",onChange:e=>a("1"),checked:t.includes("1")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"considerable",children:[(0,u.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-warning"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Considerable"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"video",id:"considerable",onChange:e=>a("2"),checked:t.includes("2")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"not_recommend",children:[(0,u.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-danger"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Not Recommended"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"text",id:"not_recommend",onChange:e=>a("3"),checked:t.includes("3")})]})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})};var A=t(70804);class T extends a.Component{constructor(){super(),this.onSearchFeed=e=>{const s=this.props.feedList.filter((s=>s.name.toLowerCase().includes(e.target.value.toLowerCase())));this.setState({feedList:s})},this.state={feedList:[]}}componentDidMount(){setTimeout((()=>{this.setState({feedList:this.props.feedList?this.props.feedList:[]})}),100)}componentWillReceiveProps(e){this.setState({feedList:e.feedList?e.feedList:[]})}render(){const{handleTrigger:e,selectedFeeds:s,onSelectFeed:t,selectAllFeeds:a}=this.props,{feedList:i}=this.state;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Feeds",desc:"Select the feed type",icon:"image-portrait",method:()=>e("feeds","selectedFeeds",[]),svgIcon:!0}),(0,u.jsxs)(d.A,{className:"w-100",autoClose:"outside",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsx)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`filter_${s&&s.length>0?(0,w.Oi)(s[0].networkId):""}`,children:(0,u.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium ps-0",children:s.length>0?1==s.length?(0,A.Ay)(s[0].name):`${s.length} selected`:"Select Feed"})})}),(0,u.jsxs)(d.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:[(0,u.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,u.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-searchFeeds",children:"Select All"}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-searchFeeds",onChange:e=>a(e),checked:this.props.feedList.length==s.length&&0!=this.props.feedList.length})]}),(0,u.jsx)("div",{className:"form-group mb-2 px-3",children:(0,u.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search your Feed...",onChange:e=>this.onSearchFeed(e)})}),i&&i.length>0?i.map((e=>(0,u.jsxs)("div",{className:"dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`tri-conn-${e.feedId}`,children:[(0,u.jsx)("span",{className:"symbol symbol-20",children:(0,u.jsx)("img",{className:"img-fluid h-100",src:(0,c.pc)(`media/icons/social-icons-square/${(0,w.EC)(e.networkId)}.svg`),height:20,width:20,alt:(0,w.Oi)(e.networkId)})}),(0,u.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium",children:(0,A.Ay)(e.name)})]}),(0,u.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",name:"",id:`tri-conn-${e.id}`,checked:s?s.some((s=>s.id==e.id)):"",onChange:s=>t(e)})]},e.feedId))):(0,u.jsx)("div",{className:"py-4",children:(0,u.jsx)("h6",{className:"text-center fs-9 mb-0 text-gray-700",children:"No Feeds Available"})})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})}}const C=T,F=e=>{let{handleTrigger:s,selectedMedia:t,onSelectMediaType:a,selectAllMediaTypes:i}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Media Type",desc:"Choose the type of media",icon:"image",method:()=>s("assetsType","selectedMedia",[])}),(0,u.jsxs)(d.A,{className:"w-100",autoClose:"outside",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[t&&1==t.length?(0,u.jsx)("i",{className:(t.includes("1")?"ri-text":t.includes("2,4")?"ri-image-line":"ri-movie-line")+" text-gray-800 icon-6 fw-normal"}):null,(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:t.length>0?1==t.length?t.includes("1")?"Text":t.includes("2,4")?"Image":"Video":`${t.length} selected`:"Select Media Type"})]})}),(0,u.jsxs)(d.A.Menu,{className:"w-100",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,u.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-MediaType",children:"Select All"}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"tri-MediaType",onChange:e=>i(e),checked:3==t.length})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"image_assets",children:[(0,u.jsx)(c.gc,{icon:"image",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Image"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"image",id:"image_assets",onChange:e=>a("2,4"),checked:t.includes("2,4")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"video_assets",children:[(0,u.jsx)(c.gc,{icon:"video",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Video"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"video",id:"video_assets",onChange:e=>a("3,5"),checked:t.includes("3,5")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"text_assets",children:[(0,u.jsx)(c.gc,{icon:"text",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Text"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"text",id:"text_assets",onChange:e=>a("1"),checked:t.includes("1")})]})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})};var I=t(31722);const R=e=>{let{handleTrigger:s,onSelectTag:t,onTagRemove:a,selectedTags:i,tagsList:l}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Add Tags",desc:"Select the preferred tag",icon:"tags",method:()=>s("tags","selectedTags",[])}),(0,u.jsx)(I.A,{placeholder:"Search or Create tag...",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",isClearable:!0,options:l,onChange:e=>t(e,"filter"),value:""}),i&&i.length>0?(0,u.jsx)("div",{className:"d-flex w-100 flex-wrap w-100 mt-1",children:i.map(((e,s)=>(0,u.jsxs)("div",{className:"badge bg-secondary rounded-pill text-gray-800 border me-1 mt-1 px-2 d-flex align-items-center",style:{top:0,maxWidth:"100%"},children:[(0,u.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,u.jsx)(o.A,{variant:"link",className:"btn p-0 ms-1 text-decoration-none",onClick:a(s,"filter"),children:(0,u.jsx)(c.gc,{icon:"xmark",iconClass:"text-muted"})})]})))}):null]}),(0,u.jsx)("div",{className:"action_gap"})]})},P=e=>{let{onSelectVisibility:s,handleTrigger:t,selectedVisibility:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Posts Visibility",desc:"Choose the visibility of asset",icon:"eye",method:()=>t("showHide","selectedVisibility",[])}),(0,u.jsxs)(d.A,{className:"w-100",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[a&&1==a.length?(0,u.jsx)(c.gc,{icon:a.includes("1")?"eye":"eye-slash",className:"text-muted"}):null,(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:a.length>0?1==a.length?a.includes("1")?"Public":"Private":`${a.length} selected`:"Select Posts Visibility"})]})}),(0,u.jsxs)(d.A.Menu,{className:"w-100",children:[(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"tri-show-assets",children:[(0,u.jsx)(c.gc,{icon:"eye",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Public"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-show-assets",onChange:e=>s("1","filter"),checked:a.includes("1")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"tri-hide-assets",children:[(0,u.jsx)(c.gc,{icon:"eye-slash",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Private"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-hide-assets",onChange:e=>s("2","filter"),checked:a.includes("2")})]})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})},L=e=>{let{handleTrigger:s,selectedHandle:t,onChangeHandle:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"By Handle",desc:"Enter Handle",icon:"at",method:()=>s("handle","selectedHandle","")}),(0,u.jsxs)("div",{className:"position-relative w-100",style:{zIndex:0},children:[(0,u.jsx)("span",{className:"h-34px w-34px text-gray-500 position-absolute top-0 start-0 translate-middle-x ms-3 ps-1 f-center",style:{zIndex:9},children:(0,u.jsx)(c.gc,{icon:"at",iconClass:"text-muted"})}),(0,u.jsx)("input",{type:"text",className:"ps-7 fw-medium form-control form-control-sm",value:t,onChange:e=>a(e)})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})},D=e=>{let{handleTrigger:s,selectedHashtag:t,onChangeHashtag:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"By Hashtag",desc:"Enter Hashtag",icon:"hashtag",method:()=>s("hashtag","selectedHashtag","")}),(0,u.jsxs)("div",{className:"position-relative w-100",style:{zIndex:0},children:[(0,u.jsx)("span",{className:"h-34px w-34px text-gray-500 position-absolute top-0 start-0 translate-middle-x ms-3 ps-1 f-center",style:{zIndex:9},children:(0,u.jsx)(c.gc,{icon:"hashtag",iconClass:"text-muted"})}),(0,u.jsx)("input",{type:"text",className:"ps-7 fw-medium form-control form-control-sm",value:t,onChange:e=>a(e)})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})},_=e=>{let{handleTrigger:s,selectedKeyword:t,onChangeKeyword:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"By Keyword",desc:"Enter Keyword",icon:"text",method:()=>s("keyword","selectedKeyword","")}),(0,u.jsxs)("div",{className:"position-relative w-100",style:{zIndex:0},children:[(0,u.jsx)("span",{className:"h-34px w-34px text-gray-500 position-absolute top-0 start-0 translate-middle-x ms-3 ps-1 f-center",style:{zIndex:9},children:(0,u.jsx)(c.gc,{icon:"text",iconClass:"text-muted"})}),(0,u.jsx)("input",{type:"text",className:"ps-7 fw-mtextedium form-control form-control-sm",value:t,onChange:e=>a(e)})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})},H=e=>{let{handleTrigger:s,duplicateAssets:t}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,u.jsx)(N,{name:"Duplicate Assets",icon:"clone",method:()=>s("duplicateAsset","selectedDuplicateAsset",!1),desc:parseInt(t)>0?`${parseInt(t)} Posts Selected`:"Select Posts"})}),(0,u.jsx)("div",{className:"action_gap"})]})},M=e=>{let{handleTrigger:s,selectedSentiment:t,onSelectSentiment:a,selectAllSentiments:i}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Sentiment",desc:"Choose sentiment analysis.",icon:"face-smile",method:()=>s("sentiment","selectedSentiment",[])}),(0,u.jsxs)(d.A,{className:"w-100",autoClose:"outside",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[t&&1==t.length?(0,u.jsx)(c.gc,{icon:"face-"+(t.includes("1")?"smile":t.includes("2")?"meh":"frown"),iconClass:"text-muted"}):null,(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:t.length>0?1==t.length?t.includes("1")?"Positive":t.includes("2")?"Neutral":"Negative":`${t.length} selected`:"Select Sentiment Type"})]})}),(0,u.jsxs)(d.A.Menu,{className:"w-100",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,u.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"allSentiments",children:"Select All"}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"allSentiments",onChange:e=>i(e),checked:3==t.length})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"positive",children:[(0,u.jsx)(c.gc,{icon:"face-smile",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Positive"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"image",id:"positive",onChange:e=>a("1"),checked:t.includes("1")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"neutral",children:[(0,u.jsx)(c.gc,{icon:"face-meh",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Neutral"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"video",id:"neutral",onChange:e=>a("2"),checked:t.includes("2")})]}),(0,u.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,u.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"negative",children:[(0,u.jsx)(c.gc,{icon:"face-frown",iconClass:"text-muted fs-6"}),(0,u.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Negative"})]}),(0,u.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"text",id:"negative",onChange:e=>a("3"),checked:t.includes("3")})]})]})]})]}),(0,u.jsx)("div",{className:"action_gap"})]})};class O extends a.Component{render(){const{actionTabs:e,handleAction:s,selectedActionTags:t,onSelectTag:a,onTagRemove:i,tagsList:l,selectedActionVisibility:n,onSelectVisibility:r}=this.props,h=(e=>[{name:"Public",icon:"eye",fnc:()=>e("public"),propName:"public"},{name:"Private",icon:"eye-slash",fnc:()=>e("private"),propName:"private"},{name:"Assign Tag",icon:"tag",fnc:()=>e("addTag"),propName:"addTag"},{name:"Delete",icon:"trash-can",fnc:()=>e("delete"),propName:"delete"}])(s);return(0,u.jsxs)(u.Fragment,{children:[e&&Object.keys(e).length>0?null:(0,u.jsxs)(d.A,{className:"w-100 mb-2",children:[(0,u.jsxs)(d.A.Toggle,{variant:"outline-secondary",id:"rule-action",className:"border-dashed border-gray text-dark border-1 w-100 p-4 arrow_disabled rounded-2",disabled:!this.props.isTriggerSelected,children:[(0,u.jsx)(c.gc,{icon:"plus",iconClass:"text-muted"}),(0,u.jsx)("span",{className:"fs-9 fw-medium",children:"Add Action"})]}),(0,u.jsx)(d.A.Menu,{className:"w-100",children:h.map((e=>(0,u.jsxs)(d.A.Item,{className:"block-center py-2 mb-1",onClick:e.fnc,children:[(0,u.jsx)(c.gc,{icon:e.icon,iconClass:"text-muted fs-6"}),(0,u.jsx)("span",{className:"menu-title",children:e.name})]})))})]}),e&&Object.keys(e).map(((e,n)=>"public"==e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,u.jsx)(N,{name:"Public",icon:"eye",method:()=>s("public"),action:!0,del:!0})}),1!=n?(0,u.jsx)("div",{className:"action_gap"}):null]}):"private"==e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,u.jsx)(N,{name:"Private",icon:"eye-slash",method:()=>s("private"),action:!0,del:!0})}),1!=n?(0,u.jsx)("div",{className:"action_gap"}):null]}):"addTag"==e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Add Tags",icon:"ri-price-tag-3-line",method:()=>s("addTag","selectedActionTags",[]),action:!0}),(0,u.jsx)(I.A,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",isClearable:!0,options:l,onChange:e=>a(e,"action"),value:""}),t&&t.length>0?(0,u.jsx)("div",{className:"d-flex w-100 flex-wrap w-100 mt-1",children:t.map(((e,s)=>(0,u.jsxs)("div",{className:"badge bg-secondary rounded-pill text-gray-800 border me-1 mt-1 px-2 d-flex align-items-center",style:{top:0,maxWidth:"100%"},children:[(0,u.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,u.jsx)(o.A,{variant:"link",className:"btn p-0 ms-1 text-decoration-none",onClick:i(s,"action"),children:(0,u.jsx)(c.gc,{icon:"xmark",iconClass:"text-muted me-1"})})]})))}):null]}),1!=n?(0,u.jsx)("div",{className:"action_gap"}):null," "]}):"delete"==e?(0,u.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,u.jsx)(N,{name:"Delete",icon:"trash-can",method:()=>s("delete"),action:!0,del:!0})}):null)),e&&Object.keys(e).length>0?e.hasOwnProperty("delete")?null:Object.keys(e).length<2?(0,u.jsxs)(d.A,{className:"w-100 text-center",children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"p-0 border-0 arrow_disabled",children:(0,u.jsx)(c.gc,{type:"light",icon:"circle-plus",iconClass:"text-muted me-0 fs-4"})}),(0,u.jsx)(d.A.Menu,{className:"w-100 more_actions",children:h.map(((s,t)=>3!=t?0==t||1==t?e.hasOwnProperty("public")||e.hasOwnProperty("private")?null:(0,u.jsxs)(d.A.Item,{className:"block-center py-2 mb-1",onClick:s.fnc,children:[(0,u.jsx)(c.gc,{icon:s.icon,iconClass:"text-muted fs-6"}),(0,u.jsx)("span",{className:"menu-title",children:s.name})]}):e.hasOwnProperty(s.propName)?null:(0,u.jsxs)(d.A.Item,{className:"block-center py-2 mb-1",onClick:s.fnc,children:[(0,u.jsx)(c.gc,{icon:s.icon,iconClass:"text-muted fs-6"}),(0,u.jsx)("span",{className:"menu-title",children:s.name})]}):null))})]}):null:null]})}}const E=O;var $=t(73878),V=t(58423),K=t(64323),q=t(54480),z=t(66156),U=t(66345),B=t(14313);var Y=t(49332),W=t(20878),J=t(85608);class G extends a.Component{constructor(){super(...arguments),this.uppyUploader=new Y.A([".csv"]),this.state={text:"Upload Your File",name:""},this.handleFilePickerClick=()=>{const e=document.querySelector('input[type="file"]');e&&e.click()}}componentDidMount(){const{setProfanity:e}=this.props;this.uppyUploader.uppy.on("transloadit:result",((s,t)=>{this.setState({loading:!1,name:t.name},(()=>{e(`${J.$r}${t.id}.${t.ext}`)}))})),this.uppyUploader.uppy.on("upload-progress",((e,s)=>{this.state.text.includes("File")&&this.setState({text:"Loading..."})}))}componentWillUnmount(){this.uppyUploader.uppy.cancelAll()}render(){const{handleTrigger:e,onChangeProfanity:s,preProfanity:t,defaultProf:a,profName:i}=this.props,{text:l,name:r}=this.state;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,u.jsx)(N,{name:"Profanity Filter",desc:"Apply Profanity",icon:"ban",method:()=>e("profanity","profName",""),svgIcon:!0}),(0,u.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,u.jsxs)("div",{className:"d-flex align-items-center w-75",children:[(0,u.jsx)(n.A.Check,{type:"switch",checked:t,onChange:s}),(0,u.jsx)("p",{className:"ms-2 mb-0 cursor-pointer text-ellipsis overflow-hidden w-75",children:t?"Predefined CSV":r||(i?i.split("/").pop():l)})]}),!t&&(0,u.jsx)(b.A,{placement:"top",overlay:(0,u.jsx)(j.A,{children:"Upload CSV"}),children:(0,u.jsx)(o.A,{variant:"outline-secondary",className:"f-center border rounded-circle h-30px w-30px p-0",onClick:()=>t?null:this.handleFilePickerClick(),children:(0,u.jsx)(c.gc,{icon:"arrow-up-to-line",iconClass:"me-0 mt-1 text-muted fs-6"})})}),(0,u.jsx)(b.A,{placement:"top",overlay:(0,u.jsx)(j.A,{children:"Download CSV"}),children:(0,u.jsx)(o.A,{variant:"outline-secondary",className:"f-center border rounded-circle h-30px w-30px p-0",onClick:()=>t?window.open(a):i?window.open(i):null,children:(0,u.jsx)(c.gc,{icon:"arrow-down-to-line",iconClass:"me-0 mt-1 text-muted fs-6"})})})]})]}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{className:"d-none",children:(0,u.jsx)(W.zp,{uppy:this.uppyUploader.uppy,id:"upload_auto_csv"})}),(0,u.jsx)("div",{className:"action_gap"})]})}}const Z=G;var Q=t(41397);class X extends a.Component{constructor(){super(...arguments),this.state={ruleName:"",filterTabs:{},actionTabs:{},feedList:[],tagsList:[],selectedNetworks:[],selectedFeeds:[],selectedMedia:[],selectedTags:[],networkList:[],selectedVisibility:"",selectedActionTags:[],selectedActionVisibility:[],selectedAiType:[],selectedSentiment:[],selectedHandle:"",selectedHashtag:"",selectedKeyword:"",selectedDuplicateAsset:!1,isActionSelected:!1,isTriggerSelected:!1,isError:!1,ruleStatus:!0,isEdit:!1,loading:!1,ruleId:null,prevRuleName:"",preProfanity:!0,profName:"",defaultProf:"https://cloud.tagshop.ai/app/assets/media/profanity.csv",order:null,isShow:!1},this.getRuleData=()=>{const{ruleData:e}=this.props,{feedList:s,defaultProf:t}=this.state;var a={},i={};Object.keys(e).map((l=>{if(e[l]){if("name"==l&&this.setState({ruleName:e[l],prevRuleName:e[l]}),g.includes(l)){if(a[l]=!0,"feeds"==l){const t=s?s.filter((s=>e[l].includes(s.id))):[];this.setState({selectedFeeds:t})}if("networks"==l){const s=e[l].split(",").map(Number);this.setState({selectedNetworks:s})}if("assetsType"==l){const s=[];e[l].includes("1")&&s.push("1"),e[l].includes("3")&&s.push("3,5"),e[l].includes("2")&&s.push("2,4"),this.setState({selectedMedia:s})}"recommend"==l&&this.setState({selectedAiType:e[l].split(",")}),"sentiment"==l&&this.setState({selectedSentiment:e[l].split(",")}),"showHide"==l&&this.setState({selectedVisibility:String(e[l])}),"tags"==l&&this.setState({selectedTags:e[l].split(",")}),"handle"==l&&this.setState({selectedHandle:e[l]}),"hashtag"==l&&this.setState({selectedHashtag:e[l]}),"keyword"==l&&this.setState({selectedKeyword:e[l]}),"duplicateAsset"==l&&this.setState({selectedDuplicateAsset:!0}),"profanity"==l&&this.setState({preProfanity:e.profanity==t,profName:e.profanity==t?"":e.profanity})}"actions"==l&&e[l].map((e=>{1==e.type&&(i.public=!0),2==e.type&&(i.private=!0),3==e.type&&(i.addTag=!0,this.setState({selectedActionTags:e.value.split(",")})),4==e.type&&(i.delete=!0)}))}})),this.setState({filterTabs:a,actionTabs:i,ruleName:e.name,ruleId:e.id,isActionSelected:!0,isTriggerSelected:!0,ruleStatus:e.status,isEdit:!0,order:e.order})},this.handleTrigger=(e,s,t)=>{var{filterTabs:a}=this.state;a[e]?(delete a[e],this.setState({filterTabs:a,[s]:t},(()=>this.enableAction())),"profName"==s&&this.setState({preProfanity:!0},(()=>this.enableAction()))):"duplicateAsset"==e?(a[e]=!0,this.setState({filterTabs:a,selectedDuplicateAsset:!0},(()=>this.enableAction()))):(a[e]=!0,this.setState({filterTabs:a}),"profanity"==e&&this.enableAction())},this.handleAction=(e,s,t)=>{var{actionTabs:a}=this.state;a[e]?(delete a[e],"delete"!=e?this.setState({[s]:t},(()=>this.enableCreateRule())):this.enableCreateRule()):a[e]=!0,this.setState({actionTabs:a},(()=>this.enableCreateRule()))},this.setNetworks=()=>{const{networks:e}=this.props;this.setState({networkList:e.filter((e=>![33,34,35,0].includes(e.id)))})},this.setFeeds=()=>{const{feeds:e}=this.props;this.setState({feedList:e.filter((e=>0!=e.networkId))})},this.enableAction=()=>{const{selectedNetworks:e,selectedFeeds:s,selectedMedia:t,selectedTags:a,selectedVisibility:i,selectedHandle:l,selectedHashtag:n,selectedKeyword:r,selectedDuplicateAsset:c,selectedAiType:d,selectedSentiment:o,preProfanity:h,filterTabs:m,profName:p}=this.state;e.length>0||s.length>0||t.length>0||a.length>0||i.length>0||l||r||n||c||d.length>0||o.length>0||m.profanity&&(h||p)?this.setState({isTriggerSelected:!0}):this.setState({isTriggerSelected:!1})},this.setDefRule=e=>{const{isEdit:s}=this.state;1==e?(this.resetRule(s),setTimeout((()=>{this.setState({filterTabs:{duplicateAsset:!0},selectedDuplicateAsset:!0,isTriggerSelected:!0,actionTabs:{private:!0},isActionSelected:!0,ruleName:"Bye-bye Duplicates"})}),10)):2==e?(this.resetRule(s),setTimeout((()=>{this.setState({filterTabs:{sentiment:!0},selectedSentiment:["3"],isTriggerSelected:!0,actionTabs:{private:!0},isActionSelected:!0,ruleName:"Negativity Neutralizer"})}),10)):3==e&&(this.resetRule(s),setTimeout((()=>{this.setState({filterTabs:{recommend:!0},selectedAiType:["1"],isTriggerSelected:!0,actionTabs:{public:!0},isActionSelected:!0,ruleName:"AI Content Spotlight"})}),10))},this.onSelectNetwork=e=>{let{selectedNetworks:s}=this.state;s.includes(e)?(18==e&&(s=s.filter((e=>2!=e))),s=s.filter((s=>s!=e))):(18==e&&s.push(2),s.push(e)),this.setState({selectedNetworks:s},(()=>this.enableAction()))},this.selectAllNetworks=e=>{const{networkList:s}=this.state;var t=[];e.target.checked&&(t=s.map((e=>e.id))).push(2),this.setState({selectedNetworks:t},(()=>this.enableAction()))},this.onChangeRuleName=e=>{""==e.target.value?this.setState({ruleName:e.target.value,isError:!0}):this.setState({ruleName:e.target.value,isError:!1})},this.onChangeRuleStatus=e=>this.setState({ruleStatus:!this.state.ruleStatus}),this.onSelectFeed=e=>{let{selectedFeeds:s}=this.state;s.includes(e)?s=s.filter((s=>s!=e)):s.push(e),this.setState({selectedFeeds:s},(()=>this.enableAction()))},this.selectAllFeeds=e=>{const{feedList:s}=this.state;this.setState({selectedFeeds:e.target.checked?s:[]},(()=>this.enableAction()))},this.onSelectMediaType=e=>{let{selectedMedia:s}=this.state;s.includes(e)?s=s.filter((s=>s!=e)):s.push(e),this.setState({selectedMedia:s},(()=>this.enableAction()))},this.selectAllMediaTypes=e=>this.setState({selectedMedia:e.target.checked?["1","2,4","3,5"]:[]},(()=>this.enableAction())),this.onSelectAiType=e=>{let{selectedAiType:s}=this.state;s.includes(e)?s=s.filter((s=>s!=e)):s.push(e),this.setState({selectedAiType:s},(()=>this.enableAction()))},this.selectAllAiTypes=e=>this.setState({selectedAiType:e.target.checked?["1","2","3"]:[]},(()=>this.enableAction())),this.onSelectSentiment=e=>{let{selectedSentiment:s}=this.state;s.includes(e)?s=s.filter((s=>s!=e)):s.push(e),this.setState({selectedSentiment:s},(()=>this.enableAction()))},this.selectAllSentiments=e=>this.setState({selectedSentiment:e.target.checked?["1","2","3"]:[]},(()=>this.enableAction())),this.onSelectTag=(e,s)=>{const{selectedTags:t,selectedActionTags:a}=this.state;"filter"==s?(t.push(e.value),this.setState({selectedTags:t},(()=>this.enableAction()))):(a.push(e.value),this.setState({selectedActionTags:a},(()=>this.enableCreateRule())))},this.onTagRemove=(e,s)=>t=>{let{selectedTags:a,selectedActionTags:i}=this.state;"filter"==s?(a.splice(e,1),this.setState({selectedTags:a},(()=>this.enableAction()))):(i.splice(e,1),this.setState({selectedActionTags:i},(()=>this.enableCreateRule())))},this.onSelectVisibility=(e,s)=>{"filter"==s?this.setState({selectedVisibility:e},(()=>this.enableAction())):this.setState({selectedActionVisibility:e},(()=>this.enableCreateRule()))},this.onChangeHandle=e=>this.setState({selectedHandle:e.target.value},(()=>this.enableAction())),this.onChangeHashtag=e=>this.setState({selectedHashtag:e.target.value},(()=>this.enableAction())),this.onChangeKeyword=e=>this.setState({selectedKeyword:e.target.value},(()=>this.enableAction())),this.onChangeProfanity=()=>this.setState((e=>({preProfanity:!e.preProfanity})),(()=>this.enableAction())),this.setProfanity=e=>this.setState({profName:e},(()=>this.enableAction())),this.enableCreateRule=()=>{const{selectedActionTags:e,selectedActionVisibility:s,isTriggerSelected:t,actionTabs:a}=this.state;t&&(e.length>0||a.public||a.delete||a.private)?this.setState({isActionSelected:!0}):this.setState({isActionSelected:!1})},this.resetRule=e=>{this.setState({ruleName:"",filterTabs:{},actionTabs:{},selectedNetworks:[],selectedFeeds:[],selectedMedia:[],selectedTags:[],selectedVisibility:"",selectedActionTags:[],selectedActionVisibility:[],selectedAiType:[],selectedSentiment:[],selectedHandle:"",selectedHashtag:"",selectedKeyword:"",selectedDuplicateAsset:!1,isActionSelected:!1,isTriggerSelected:!1,isError:!1,ruleStatus:!0,isEdit:!!e,loading:!1,ruleId:e?this.state.ruleId:null,prevRuleName:e?this.state.prevRuleName:"",preProfanity:!0,profName:"",defaultProf:"https://cloud.tagshop.ai/app/assets/media/profanity.csv"})},this.onSubmitData=()=>{const{ruleName:e,isEdit:s,prevRuleName:t}=this.state,{addNewRule:a,ruleList:i,updateRule:l,modifyRule:n}=this.props;if(e.length>0){const a=i&&i.length>0?i.filter((s=>String(s.name).toLowerCase()==String(e).toLowerCase())):[];if(a&&a.length>0&&(!s||a[0].name!=t))(0,w.r$)("Rule name already exists. ");else{n(this.createPayload())}}else this.setState({isError:!0})},this.createPayload=()=>{const{actionTabs:e,filterTabs:s,ruleName:t,selectedFeeds:a,selectedNetworks:i,selectedTags:l,selectedVisibility:n,selectedMedia:r,selectedActionTags:c,selectedHandle:d,selectedHashtag:o,selectedKeyword:h,ruleStatus:m,selectedDuplicateAsset:p,selectedAiType:g,selectedSentiment:u,isEdit:x,ruleId:f,preProfanity:b,profName:j,defaultProf:y,order:N}=this.state,{ruleList:w}=this.props;let v=[],S=[],k=[],A=[],T="",C=[],F="",I="",R="",P=0,L=[],D=[],_="";Object.keys(s).map((e=>{"feeds"==e&&a.length>0&&a.map((e=>v.push(e.id))),"networks"==e&&i.length>0&&i.map((e=>S.push(e))),"tags"==e&&l.length>0&&l.map((e=>k.push(e))),"assetsType"==e&&r.length>0&&r.map((e=>A.push(e))),"showHide"==e&&n.length>0&&(T=n),"handle"==e&&d&&(F=d),"hashtag"==e&&o&&(I=o),"keyword"==e&&h&&(R=h),"duplicateAsset"==e&&p&&(P=1),"recommend"==e&&g.length>0&&g.map((e=>L.push(e))),"sentiment"==e&&u.length>0&&u.map((e=>D.push(e))),"profanity"==e&&(b||j)&&(_=b?y:j)})),Object.keys(e).map((e=>{let s="";"addTag"==e&&c.length>0&&(c.map((e=>s+=e+",")),s=s.slice(0,-1),C.push({type:3,value:s})),"public"==e&&C.push({type:1,value:"1"}),"private"==e&&C.push({type:2,value:"1"}),"delete"==e&&C.push({type:4,value:""})}));let H={name:t,status:m?1:0,feeds:String(v),networks:String(S),tags:String(k),assetsType:String(A),showHide:Number(T),handle:F,hashtag:I,keyword:R,duplicateAsset:P,recommend:String(L),sentiment:String(D),profanity:String(_),wallId:localStorage.getItem("wallId"),actions:C,actionsType:1,order:w.length};return H=x?{...H,id:f,actionsType:2,order:N}:H,H}}componentDidMount(){const{networks:e,getNetworks:s,feeds:t,getFeeds:a,getTags:i,tagsList:l}=this.props;e?this.setNetworks():s(),t?this.setFeeds():a(),l.length<=0&&i()}componentDidUpdate(e){const{defRule:s,defIndex:t,ruleData:a,reset:i,editId:l,editStatus:n,editOrder:r}=this.props;e.networks!=this.props.networks&&this.setNetworks(),e.feeds!=this.props.feeds&&this.setFeeds(),0==e.defRule&&1==s&&0!=t&&this.setDefRule(t),l==this.state.ruleId&&null!=n&&e.editStatus!=n&&this.setState({ruleStatus:n}),l==this.state.ruleId&&null!=r&&e.editOrder!=r&&this.setState({order:r}),!(0,Q.isEqual)(e.ruleData,a)&&Object.keys(a).length>0&&this.getRuleData(),0==e.reset&&1==i&&this.resetRule()}render(){const{filterTabs:e,actionTabs:s,ruleName:t,isError:a,ruleStatus:i,isEdit:n,duplicateAssets:r,networkList:h,feedList:m,preProfanity:p,defaultProf:g,profName:x,isTriggerSelected:b,isActionSelected:j,isShow:y}=this.state,{tagsList:N,spinner:w}=this.props;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"d-flex flex-column flex-grow-1 justify-content-between mb-10 pb-10 overflow-auto rule_action mt-5 mt-lg-0",children:[(0,u.jsxs)("div",{className:"mb-5 mx-auto w-100 py-lg-10 py-4 px-4",style:{maxWidth:"350px"},children:[(0,u.jsxs)("div",{className:"mb-2 w-100",children:[(0,u.jsx)("input",{type:"text",className:"form-control "+(a?"is-invalid":""),placeholder:"Enter Rule Name",onChange:this.onChangeRuleName,value:t}),a&&(0,u.jsx)("div",{className:"invalid-feedback d-block",children:"Enter rule name."})]}),(0,u.jsxs)("label",{className:"form-check form-switch mb-3 fw-medium mb-8",children:[(0,u.jsx)("input",{className:"form-check-input me-2",type:"checkbox",checked:i,onChange:this.onChangeRuleStatus}),"Rule Status"]}),e&&Object.keys(e).length>0?null:(0,u.jsxs)(d.A,{className:"w-100 add_rule",children:[(0,u.jsxs)(d.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"border-dashed border-gray border-1 w-100 p-4 arrow_disabled rounded-2",children:[(0,u.jsx)(c.gc,{icon:"plus",iconClass:"text-muted"}),(0,u.jsx)("span",{className:"fs-9 fw-medium",children:"Add Trigger"})]}),(0,u.jsx)(f,{handleTrigger:this.handleTrigger,filterTabs:e,duplicateAssets:r})]}),e&&Object.keys(e).map((e=>"networks"==e?(0,u.jsx)(S,{handleTrigger:this.handleTrigger,selectedNetworks:this.state.selectedNetworks,onSelectNetwork:this.onSelectNetwork,networkList:h,selectAllNetworks:this.selectAllNetworks},e):"feeds"==e?(0,u.jsx)(C,{handleTrigger:this.handleTrigger,selectedFeeds:this.state.selectedFeeds,onSelectFeed:this.onSelectFeed,feedList:m,selectAllFeeds:this.selectAllFeeds},e):"assetsType"==e?(0,u.jsx)(F,{handleTrigger:this.handleTrigger,selectedMedia:this.state.selectedMedia,onSelectMediaType:this.onSelectMediaType,selectAllMediaTypes:this.selectAllMediaTypes}):"tags"==e?(0,u.jsx)(R,{handleTrigger:this.handleTrigger,selectedTags:this.state.selectedTags,onSelectTag:this.onSelectTag,onTagRemove:this.onTagRemove,tagsList:N},e):"showHide"==e?(0,u.jsx)(P,{handleTrigger:this.handleTrigger,onSelectVisibility:this.onSelectVisibility,selectedVisibility:this.state.selectedVisibility},e):"handle"==e?(0,u.jsx)(L,{handleTrigger:this.handleTrigger,onChangeHandle:this.onChangeHandle,selectedHandle:this.state.selectedHandle},e):"hashtag"==e?(0,u.jsx)(D,{handleTrigger:this.handleTrigger,onChangeHashtag:this.onChangeHashtag,selectedHashtag:this.state.selectedHashtag},e):"keyword"==e?(0,u.jsx)(_,{handleTrigger:this.handleTrigger,onChangeKeyword:this.onChangeKeyword,selectedKeyword:this.state.selectedKeyword},e):"duplicateAsset"==e?(0,u.jsx)(H,{handleTrigger:this.handleTrigger,duplicateAssets:r},e):"recommend"==e?(0,u.jsx)(k,{handleTrigger:this.handleTrigger,selectedAiType:this.state.selectedAiType,onSelectAiType:this.onSelectAiType,selectAllAiTypes:this.selectAllAiTypes}):"sentiment"==e?(0,u.jsx)(M,{handleTrigger:this.handleTrigger,selectedSentiment:this.state.selectedSentiment,onSelectSentiment:this.onSelectSentiment,selectAllSentiments:this.selectAllSentiments}):"profanity"==e?(0,u.jsx)(Z,{handleTrigger:this.handleTrigger,onChangeProfanity:this.onChangeProfanity,preProfanity:p,defaultProf:g,profName:x,setProfanity:this.setProfanity}):null)),e&&Object.keys(e).length>0&&Object.keys(e).length<13?(0,u.jsxs)(d.A,{className:"w-100 text-center add_more_rule",show:y,onToggle:s=>this.setState({isShow:12!=Object.keys(e).length&&s}),children:[(0,u.jsx)(d.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"p-0 border-0 arrow_disabled d-flex m-auto",children:(0,u.jsx)(c.gc,{type:"light",icon:"circle-plus",iconClass:"text-muted me-0 fs-4"})}),(0,u.jsx)(f,{handleTrigger:this.handleTrigger,filterTabs:e,duplicateAssets:r})]}):null,(0,u.jsx)(E,{actionTabs:s,handleAction:this.handleAction,isTriggerSelected:this.state.isTriggerSelected,selectedActionTags:this.state.selectedActionTags,onSelectTag:this.onSelectTag,onTagRemove:this.onTagRemove,tagsList:N,selectedActionVisibility:this.state.selectedActionVisibility,onSelectVisibility:this.onSelectVisibility})]}),(0,u.jsx)("div",{className:"px-4",children:(0,u.jsx)("div",{className:"my-2 border border-warning alert alert-warning",children:"Note*: AI-driven rules may take some time to activate. During this period, affected posts will be temporarily moved to a private tab. Once activated, the rules will adhere to the established guidelines."})}),(0,u.jsx)(l.A.Footer,{className:"f-center justify-content-end position-absolute bottom-0 start-0 w-100 py-4 px-4 px-xl-6 bg-body",children:(0,u.jsxs)("div",{className:"block-center",children:[(0,u.jsx)(o.A,{onClick:()=>this.resetRule(),className:"btn btn-secondary btn-min-w me-3",children:"Cancel"}),(0,u.jsxs)(o.A,{type:"button",className:"btn btn-primary btn-min-w "+(w?"spinner":""),disabled:!(b&&j),onClick:()=>this.onSubmitData(),children:[n?"Update":"Create"," Rule"]})]})})]})})}}const ee=(0,$.Ng)((e=>{var s,t,a,i;return{feeds:null===(s=e.manageFeeds)||void 0===s?void 0:s.feeds,networks:null===(t=e.addFeedReducer)||void 0===t||null===(a=t.addFeedNetworks)||void 0===a?void 0:a.networks,tagsList:null===(i=e.tags)||void 0===i?void 0:i.tagsList}}),(e=>({getNetworks:()=>e((0,V.Ux)()),getFeeds:()=>e((0,K.LF)()),getTags:()=>e((()=>{var e,s,t,a;const i=null===(e=z.A.getState().authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(t=s.user_data)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.ownerId;return e=>{let s=[];const t=U.onz?U.kuD:`${U.kuD}test/tagshop/`;(new B.A).get(`${t}media/${i}/tags_${i}.json`).then((t=>{const{data:a}=t;s=Object.values(a).filter((e=>""!==e)).map((e=>({value:e,label:e}))),e({type:q.ES0,payload:s})})).catch((t=>{e({type:q.ES0,payload:s})}))}})())})))(X);var se=t(59051),te=t.n(se);class ae extends a.Component{render(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-100",children:(0,u.jsx)("div",{className:"border-bottom p-4 h-56px f-center justify-content-start",children:(0,u.jsx)("div",{className:"sk_line w-100px d-block h-14px"})})}),(0,u.jsxs)("div",{className:"d-flex flex-row align-items-center border-bottom py-3 px-4 h-46px",children:[(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"sk_line h-14px w-90px"})}),(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"sk_line h-14px w-40px"})}),(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"sk_line h-14px w-80px"})}),(0,u.jsx)("div",{className:"w-25 f-center justify-content-end",children:(0,u.jsx)("div",{className:"sk_line h-14px w-60px"})})]}),(0,w.OZ)(3).map(((e,s)=>(0,u.jsxs)("div",{className:"d-flex align-items-center flex-row border-bottom py-2 px-4 h-48px",children:[(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"d-flex align-items-center flex-row",children:(0,u.jsx)("div",{className:"sk_line w-60px h-12px pe-4"})})}),(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"sk_line w-32px h-12px me-2"})}),(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)("div",{className:"pe-3",children:(0,u.jsx)("div",{className:"sk_line w-90px h-12px"})})}),(0,u.jsx)("div",{className:"w-25 f-center justify-content-end",children:(0,u.jsx)("div",{className:"sk_rect h-20px w-20px"})})]})))]})}}class ie extends a.Component{constructor(e){super(e),this.getRules=e=>{e||this.setState({loading:!0}),(new B.A).get(`${U.OYq}/${localStorage.getItem("wallId")}`).then((e=>{const{responseData:s}=e.data;this.setState({ruleList:s,loading:!1})}))},this.modifyRule=(e,s,t)=>{const{editId:a,ruleList:i,editStatus:l}=this.state,n=(0,w.HA)();s||this.setState({spinner:!0}),(new B.A).post(`${U.izg}`,e).then((s=>{const{responseMessage:i}=s.data;(0,w._q)(n,"success",i),this.setState({spinner:!1}),1==e.actionsType&&this.setState({reset:!0},(()=>setTimeout((()=>{this.setState({reset:!1})}),100))),3==e.actionsType&&t==a&&this.setState({editStatus:e.status},(()=>setTimeout((()=>{this.setState({editStatus:null})}),10))),this.getRules(!0)})).catch((e=>{this.setState({spinner:!1}),(0,w._q)(n,"error","Some error occured, please try again later.")}))},this.deleteRule=e=>{let{ruleList:s,editId:t,isDelete:a}=this.state;const i=(0,w.HA)();this.setState({isDelete:!0}),(new B.A).delete(`${U.rkf}/${e}/${localStorage.getItem("wallId")}`).then((a=>{const{responseMessage:l}=a.data;(0,w._q)(i,"success",l),e==t&&this.setState({reset:!0},(()=>setTimeout((()=>{this.setState({reset:!1})}),100))),this.setState({ruleList:s.filter((s=>s.id!=e)),isDelete:!1})})).catch((e=>{(0,w._q)(i,"error","Some error occured, please try again later.")}))},this.changeStatus=(e,s)=>{const t={id:e,wallId:localStorage.getItem("wallId"),status:Number(s),actionsType:3};this.modifyRule(t,!0,e)},this.setDefault=e=>{this.setState({defRule:!0,defIndex:e},(()=>setTimeout((()=>{this.setState({defRule:!1,defIndex:0})}),200)))},this.state={defRule:!1,defIndex:0,ruleList:[],loading:!1,ruleData:{},reset:!1,wallId:localStorage.getItem("wallId"),spinner:!1,editId:null,editStatus:null,editOrder:null,isDelete:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){const{ruleList:e}=this.state;e.length<=0&&this.getRules()}componentDidUpdate(){this.state.wallId!=localStorage.getItem("wallId")&&(this.setState({reset:!0,wallId:localStorage.getItem("wallId")},(()=>setTimeout((()=>{this.setState({reset:!1})}),100))),this.getRules())}onDragEnd(e){if(!e.destination)return;const s=((e,s,t)=>{const a=Array.from(e),[i]=a.splice(s,1);return a.splice(t,0,i),a})(this.state.ruleList,e.source.index,e.destination.index),t=(0,w.HA)();let a=[];s.map(((e,s)=>a.push({[e.id]:s})));const i={rules:a,wallId:localStorage.getItem("wallId")};(new B.A).post(U.w3J,i).then((e=>{let s=a.find((e=>e.hasOwnProperty(this.state.editId)));s&&this.setState({editOrder:s[this.state.editId]},(()=>setTimeout((()=>{this.setState({editOrder:null})}),10))),this.getRules(!0);const{responseMessage:i}=e.data;(0,w._q)(t,"success",i)})).catch((e=>{(0,w._q)(t,"error","Some error occured, please try again later.")})),this.setState({ruleList:s})}render(){const{defRule:e,defIndex:s,ruleList:t,loading:a,ruleData:d,reset:o,spinner:g,editId:x,editStatus:f,editOrder:b,isDelete:j}=this.state;return(0,u.jsx)("div",{className:"d-flex flex-column flex-column-fluid w-100 flex-position-center full-content",children:(0,u.jsx)(i.A,{fluid:!0,children:(0,u.jsxs)(l.A,{className:"a_header_",children:[(0,u.jsx)(l.A.Header,{children:(0,u.jsx)("div",{className:"f-between flex-wrap w-100",children:(0,u.jsx)("div",{className:"d-flex align-items-center flex-wrap my-2",children:(0,u.jsx)("h1",{className:"text-dark font-weight-bold me-4 fs-6 mb-0",children:"Auto Pilot"})})})}),(0,u.jsxs)(l.A.Body,{className:"d-flex flex-wrap flex-lg-nowrap align-items-start p-0 aside_body flex-lg-row-reverse align-items-stretch",children:[(0,u.jsxs)("div",{className:"d-lg-flex flex-column flex-shrink-0 overflow-auto rule_guide w-100",children:[a?(0,u.jsx)(ae,{}):0==t.length?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-100",children:(0,u.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Here's all that you can do:"})}),(0,u.jsx)("div",{className:"px-5 mt-3",children:null!==h&&void 0!==h&&h.length?h.map((e=>(0,u.jsxs)("div",{className:" rule-box d-flex flex-column position-relative pb-2",children:[(0,u.jsxs)("h5",{className:"d-flex fs-7 mb-1",children:[(0,u.jsx)("span",{className:"bg-body d-inline-block",style:{zIndex:"9"},children:(0,u.jsx)("div",{className:"f-center me-2 h-24px w-24px rounded-1 bg-light-primary me-2",style:{},children:(0,u.jsx)(c.gc,{icon:e.icon,iconClass:"text-primary"})})}),e.title]}),(0,u.jsx)("p",{className:"fs-8 ps-5 ms-3",children:e.text})]}))):null})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-100",children:(0,u.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Manage Rules"})}),(0,u.jsx)("div",{className:"d-flex flex-row border-bottom py-3 px-4",children:null!==p&&void 0!==p&&p.length?p.map(((e,s)=>(0,u.jsx)("div",{className:"w-25 fw-semibold "+(3===s?"text-end":""),children:e.heading},s))):null}),(0,u.jsx)(r.JY,{onDragEnd:this.onDragEnd,children:(0,u.jsx)(r.gL,{droppableId:"droppable",isDropDisabled:t.length<2,children:(e,s)=>(0,u.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[t.map(((e,s)=>(0,u.jsx)(r.sx,{draggableId:String(e.id),index:s,children:(s,t)=>{return(0,u.jsx)("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:(t.isDragging,a=s.draggableProps.style,{userSelect:"none",borderBottom:"1px solid #F5F5F5",...a}),children:(0,u.jsx)("div",{className:"",children:(0,u.jsxs)("div",{className:"d-flex align-items-center flex-row py-2 px-4 pe-1",children:[(0,u.jsxs)("div",{className:"w-25 text-gray-500 text-break pe-4",children:[(0,u.jsx)(c.gc,{icon:"grip-dots-vertical",iconClass:"me-2 text-muted"}),e.name]}),(0,u.jsx)("div",{className:"w-25",children:(0,u.jsx)(n.A.Check,{type:"switch",checked:e.status,onChange:()=>this.changeStatus(e.id,!e.status)})}),(0,u.jsx)("div",{className:"w-25",children:e.lastExecuted?te().unix(e.lastExecuted).format("DD MMM YYYY"):"--"}),(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-end w-25 text-end",children:[(0,u.jsx)("button",{className:"border-0 btn btn-icon btn-sm bg-transparent",style:{background:"#F5F5F5"},onClick:()=>this.setState({ruleData:e,editId:e.id},(()=>setTimeout((()=>{this.setState({ruleData:{}})}),100))),children:(0,u.jsx)(c.gc,{icon:"pen-to-square",iconClass:"me-1 text-muted"})}),(0,u.jsx)("button",{className:"border-0 btn btn-icon btn-sm bg-transparent",style:{background:"#F5F5F5"},onClick:()=>this.deleteRule(e.id),disabled:j,children:(0,u.jsx)(c.gc,{icon:"trash-can",iconClass:"me-1 text-muted"})})]})]})})});var a}},e.id))),e.placeholder]})})})]}),(0,u.jsx)("div",{className:"w-100 mb-4 mt-5",children:(0,u.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Here's Default Rules List"})}),(0,u.jsx)("div",{className:"px-5 rules-list",children:null!==m&&void 0!==m&&m.length?m.map(((e,s)=>(0,u.jsx)("div",{className:"d-flex rounded-1 border border-dashed border primary p-4 mb-3 cursor-pointer prefix_rule",onClick:()=>this.setDefault(s+1),children:(0,u.jsxs)("div",{className:"d-flex flex-column",children:[(0,u.jsxs)("h5",{className:"d-flex fs-7 mb-1",children:[(0,u.jsx)("div",{className:`f-center me-2 h-24px w-24px rounded-1 bg-light-${e.class}`,children:(0,u.jsx)(c.gc,{icon:e.icon,iconClass:`text-${e.class}`})}),e.title]}),(0,u.jsx)("p",{className:"ps-5 ms-3 mb-0",children:e.text})]})}))):null})]}),(0,u.jsx)("div",{className:"d-flex flex-grow-1 position-relative",children:(0,u.jsx)(ee,{defRule:e,defIndex:s,modifyRule:this.modifyRule,ruleList:t,ruleData:d,reset:o,spinner:g,editId:x,editStatus:f,editOrder:b})})]})]})})})}}const le=ie}}]);