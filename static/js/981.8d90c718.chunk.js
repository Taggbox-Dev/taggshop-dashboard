"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[981],{44981:function(t,e,n){n.r(e);var a=n(15671),s=n(43144),i=n(60136),o=n(29388),l=n(72791),r=n(60364),c=n(85650),_=n(80925),u=n(80184),d=function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},m=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){var t;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={isOpen:!1,step:1,wall_id:null,name:null,email:null,upload_image:[],receiveMail:!1,tandc:!0,nameError:!1,emailError:!1},t.onShowCloseSubmitPicPopUp=function(e){t.props.wall},t.updateImageWithData=function(e){var n=t.state.upload_image;n&&n.length<5&&(n.push(e),t.setState({upload_image:n}))},t.onUpdateImageAddCaption=function(e){return function(n){var a=t.state.upload_image;a&&a.length>0&&a[e]&&(a[e].caption=n.target.value,a[e].review="",a[e].rating=0,t.setState({upload_image:a}))}},t.onUpdateImageAddReview=function(e){return function(n){var a=t.state.upload_image;a&&a.length>0&&a[e]&&(a[e].review=n.target.value,a[e].caption="",t.setState({upload_image:a}))}},t.onUpdateImageAddRatings=function(e,n){var a=t.state.upload_image;a&&a.length>0&&a[n]&&(a[n].caption="",a[n].rating=e,t.setState({upload_image:a}))},t.onUpdateStep=function(e){return function(n){t.setState({step:e})}},t.onTextName=function(e){t.setState({name:e.target.value,nameError:!1},(function(){null!=t.state.name&&0!=t.state.name.length||t.setState({nameError:!0})}))},t.onTextEmail=function(e){t.setState({email:e.target.value,emailError:!1},(function(){null!=t.state.email&&0!=t.state.email.length&&d(t.state.email)&&!t.state.email.includes("mailinator")||t.setState({emailError:!0})}))},t.onSubmitData=function(e){var n=t.state,a=n.name,s=n.email,i=n.upload_image,o=n.tandc,l=n.receiveMail,r=t.props.wallId;o&&a&&a.length>0&&s&&s.length>0&&d(s)&&!s.includes("mailinator")&&i&&i.length>0&&o?(0,c.uM)({wall_id:r,name:a,email:s,upload_image:i,receive_mail:l}).then((function(e){t.setState({step:3})})).catch((function(t){})):(null!=t.state.name&&0!=t.state.name.length||t.setState({nameError:!0}),null!=t.state.email&&0!=t.state.email.length&&d(t.state.email)&&!s.includes("mailinator")||t.setState({emailError:!0}))},t.onUpdatereceiveMail=function(e){var n=t.state.receiveMail;t.setState({receiveMail:!n})},t.onUpdatetandc=function(e){var n=t.state.tandc;t.setState({tandc:!n})},t.removeProductImage=function(e){return function(n){var a=t.state.upload_image;a&&a.length>0&&a.splice(e,1),t.setState({upload_image:a})}},t}return(0,s.Z)(n,[{key:"render",value:function(){var t,e,n=this.props,a=n.wall,s=n.onsite_status,i=a.UgcSettings,o=s?{backgroundColor:i.onsite_btn_color,borderColor:i.onsite_btn_color,color:i.onsite_btn_txt_color}:"",l={fontSize:a.UgcSettings.btn_fontSize+"px",fontFamily:a.UgcSettings.onsite_css_font_btn};return(0,u.jsx)(u.Fragment,{children:0!==s?(0,u.jsx)("div",{id:"tb_post_submit_container_button",className:"50"!=(null===a||void 0===a||null===(t=a.Personalization)||void 0===t?void 0:t.commerceTheme)?"tb_post_submit_container":"ts_gst__post_submit_container_button",children:"50"!=(null===a||void 0===a||null===(e=a.Personalization)||void 0===e?void 0:e.commerceTheme)?(0,u.jsx)("div",{className:"btn-scan",children:(0,u.jsxs)("div",{style:o,className:"tb_post_submit_btn",onClick:this.onShowCloseSubmitPicPopUp,children:[1==a.UgcSettings.onsite_qr_code_status?(0,u.jsx)("div",{className:"qr-image",children:(0,u.jsx)(_.Z,{level:"L",size:60,value:a.UgcSettings.onsite_popup_url})}):null,i.onsite_qr_code_btn_text?(0,u.jsxs)(u.Fragment,{children:[1==a.UgcSettings.onsite_qr_code_status?(0,u.jsx)("div",{className:"ts__qr_separator",children:(0,u.jsx)("div",{})}):"",(0,u.jsx)("div",{className:"ts_qr-text  tb-cTSfont-".concat(a.UgcSettings.onsite_font_varient_btn),style:l,children:(0,u.jsx)("div",{className:"ts_qr-text_wrap tb-cTSfont-".concat(a.UgcSettings.onsite_font_varient_btn),style:l,children:s||i.onsite_qr_code_status?i.onsite_qr_code_btn_text:s?i.onsite_btn_txt:"Submit a Post"})})]}):""]})}):(0,u.jsx)("div",{className:"ts_gst_btn-scan",style:o,children:(0,u.jsxs)("div",{className:"ts_gst_post_submit_btn",onClick:this.onShowCloseSubmitPicPopUp,children:[(0,u.jsxs)("div",{className:"ts_gst_qr-image",children:["1"==a.UgcSettings.onsite_qr_code_status?(0,u.jsx)(_.Z,{level:"L",size:60,value:a.UgcSettings.onsite_popup_url}):"",(0,u.jsx)("div",{className:"ts_gst_qr-text  tb-cTSfont-".concat(a.UgcSettings.font_varient),style:l,children:(0,u.jsx)("div",{className:"ts_gst_qr-text_wrap ".concat("1"==a.UgcSettings.onsite_qr_code_status?"wt_qrcode":"wo_qrcode"),children:i.onsite_qr_code_status&&s||i.onsite_qr_code_status?i.onsite_qr_code_btn_text:s?i.onsite_btn_txt:"Submit a Post"})})]}),(0,u.jsx)("div",{className:"ts_gst_qr-image_mobile",children:" Add Your Photo "})]})})}):""})}}]),n}(l.Component);e.default=(0,r.$j)((function(t){return{wallId:t.appData.wallID,onsite_status:t.appData.onsite_status}}),(function(t){return{showPopUP:function(e){return t((0,c.Bm)(e))}}}))(m)}}]);
//# sourceMappingURL=981.8d90c718.chunk.js.map