(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9194],{48087:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>S});var i=o(9950),a=o(43927),l=o(52867),s=o(1391),n=o(41881),r=o(73878),d=o(74767),u=o(46256),p=o.n(u),h=o(66345);const c=p()(`${h._QT}`,{transports:["websocket"],transport:["websocket"],upgrade:!0});o(47208);var v=o(1480),g=o(28981),m=o(44414);class w extends i.Component{constructor(){super(...arguments),this.state={init:!1,showFrePlan:!1,shopifyLogin:localStorage.getItem("shopifyLogin"),loading:!1,changePrice:!0,showContactUs:!1},this.SignUpPlanUpdate=async e=>{const{authorized:t}=this.props;this.setState({loading:!0});const o=(0,l.HA)(),i=new n.A;try{var s,r,d,u,p,g,m;if(200!==(await(0,a.yL)(e)).data.response_code)throw new Error("Plan update failed");const n=(null===t||void 0===t||null===(s=t.token)||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id)||(null===t||void 0===t||null===(d=t.userData)||void 0===d||null===(u=d.user_data)||void 0===u?void 0:u.user.id)||localStorage.getItem("ownerId"),f="shopify"===(null===t||void 0===t||null===(p=t.userData)||void 0===p||null===(g=p.user_data)||void 0===g||null===(m=g.sessionData)||void 0===m?void 0:m.createFrom),I=()=>{this.setState({loading:!1,init:!0}),localStorage.removeItem("steps"),i.remove("shoponUrl"),setTimeout((()=>{window.location.replace(`${h.btP}walls/home?id=tagshop`)}),100)};if(f)localStorage.removeItem("shopifyLogin"),localStorage.removeItem("steps"),setTimeout((()=>{(0,v.Tn)(localStorage.getItem("shopId"),(()=>{this.props.getUserInfo(this.props.history,`${h.btP}init/index/shopify`)}))}),100);else{w="planUpdated",S={id:n,plan:""},c.emit(w,S);const e=(0,l.UM)("shoponUrl");await I(e)}(0,l.b)(o)}catch(f){this.setState({loading:!1}),(0,l.b)(o)}var w,S}}componentDidMount(){this.props.PLAN__DETAILS(!0),this.setState({shopifyLogin:localStorage.getItem("shopifyLogin")}),setTimeout((()=>{var e,t,o,i,a,l,s,n,r,d,u,p,v,g;v=`getPlanUpdated${null!=(null===(e=this.props.authorized)||void 0===e||null===(t=e.token)||void 0===t||null===(o=t.user)||void 0===o?void 0:o.id)?null===(i=this.props.authorized)||void 0===i||null===(a=i.token)||void 0===a||null===(l=a.user)||void 0===l?void 0:l.id:null!==(s=this.props.authorized)&&void 0!==s&&null!==(n=s.userData)&&void 0!==n&&null!==(r=n.user_data)&&void 0!==r&&r.user.id?null===(d=this.props.authorized)||void 0===d||null===(u=d.userData)||void 0===u||null===(p=u.user_data)||void 0===p?void 0:p.user.id:localStorage.getItem("ownerId")}`,g=e=>{localStorage.removeItem("steps"),window.location.href=`${h.btP}walls/home`},c.on(v,g)}),1500),window.fpr("referral",{email:localStorage.getItem("emailId")})}render(){return(0,m.jsx)(d.A,{...this.props,signUpPlan:!0,loading:this.state.loading,SignUpPlanUpdate:this.SignUpPlanUpdate})}}const S=(0,r.Ng)((e=>{var t;return{authorized:e.authorized,priceDetail:null===(t=e.planPriceDetail)||void 0===t?void 0:t.planPrice}}),(e=>({PLAN__DETAILS:t=>e((0,a.mT)(t)),getUserInfo:(t,o)=>e((0,g.ug)(t,o))})))((0,s.A)(w))},25660:()=>{}}]);