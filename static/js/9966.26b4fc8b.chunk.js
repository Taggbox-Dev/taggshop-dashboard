"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9966],{89966:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});var a=s(65043),n=s(73216),c=s(87124),l=s(90224),i=s(92908),o=s(19646),h=s(27108),r=s(71112),d=s(87367),x=s(31474),p=s(97508),m=s(70579);const j=e=>{let{history:t,isInstall:s}=e;const c=(()=>{const e=(0,n.zy)(),t=new URLSearchParams(e.search);return{app_load_id:t.get("app_load_id"),code:t.get("code"),embedded:t.get("embedded"),hmac:t.get("hmac"),host:t.get("host"),id_token:t.get("id_token"),locale:t.get("locale"),session:t.get("session"),shop:t.get("shop"),timestamp:t.get("timestamp")}})(),l=(i=c,Object.fromEntries(Object.entries(i).filter((e=>{let[t,s]=e;return null!==s&&void 0!==s}))));var i;const r=(0,p.wA)();return(0,a.useEffect)((()=>{s?l.embedded?r((0,o.AZ)(l,t)):(0,o.cW)(l.shop):r((0,o.AZ)(l,t))}),[]),(0,m.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,m.jsx)(h.a,{})})};var u=s(87970);const f=a.lazy((()=>Promise.all([s.e(9842),s.e(204)]).then(s.bind(s,70204)))),g=a.lazy((()=>Promise.all([s.e(9842),s.e(2101)]).then(s.bind(s,52101)))),y=a.lazy((()=>s.e(4923).then(s.bind(s,14923)))),w=a.lazy((()=>s.e(7103).then(s.bind(s,37103)))),b=a.lazy((()=>Promise.all([s.e(993),s.e(404)]).then(s.bind(s,80404)))),k=a.lazy((()=>s.e(7146).then(s.bind(s,47146)))),S=a.lazy((()=>s.e(8932).then(s.bind(s,8932)))),q=a.lazy((()=>Promise.all([s.e(1978),s.e(4335),s.e(5582)]).then(s.bind(s,15582)))),v=a.lazy((()=>s.e(8369).then(s.bind(s,78369)))),P=a.lazy((()=>Promise.all([s.e(1978),s.e(8894),s.e(7770)]).then(s.bind(s,16216)))),_=e=>{const t=(0,n.g)();return(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(w,{prefix:e.prefix,params:t})})},z=e=>{const t=(0,n.g)();return(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(k,{prefix:e.prefix,params:t,history:e.history})})},A=e=>{const t=(0,n.zy)(),s=new URLSearchParams(t.search).get("token"),a=new URLSearchParams(t.search).get("callback");return s&&(localStorage.setItem("token",s),window.location.href=a),(0,m.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,m.jsx)(h.a,{})})},I=e=>{localStorage.clear();const t=(0,n.g)();return window.location.href.includes("admin")?localStorage.setItem("isAdmin",1):localStorage.setItem("isAdmin",0),t.token&&(localStorage.setItem("token",atob(t.token)),window.location.href="".concat(i.btP,"home")),(0,m.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,m.jsx)(h.a,{})})},L=e=>{let{history:t}=e;const s=(0,n.zy)(),c=new URLSearchParams(s.search).get("code"),l=new URLSearchParams(s.search).get("account_uuid"),i=new URLSearchParams(s.search).get("context"),r=new URLSearchParams(s.search).get("scope");return(0,a.useEffect)((()=>{(0,o.bG)({code:c,account_uuid:l,context:i,scope:r},t)}),[]),(0,m.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,m.jsx)(h.a,{})})},R=()=>{const e=(0,n.zy)(),t=new URLSearchParams(e.search).get("signed_payload"),s=new URLSearchParams(e.search).get("signed_payload_jwt");return(0,a.useEffect)((()=>{(0,o.HN)({signed_payload:t,signed_payload_jwt:s})}),[]),(0,m.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,m.jsx)(h.a,{})})};function U(e){const t=(0,n.Zp)();return(0,a.useEffect)((()=>{localStorage.getItem("token")||window.location.pathname.includes("/accounts")||window.location.pathname.includes("/connection")||window.location.pathname.includes("/bigcommerce")||window.location.pathname.includes("/Shopify")||window.location.pathname.includes("/autologin")||window.location.pathname.includes("/redirectlogin")||window.location.pathname.includes("/ugc_right")||window.location.pathname.includes("/feeds/authCallback")||t("/")}),[]),(0,m.jsxs)(l.A,{children:[(0,m.jsx)(r.A,{}),(0,m.jsxs)(n.BV,{children:[(0,m.jsx)(n.qh,{exact:!0,path:"/autologin",element:(0,m.jsx)(A,{history:e.history})}),(0,m.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token/:isAdmin",element:(0,m.jsx)(I,{})}),(0,m.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token",element:(0,m.jsx)(I,{})}),(0,m.jsx)(n.qh,{exact:!0,path:"/",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(f,{prefix:"/",history:t})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/register",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(g,{prefix:"/",history:t})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/login",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(f,{prefix:"/",history:t})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/forgotpassword",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(y,{prefix:"/",activeProduct:"0"})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/resetpassword/:userId/:token",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(_,{prefix:"/"})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/otherinfo",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(b,{prefix:"/",addEmail:!1,history:e.history})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/extemail",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(v,{children:(0,m.jsx)(b,{addEmail:!0,prefix:"/",history:e.history})})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/price",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(q,{history:e.history})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/verifyemail/:id",element:(0,m.jsx)(z,{prefix:"/",history:e.history})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/verify",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(S,{prefix:"/",history:e.history})})}),(0,m.jsx)(n.qh,{exact:!0,path:"/feeds/authCallback",element:(0,m.jsx)(d.A,{})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/paymentPaidCallback",element:(0,m.jsx)(c.A,{})}),(0,m.jsx)(n.qh,{exact:!0,path:"/ugc_right/:id",element:(0,m.jsx)(x.A,{})}),(0,m.jsx)(n.qh,{path:"/Shopify/token",element:(0,m.jsx)(j,{history:t,isInstall:!1})}),(0,m.jsx)(n.qh,{path:"/Shopify/install",element:(0,m.jsx)(j,{history:t,isInstall:!0})}),(0,m.jsx)(n.qh,{path:"/bigcommerce/oauth",element:(0,m.jsx)(L,{history:t})}),(0,m.jsx)(n.qh,{path:"/bigcommerce/load",element:(0,m.jsx)(R,{})}),(0,m.jsx)(n.qh,{exact:!0,path:"/connection/:id",element:(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(P,{})})}),(0,m.jsx)(n.qh,{path:"*",element:(0,m.jsx)(n.C5,{to:"/accounts/login"})}),(0,m.jsx)(n.qh,{exact:!0,path:"/accounts/shopifypaymentcomplete",element:(0,m.jsx)(u.A,{})})]})]})}}}]);
//# sourceMappingURL=9966.26b4fc8b.chunk.js.map