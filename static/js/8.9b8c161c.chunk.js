"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[8],{27627:(e,s,l)=>{l.r(s),l.d(s,{default:()=>y});var a=l(89379),o=l(65043),t=l(21467),n=l(10457),r=l(14282),i=l(92450),c=l(22030),d=l(35475),m=l(92908),u=l(47610),h=l(97508),x=l(73955),v=l(79319),p=l(90166),b=l(70579);class f extends o.Component{constructor(e){super(e),this.logOutAccount=()=>{this.setState({logOutSpinner:!0}),(0,u.y4)().then((e=>{(0,c.Q$)("__TagshopLogin","tagshop.ai"),localStorage.clear(),window.location.reload()})).catch((e=>{}))},this.onEmailCopy=e=>s=>(0,c.x_)(e),this.handleToggle=()=>{this.setState((e=>({isOpen:!e.isOpen})))},this.handleOutsideClick=e=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(e.target)&&this.setState({isOpen:!1})},this.collaboratorSwitcher=(e,s)=>{var l;const{setUserToken:a,setAuthentication:o,authorized:t}=this.props;if((null===t||void 0===t||null===(l=t.userData)||void 0===l?void 0:l.user_data).collaborator.activeAccount!=s){const s=(0,c.HA)();(0,x.pY)(e).then((e=>{localStorage.clear();var{responseData:l}=e.data;localStorage.setItem("emailId",l.user.emailId),localStorage.setItem("token",l.token),a(l.token),o(l),(0,c._q)(s,"success","Account switched successfully"),window.location.href="".concat(m.btP,"home")})).catch((e=>{(0,c._q)(s,"error","Some error occured, please try again later.")}))}else(0,c.r$)("Already logged in account.")},this.state={logOutSpinner:!1,isOpen:!1},this.dropdownRef=o.createRef()}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick)}render(){var e,s,l;const{authorized:a,navigate:o}=this.props,{logOutSpinner:u,show:h}=this.state,v=null===a||void 0===a||null===(e=a.userData)||void 0===e?void 0:e.user_data.user,p=null===a||void 0===a||null===(s=a.userData)||void 0===s?void 0:s.user_data,f=null===v||void 0===v?void 0:v.picture;return(0,b.jsxs)(t.A,{className:"f-center user_profile_ ms-lg-1 h-100",align:"end",show:this.state.isOpen,ref:this.dropdownRef,children:[(0,b.jsx)("span",{className:"h-24px border-start d-none d-lg-flex"}),(0,b.jsx)(t.A.Toggle,{variant:"link",id:"user_profile_",className:"btn author_profile p-0 border-0 text-decoration-none d-block overflow-hidden arrow_disabled ms-2",onClick:this.handleToggle,children:(0,b.jsx)(i.A,{className:"symbol symbol-34 rounded-circle overflow-hidden",imageSize:34,symbolClass:"symbol-label rounded-circle bg-primary fs-6",name:null===v||void 0===v?void 0:v.name,profileUrl:f,networkId:0})}),(0,b.jsxs)(t.A.Menu,{className:"p-0",show:h,children:[(0,b.jsx)("div",{className:"f-center flex-column w-100 p-3 border-bottom",children:(0,b.jsxs)("div",{className:"f-center flex-column w-100",children:[(0,b.jsx)(d.N_,{to:"/profile",className:"mb-2 p-1 border-gray-100 border rounded-circle",children:(0,b.jsx)(i.A,{className:"symbol symbol-80 rounded-circle flex-shrink-0 overflow-hidden",imageSize:80,symbolClass:"symbol-label fw-bold text-uppercase display-2 bg-primary",name:null===v||void 0===v?void 0:v.name,profileUrl:f,networkId:0})}),(0,b.jsxs)("div",{className:"f-center flex-column w-100",children:[(0,b.jsx)("p",{className:" mb-0",children:(0,b.jsx)(d.N_,{to:"/profile",className:"fs-6 fw-bold text-break",children:null===v||void 0===v?void 0:v.name})}),(0,b.jsx)("span",{className:"mb-0 text-gray-600 text-break fs-8 cursor-pointer mb-3",id:"headerProfileEmail",onClick:this.onEmailCopy("headerProfileEmail"),children:null===v||void 0===v?void 0:v.emailId}),(0,b.jsx)(d.N_,{to:"/profile",className:"btn btn-secondary rounded-pill w-100",style:{maxWidth:230},onClick:this.handleToggle,children:"My Profile"})]}),null!==p&&void 0!==p&&p.collaborator&&Object.keys(p.collaborator).length>0?(0,b.jsx)(n.A,{className:"w-100 mt-3 bg-body",defaultActiveKey:1==(null===p||void 0===p?void 0:p.collaborator.workplaces.length)&&null==(null===p||void 0===p?void 0:p.UserPlan.activatedAt)?0:"",children:(0,b.jsxs)(n.A.Item,{eventKey:0,className:"overflow-hidden",style:{borderRadius:30},children:[(0,b.jsx)(n.A.Header,{children:"".concat(null!=(null===p||void 0===p?void 0:p.UserPlan.activatedAt)||(null===p||void 0===p?void 0:p.collaborator.workplaces.length)>1?"Switch":"Collaborator"," Account")}),(0,b.jsxs)(n.A.Body,{className:"p-3",children:[p.collaborator.workplaces.map((e=>(0,b.jsxs)(r.A,{variant:p.collaborator.activeAccount==e.parent?"light":"light-outline",size:"sm",className:"p-2 border-0 d-flex align-items-center w-100 mb-1 rounded-pill",onClick:()=>null!=(null===p||void 0===p?void 0:p.UserPlan.activatedAt)||(null===p||void 0===p?void 0:p.collaborator.workplaces.length)>1?this.collaboratorSwitcher(e.id,e.parent):{},children:[(0,b.jsx)(i.A,{className:"symbol symbol-34 rounded-circle flex-shrink-0 overflow-hidden me-2",imageSize:34,symbolClass:"symbol-label fw-bold text-uppercase fs-6 bg-warning",name:"Shlok Bajoria",profileUrl:e.UserAdmin.picture,networkId:0}),(0,b.jsxs)("div",{className:"overflow-hidden w-100 text-start",style:{maxWidth:210},children:[(0,b.jsx)("p",{className:"mb-0 w-100 fw-bold text-ellipsis fs-9",children:e.UserAdmin.name}),(0,b.jsxs)("div",{className:"f-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:1==e.role?"Admin":"Manager"}),p.collaborator.activeAccount==e.parent?(0,b.jsx)("i",{className:"text-gray-500",children:"Current"}):null]})]})]}))),null!=(null===p||void 0===p?void 0:p.UserPlan.activatedAt)?(0,b.jsxs)(r.A,{variant:0==p.collaborator.activeAccount?"light":"light-outline",size:"sm",className:"p-2 border-0 d-flex align-items-center w-100 mb-1 rounded-pill",onClick:()=>this.collaboratorSwitcher(0,0),children:[(0,b.jsx)(i.A,{className:"symbol symbol-34 rounded-circle flex-shrink-0 overflow-hidden me-2",imageSize:34,symbolClass:"symbol-label fw-bold text-uppercase fs-6 bg-primary",name:v.name,profileUrl:v.picture,networkId:0}),(0,b.jsx)("div",{className:"overflow-hidden w-100 text-start",style:{maxWidth:210},children:(0,b.jsxs)("div",{className:"f-between",children:[(0,b.jsx)("p",{className:"mb-0 w-100 fw-bold text-ellipsis fs-9",children:"My Account"}),0==p.collaborator.activeAccount?(0,b.jsx)("i",{className:"text-gray-500",children:"Current"}):null]})})]}):null]})]})}):null]})}),(0,b.jsxs)("div",{className:"px-5 mb-3",children:[JSON.parse(localStorage.getItem("isAdmin"))?(0,b.jsxs)(t.A.Item,{eventKey:"1",className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0",onClick:()=>localStorage.clear(),href:"".concat(m.C1b,"/v2/users/userLoginBackAdmin"),children:[(0,b.jsx)("div",{className:"symbol symbol-36 me-3",children:(0,b.jsx)("div",{className:"symbol-label text-warning",children:(0,b.jsx)("i",{className:"fa-duotone me-0 fa-solid fa-user-gear"})})}),(0,b.jsx)("div",{className:"navi-text",children:(0,b.jsx)("div",{className:"fs-8 fw-semibold text-warning",children:"Back To Admin"})})]}):null,!p||""!=p.collaborator&&0!=(null===(l=p.collaborator)||void 0===l?void 0:l.activeAccount)?null:(0,b.jsxs)(d.N_,{eventKey:"2",className:"navi-item px-0 py-2 py-xxl-3 border-bottom dropdown-item rounded-0 dropdown-item",to:"/transactions",onClick:this.handleToggle,children:[(0,b.jsx)("div",{className:"symbol symbol-36 me-3",children:(0,b.jsx)("div",{className:"symbol-label",children:(0,b.jsx)("i",{className:"fa-duotone me-0 fa-solid fa-user-gear"})})}),(0,b.jsxs)("div",{className:"navi-text",children:[(0,b.jsx)("div",{className:"fs-8 fw-semibold mb-0",children:"My Account"}),(0,b.jsx)("div",{className:"text-gray-600 fs-9",children:"Account information and plan details"})]})]}),(0,b.jsxs)("button",{eventKey:"3",className:"navi-item px-0 py-2 py-xxl-3 ".concat(localStorage.getItem("shopifyLogin")?"":"border-bottom"," dropdown-item rounded-0 dropdown-item"),onClick:()=>(0,x.Yj)("networkManager","manageAccount")?this.setState({isOpen:!1},(()=>o("/social-account"))):{},children:[(0,b.jsx)("div",{className:"symbol symbol-36 me-3",children:(0,b.jsx)("div",{className:"symbol-label",children:(0,b.jsx)("i",{className:"fa-duotone me-0 fa-solid fa-users-gear"})})}),(0,b.jsxs)("div",{className:"navi-text",children:[(0,b.jsx)("div",{className:"fs-8 fw-semibold mb-0",children:"Social Accounts"}),(0,b.jsx)("div",{className:"text-gray-600 fs-9",children:"Account information and plan details"})]})]}),c.d4?"":(0,b.jsxs)(t.A.Item,{eventKey:"4",onClick:this.logOutAccount,className:"navi-item px-0 py-2 py-xxl-3 dropdown-item rounded-0 ".concat(u?"disabled":""),children:[(0,b.jsx)("div",{className:"symbol symbol-36 me-3",children:(0,b.jsx)("div",{className:"symbol-label ".concat(u?"text-gray-500":""),children:(0,b.jsx)("i",{className:"fa-duotone me-0 fa-solid fa-right-from-bracket"})})}),(0,b.jsx)("div",{className:"navi-text",children:(0,b.jsx)("div",{className:"fs-8 fw-semibold ".concat(u?"spinner spinner-gray text-gray-500":""),children:"Sign Out"})})]})]})]})]})}}const y=(0,h.Ng)(null,(e=>({checkCollaborator:(s,l)=>e((0,x.TU)(s,l)),setUserToken:s=>e({type:v.C01,payload:s}),setAuthentication:s=>e({type:v.wxv,payload:(0,a.A)({},s)})})))((0,p.A)(f))},92450:(e,s,l)=>{l.d(s,{A:()=>r});var a=l(65043),o=l(22030),t=l(70579);class n extends a.Component{constructor(e){super(e),this.state={profileError:!1}}render(){const{profileError:e}=this.state,{imageSize:s,symbolClass:l,className:a,name:n,profileUrl:r,networkId:i}=this.props;return(0,t.jsx)("div",{className:a,children:e||""==r?(0,t.jsx)("span",{className:l,style:{backgroundColor:i?(0,o.Yo)(i):null},children:(0,o.t$)(n)}):(0,t.jsx)("img",{src:r,height:s,width:s,alt:n,onError:()=>this.setState({profileError:!0})})})}}const r=n},10457:(e,s,l)=>{l.d(s,{A:()=>_});var a=l(89379),o=l(80045),t=l(98139),n=l.n(t),r=l(65043),i=l(97121),c=l(67852),d=l(1185);function m(e,s){return Array.isArray(e)?e.includes(s):e===s}const u=r.createContext({});u.displayName="AccordionContext";const h=u;var x=l(70579);const v=["as","bsPrefix","className","children","eventKey"],p=r.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:i,children:u,eventKey:p}=e,b=(0,o.A)(e,v);const{activeEventKey:f}=(0,r.useContext)(h);return t=(0,c.oU)(t,"accordion-collapse"),(0,x.jsx)(d.A,(0,a.A)((0,a.A)({ref:s,in:m(f,p)},b),{},{className:n()(i,t),children:(0,x.jsx)(l,{children:r.Children.only(u)})}))}));p.displayName="AccordionCollapse";const b=p,f=r.createContext({eventKey:""});f.displayName="AccordionItemContext";const y=f,N=["as","bsPrefix","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],g=r.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:i,onEnter:d,onEntering:m,onEntered:u,onExit:h,onExiting:v,onExited:p}=e,f=(0,o.A)(e,N);t=(0,c.oU)(t,"accordion-body");const{eventKey:g}=(0,r.useContext)(y);return(0,x.jsx)(b,{eventKey:g,onEnter:d,onEntering:m,onEntered:u,onExit:h,onExiting:v,onExited:p,children:(0,x.jsx)(l,(0,a.A)((0,a.A)({ref:s},f),{},{className:n()(i,t)}))})}));g.displayName="AccordionBody";const w=g,A=["as","bsPrefix","className","onClick"];const j=r.forwardRef(((e,s)=>{let{as:l="button",bsPrefix:t,className:i,onClick:d}=e,u=(0,o.A)(e,A);t=(0,c.oU)(t,"accordion-button");const{eventKey:v}=(0,r.useContext)(y),p=function(e,s){const{activeEventKey:l,onSelect:a,alwaysOpen:o}=(0,r.useContext)(h);return t=>{let n=e===l?null:e;o&&(n=Array.isArray(l)?l.includes(e)?l.filter((s=>s!==e)):[...l,e]:[e]),null==a||a(n,t),null==s||s(t)}}(v,d),{activeEventKey:b}=(0,r.useContext)(h);return"button"===l&&(u.type="button"),(0,x.jsx)(l,(0,a.A)((0,a.A)({ref:s,onClick:p},u),{},{"aria-expanded":Array.isArray(b)?b.includes(v):v===b,className:n()(i,t,!m(b,v)&&"collapsed")}))}));j.displayName="AccordionButton";const k=j,C=["as","bsPrefix","className","children","onClick"],S=r.forwardRef(((e,s)=>{let{as:l="h2",bsPrefix:t,className:r,children:i,onClick:d}=e,m=(0,o.A)(e,C);return t=(0,c.oU)(t,"accordion-header"),(0,x.jsx)(l,(0,a.A)((0,a.A)({ref:s},m),{},{className:n()(r,t),children:(0,x.jsx)(k,{onClick:d,children:i})}))}));S.displayName="AccordionHeader";const E=S,K=["as","bsPrefix","className","eventKey"],O=r.forwardRef(((e,s)=>{let{as:l="div",bsPrefix:t,className:i,eventKey:d}=e,m=(0,o.A)(e,K);t=(0,c.oU)(t,"accordion-item");const u=(0,r.useMemo)((()=>({eventKey:d})),[d]);return(0,x.jsx)(y.Provider,{value:u,children:(0,x.jsx)(l,(0,a.A)((0,a.A)({ref:s},m),{},{className:n()(i,t)}))})}));O.displayName="AccordionItem";const P=O,U=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],I=r.forwardRef(((e,s)=>{const l=(0,i.Zw)(e,{activeKey:"onSelect"}),{as:t="div",activeKey:d,bsPrefix:m,className:u,onSelect:v,flush:p,alwaysOpen:b}=l,f=(0,o.A)(l,U),y=(0,c.oU)(m,"accordion"),N=(0,r.useMemo)((()=>({activeEventKey:d,onSelect:v,alwaysOpen:b})),[d,v,b]);return(0,x.jsx)(h.Provider,{value:N,children:(0,x.jsx)(t,(0,a.A)((0,a.A)({ref:s},f),{},{className:n()(u,y,p&&"".concat(y,"-flush"))}))})}));I.displayName="Accordion";const _=Object.assign(I,{Button:k,Collapse:b,Item:P,Header:E,Body:w})}}]);
//# sourceMappingURL=8.9b8c161c.chunk.js.map