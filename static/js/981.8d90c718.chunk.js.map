{"version":3,"file":"static/js/981.8d90c718.chunk.js","mappings":"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","sources":["app/components/website/themes/themePreview/src/app/Components/UserComponents/SubmitPic/submitButton.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { submitPostData, showPopUP } from '../../../../../../../../../../actions/themeActions/themeActions';\r\nimport QRCode from \"react-qr-code\";\r\n\r\n\r\nconst validateEmail = (email) => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\nclass SubmitButton extends Component {\r\n    state = { isOpen: false, step: 1, wall_id: null, name: null, email: null, upload_image: [], receiveMail: false, tandc: true, nameError: false, emailError: false }\r\n    onShowCloseSubmitPicPopUp = event => {\r\n        const { wall } = this.props;\r\n        // this.props.showPopUP({ type: 'submit-pic', card: {}, personalization: wall?.Personalization, ThemeRule: wall.ThemeRule, UserRule: wall.UserRule, wall: wall })\r\n    }\r\n    updateImageWithData = (data) => {\r\n        const { upload_image } = this.state;\r\n        if (upload_image && upload_image.length < 5) { upload_image.push(data); this.setState({ upload_image }) }\r\n    }\r\n\r\n    onUpdateImageAddCaption = (index) => event => {\r\n        const { upload_image } = this.state;\r\n        if (upload_image && upload_image.length > 0 && upload_image[index]) {\r\n            upload_image[index].caption = event.target.value;\r\n            upload_image[index].review = \"\";\r\n            upload_image[index].rating = 0;\r\n            this.setState({ upload_image })\r\n        }\r\n    }\r\n    onUpdateImageAddReview = (index) => event => {\r\n        const { upload_image } = this.state;\r\n        if (upload_image && upload_image.length > 0 && upload_image[index]) {\r\n            upload_image[index].review = event.target.value;\r\n            upload_image[index].caption = \"\";\r\n            this.setState({ upload_image })\r\n        }\r\n    }\r\n\r\n    onUpdateImageAddRatings = (rating, index) => {\r\n        const { upload_image } = this.state;\r\n        if (upload_image && upload_image.length > 0 && upload_image[index]) {\r\n            upload_image[index].caption = \"\";\r\n            upload_image[index].rating = rating;\r\n            this.setState({ upload_image })\r\n        }\r\n    }\r\n    onUpdateStep = (step) => event => { this.setState({ step }) }\r\n    onTextName = event => {\r\n        this.setState({ name: event.target.value, nameError: false }, () => {\r\n            if (this.state.name == null || this.state.name.length == 0) this.setState({ nameError: true })\r\n        })\r\n    }\r\n    onTextEmail = event => {\r\n        this.setState({ email: event.target.value, emailError: false }, () => {\r\n            if (this.state.email == null || this.state.email.length == 0 || !validateEmail(this.state.email) || this.state.email.includes(\"mailinator\")) this.setState({ emailError: true })\r\n        })\r\n    }\r\n    onSubmitData = event => {\r\n        const { name, email, upload_image, tandc, receiveMail } = this.state;\r\n        const { wallId } = this.props;\r\n        if (tandc && (name && name.length > 0) && (email && email.length > 0 && validateEmail(email) && !email.includes(\"mailinator\")) && (upload_image && upload_image.length > 0) && tandc) {\r\n            submitPostData({ wall_id: wallId, name, email, upload_image, receive_mail: receiveMail }).then((response) => {\r\n                this.setState({ step: 3 })\r\n            }).catch((error) => {  });\r\n        }\r\n        else {\r\n            if (this.state.name == null || this.state.name.length == 0) this.setState({ nameError: true })\r\n            if (this.state.email == null || this.state.email.length == 0 || !validateEmail(this.state.email) || email.includes(\"mailinator\")) this.setState({ emailError: true })\r\n        }\r\n    }\r\n    onUpdatereceiveMail = event => { const { receiveMail } = this.state; this.setState({ receiveMail: !receiveMail }) }\r\n    //onUpdatereceiveMail = event =>this.setState({ receiveMail: !this.state.receiveMail })\r\n    onUpdatetandc = event => { const { tandc } = this.state; this.setState({ tandc: !tandc }) }\r\n    removeProductImage = (removeIndex) => event => {\r\n        const { upload_image } = this.state;\r\n        if (upload_image && upload_image.length > 0) {\r\n            upload_image.splice(removeIndex, 1);\r\n        }\r\n        this.setState({ upload_image })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { wall , onsite_status} = this.props;\r\n        const onsite = wall.UgcSettings;\r\n        const onsiteButton = onsite_status ? { backgroundColor: onsite.onsite_btn_color, borderColor: onsite.onsite_btn_color, color: onsite.onsite_btn_txt_color } : '';\r\n        const fontCss = { fontSize: wall.UgcSettings.btn_fontSize + 'px', fontFamily: wall.UgcSettings.onsite_css_font_btn }\r\n\r\n        return <>\r\n            {onsite_status !== 0 ?\r\n                <div id=\"tb_post_submit_container_button\" className={wall?.Personalization?.commerceTheme != `50` ? `tb_post_submit_container` : `ts_gst__post_submit_container_button`}>\r\n                    {wall?.Personalization?.commerceTheme != `50` ?\r\n                        <div className=\"btn-scan\">\r\n                            <div style={onsiteButton} className=\"tb_post_submit_btn\" onClick={this.onShowCloseSubmitPicPopUp}>\r\n                                {wall.UgcSettings.onsite_qr_code_status == 1 ? \r\n                                    <div className='qr-image'>\r\n                                        <QRCode level=\"L\" size={60} value={wall.UgcSettings.onsite_popup_url} />\r\n                                    </div> : null\r\n                                 }\r\n                                {onsite.onsite_qr_code_btn_text ? <>\r\n                                    {wall.UgcSettings.onsite_qr_code_status == 1 ? <div className='ts__qr_separator'><div></div></div> : ''}\r\n                                          <div className={`ts_qr-text  tb-cTSfont-${wall.UgcSettings.onsite_font_varient_btn}`} style={fontCss}>\r\n                                             <div className={`ts_qr-text_wrap tb-cTSfont-${wall.UgcSettings.onsite_font_varient_btn}`} style={fontCss}>\r\n                                                {onsite_status ? onsite.onsite_qr_code_btn_text : onsite.onsite_qr_code_status ? onsite.onsite_qr_code_btn_text : onsite_status ? onsite.onsite_btn_txt : 'Submit a Post'}\r\n                                             </div>\r\n                                         </div> \r\n                                  </> : ''\r\n                                }\r\n                            </div>\r\n                        </div> :\r\n\r\n\r\n\r\n                        <div className=\"ts_gst_btn-scan\" style={onsiteButton}>\r\n                            <div className=\"ts_gst_post_submit_btn\" onClick={this.onShowCloseSubmitPicPopUp}>\r\n                                <div className='ts_gst_qr-image'>\r\n                                    {wall.UgcSettings.onsite_qr_code_status == `1` ? <QRCode level=\"L\" size={60} value={wall.UgcSettings.onsite_popup_url} /> : ''}\r\n                                    <div className={`ts_gst_qr-text  tb-cTSfont-${wall.UgcSettings.font_varient}`} style={fontCss}>\r\n                                        <div className={`ts_gst_qr-text_wrap ${wall.UgcSettings.onsite_qr_code_status == `1` ? \"wt_qrcode\" : \"wo_qrcode\"}`} >\r\n                                            {onsite.onsite_qr_code_status && onsite_status ? onsite.onsite_qr_code_btn_text : onsite.onsite_qr_code_status ? onsite.onsite_qr_code_btn_text : onsite_status ? onsite.onsite_btn_txt : 'Submit a Post'}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='ts_gst_qr-image_mobile'> Add Your Photo </div>\r\n                            </div>\r\n                        </div>}\r\n\r\n                </div> : ''}\r\n\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => { \r\n    return { showPopUP: (data) => dispatch(showPopUP(data)), } \r\n}; \r\n\r\nconst mapStateToProps = state => { \r\n    return { \r\n        wallId: state.appData.wallID, \r\n        onsite_status: state.appData.onsite_status, \r\n    } \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SubmitButton);"],"names":["validateEmail","email","test","String","toLowerCase","SubmitButton","state","isOpen","step","wall_id","name","upload_image","receiveMail","tandc","nameError","emailError","onShowCloseSubmitPicPopUp","event","props","wall","updateImageWithData","data","length","push","setState","onUpdateImageAddCaption","index","caption","target","value","review","rating","onUpdateImageAddReview","onUpdateImageAddRatings","onUpdateStep","onTextName","onTextEmail","includes","onSubmitData","wallId","submitPostData","receive_mail","then","response","catch","error","onUpdatereceiveMail","onUpdatetandc","removeProductImage","removeIndex","splice","this","onsite_status","onsite","UgcSettings","onsiteButton","backgroundColor","onsite_btn_color","borderColor","color","onsite_btn_txt_color","fontCss","fontSize","btn_fontSize","fontFamily","onsite_css_font_btn","id","className","Personalization","commerceTheme","style","onClick","onsite_qr_code_status","level","size","onsite_popup_url","onsite_qr_code_btn_text","onsite_font_varient_btn","onsite_btn_txt","font_varient","Component","connect","appData","wallID","dispatch","showPopUP"],"sourceRoot":""}