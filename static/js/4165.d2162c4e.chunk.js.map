{"version":3,"file":"static/js/4165.d2162c4e.chunk.js","mappings":"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","sources":["app/Layout/Main/SocialAccount/ShareAccount.js","../node_modules/@restart/hooks/esm/useEventListener.js","../node_modules/@restart/hooks/esm/useResizeObserver.js","../node_modules/@restart/ui/esm/Anchor.js","../node_modules/react-bootstrap/esm/AlertHeading.js","../node_modules/react-bootstrap/esm/AlertLink.js","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/Table.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { TAGGSHOP_SOCIAL_ACCOUNT_DATA } from \"../../../../actions/sceneActions\";\r\nimport { addAccountFromId } from \"../../../../utils/addAccount\";\r\nimport { Loader } from \"../CommonComponents/Loader\";\r\nimport SocialAccount from \"./SocialAccount\";\r\n\r\nconst controller = new AbortController();\r\nconst channel = new BroadcastChannel('connect');\r\nconst ShareAccount = () => {\r\n    const params = useParams();\r\n    const dispatch = useDispatch();\r\n    const [loading,setLoading] = useState(true);\r\n\r\n    const handleMessage = async(event) => {\r\n        try {\r\n            const response = JSON.parse(event.data);\r\n            const { code } = response;\r\n            const networkId = localStorage.getItem('networkId');\r\n            const type = localStorage.getItem('connectionType');\r\n            if (event.origin.includes(\"tagshop.ai\") || event.origin.includes(\"localhost\")) {\r\n                if(type == 'connectAccount'){\r\n                    if (code) await addAccountFromId(parseInt(networkId), code, () => dispatch(TAGGSHOP_SOCIAL_ACCOUNT_DATA(params.id, setLoading)), true);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            \r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const signal = controller.signal;\r\n        window.addEventListener(\"message\", handleMessage, { signal });\r\n        channel.addEventListener(\"message\", handleMessage);\r\n        dispatch(TAGGSHOP_SOCIAL_ACCOUNT_DATA(params.id, setLoading))\r\n        localStorage.setItem('shared_token', params.id)\r\n        localStorage.setItem('ownerId', params.id)\r\n        localStorage.setItem('shareAccount', true)\r\n        localStorage.setItem('url_redirect', window.location.pathname.replace('/v2', ''))\r\n        return () => {\r\n            window.removeEventListener(\"message\", handleMessage, { signal });\r\n            channel.removeEventListener(\"message\", handleMessage);\r\n            controller.abort();\r\n            channel.close();\r\n        }\r\n    }, [])\r\n\r\n    return loading ? <Loader/> : <SocialAccount isSharing={true}/>\r\n    \r\n}\r\n\r\nexport default ShareAccount","import { useEffect } from 'react';\nimport useEventCallback from './useEventCallback';\n/**\n * Attaches an event handler outside directly to specified DOM element\n * bypassing the react synthetic event system.\n *\n * @param element The target to listen for events on\n * @param event The DOM event name\n * @param handler An event handler\n * @param capture Whether or not to listen during the capture event phase\n */\nexport default function useEventListener(eventTarget, event, listener, capture = false) {\n  const handler = useEventCallback(listener);\n  useEffect(() => {\n    const target = typeof eventTarget === 'function' ? eventTarget() : eventTarget;\n    target.addEventListener(event, handler, capture);\n    return () => target.removeEventListener(event, handler, capture);\n  }, [eventTarget]);\n}","import { useState } from 'react';\nimport useEffect from './useIsomorphicEffect';\nconst targetMap = new WeakMap();\nlet resizeObserver;\nfunction getResizeObserver() {\n  // eslint-disable-next-line no-return-assign\n  return resizeObserver = resizeObserver || new window.ResizeObserver(entries => {\n    entries.forEach(entry => {\n      const handler = targetMap.get(entry.target);\n      if (handler) handler(entry.contentRect);\n    });\n  });\n}\n\n/**\n * Efficiently observe size changes on an element. Depends on the `ResizeObserver` api,\n * and polyfills are needed in older browsers.\n *\n * ```ts\n * const [ref, attachRef] = useCallbackRef(null);\n *\n * const rect = useResizeObserver(ref);\n *\n * return (\n *  <div ref={attachRef}>\n *    {JSON.stringify(rect)}\n *  </div>\n * )\n * ```\n *\n * @param element The DOM element to observe\n */\nexport default function useResizeObserver(element) {\n  const [rect, setRect] = useState(null);\n  useEffect(() => {\n    if (!element) return;\n    getResizeObserver().observe(element);\n    setRect(element.getBoundingClientRect());\n    targetMap.set(element, rect => {\n      setRect(rect);\n    });\n    return () => {\n      targetMap.delete(element);\n    };\n  }, [element]);\n  return rect;\n}","const _excluded = [\"onKeyDown\"];\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/anchor-has-content */\n\nimport * as React from 'react';\nimport { useEventCallback } from '@restart/hooks';\nimport { useButtonProps } from './Button';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\n/**\n * An generic `<a>` component that covers a few A11y cases, ensuring that\n * cases where the `href` is missing or trivial like \"#\" are treated like buttons.\n */\nconst Anchor = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n      onKeyDown\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const [buttonProps] = useButtonProps(Object.assign({\n    tagName: 'a'\n  }, props));\n  const handleKeyDown = useEventCallback(e => {\n    buttonProps.onKeyDown(e);\n    onKeyDown == null ? void 0 : onKeyDown(e);\n  });\n  if (isTrivialHref(props.href) || props.role === 'button') {\n    return /*#__PURE__*/_jsx(\"a\", Object.assign({\n      ref: ref\n    }, props, buttonProps, {\n      onKeyDown: handleKeyDown\n    }));\n  }\n  return /*#__PURE__*/_jsx(\"a\", Object.assign({\n    ref: ref\n  }, props, {\n    onKeyDown: onKeyDown\n  }));\n});\nAnchor.displayName = 'Anchor';\nexport default Anchor;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport divWithClassName from './divWithClassName';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = DivStyledAsH4,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-heading');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertHeading.displayName = 'AlertHeading';\nexport default AlertHeading;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst AlertLink = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = Anchor,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'alert-link');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nAlertLink.displayName = 'AlertLink';\nexport default AlertLink;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AlertHeading from './AlertHeading';\nimport AlertLink from './AlertLink';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show = true,\n    closeLabel = 'Close alert',\n    closeVariant,\n    className,\n    children,\n    variant = 'primary',\n    onClose,\n    dismissible,\n    transition = Fade,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Table = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  striped,\n  bordered,\n  borderless,\n  hover,\n  size,\n  variant,\n  responsive,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  const classes = classNames(className, decoratedBsPrefix, variant && `${decoratedBsPrefix}-${variant}`, size && `${decoratedBsPrefix}-${size}`, striped && `${decoratedBsPrefix}-${typeof striped === 'string' ? `striped-${striped}` : 'striped'}`, bordered && `${decoratedBsPrefix}-bordered`, borderless && `${decoratedBsPrefix}-borderless`, hover && `${decoratedBsPrefix}-hover`);\n  const table = /*#__PURE__*/_jsx(\"table\", {\n    ...props,\n    className: classes,\n    ref: ref\n  });\n  if (responsive) {\n    let responsiveClass = `${decoratedBsPrefix}-responsive`;\n    if (typeof responsive === 'string') {\n      responsiveClass = `${responsiveClass}-${responsive}`;\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: responsiveClass,\n      children: table\n    });\n  }\n  return table;\n});\nexport default Table;"],"names":["controller","AbortController","channel","BroadcastChannel","ShareAccount","params","useParams","dispatch","useDispatch","loading","setLoading","useState","handleMessage","async","response","JSON","parse","event","data","code","networkId","localStorage","getItem","type","origin","includes","addAccountFromId","parseInt","TAGGSHOP_SOCIAL_ACCOUNT_DATA","id","error","useEffect","signal","window","addEventListener","setItem","location","pathname","replace","removeEventListener","abort","close","_jsx","Loader","SocialAccount","isSharing","useEventListener","eventTarget","listener","capture","arguments","length","undefined","handler","useEventCallback","target","WeakMap","_excluded","Anchor","React","_ref","ref","onKeyDown","props","r","e","t","n","hasOwnProperty","call","indexOf","_objectWithoutPropertiesLoose","buttonProps","useButtonProps","Object","assign","tagName","handleKeyDown","href","trim","role","displayName","DivStyledAsH4","divWithClassName","AlertHeading","className","bsPrefix","as","Component","useBootstrapPrefix","classNames","AlertLink","Alert","uncontrolledProps","show","closeLabel","closeVariant","children","variant","onClose","dismissible","transition","Fade","useUncontrolled","prefix","handleClose","Transition","alert","_jsxs","CloseButton","onClick","unmountOnExit","in","Link","Heading","striped","bordered","borderless","hover","size","responsive","decoratedBsPrefix","classes","table","responsiveClass"],"sourceRoot":""}