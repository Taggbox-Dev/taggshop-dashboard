"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9603],{1890:(e,s,t)=>{t.d(s,{A:()=>_});var i=t(65043),a=t(57267),l=t(72557),o=t(61072),n=t(37668),r=t(78602),d=t(14282),c=t(97508),u=t(58613),m=t.n(u),p=t(76837),h=(t(29978),t(57131),t(42215),t(98743),t(91484),t(35693)),x=t(1070),g=t(10524),v=t(81985),f=t(33637),j=t(92908),b=t(61669),w=t(70579);const N={uppyKey:"0701d3d7f8d94e92a65a9cba388b1d96",uppyBucket:"cloud.tagshop.ai",uppyAwsKey:"47ABVORKG52UYE1KB28S",uppyAwsSecret:"pcaTfeokaz28geAAns08H3yaGbOVz6ILgTptu19v",companionUrl:j.KO0?"https://app.taggbox.com":"https://test.taggbox.com"};class y extends i.Component{constructor(e){super(e),this.state={backgroundModal:!1,ext:"",fileName:""},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},(()=>{m()(".uppy-Dashboard-close").click((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}))}))},this.uppy=new p.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e7,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.props.allowFiles}}).use(h.Ay,{target:"#a",params:{auth:{key:N.uppyKey},steps:{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:N.uppyBucket,key:N.uppyAwsKey,secret:N.uppyAwsSecret,path:this.props.isLocation?"request-feature/${file.id}.${file.ext}":"tmp/${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(x.A,{target:p.A.Dashboard,companionUrl:N.companionUrl}).use(g.A,{target:p.A.Dashboard,companionUrl:N.companionUrl})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",((s,t)=>{this.setState({ext:t.ext,fileName:t.basename}),e.props.onClickToupload(this.props.isLocation?`${b.GG}request-feature/${t.id}.${t.ext}`:`${b.$r}${t.id}.${t.ext}`,(()=>{setTimeout((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}),300)}))}))}render(){const{imageStyle:e,uploadedMedia:s,id:t,text:i}=this.props,{backgroundModal:l,ext:o,fileName:n}=this.state,r=e=>{switch(e){case"docx":return"file-doc";case"pdf":return"file-pdf";case"mp4":case"mov":return"file-video";default:return!1}};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:s?(0,w.jsxs)("div",{className:"f-between w-100 bg-gray-100 rounded-2 p-4 align-items-center",children:[(0,w.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",style:{width:"calc(100% - 30px)"},children:[r(o)?(0,w.jsx)("div",{className:"f-center flex-shrink-0 me-3",style:{fontSize:"3rem"},children:(0,w.jsx)(a.gc,{type:"solid",icon:r(o),iconClass:"text-gray-700"})}):(0,w.jsx)(f.A,{id:"bg_image",className:"object-fit-cover rounded-2 me-3",src:s,height:60,width:60,alt:"",style:{maxHeight:60}}),o?(0,w.jsxs)("p",{className:"text-ellipsis fs-8 mb-0",children:[n,".",o]}):null]}),(0,w.jsx)(d.A,{variant:"icon",size:"sm",className:"rounded-circle bg-danger border-danger text-white h-20px w-20px",onClick:()=>this.props.onClickToupload("",(()=>{})),children:(0,w.jsx)(a.gc,{icon:"xmark"})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(d.A,{id:t,variant:"light",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,w.jsx)(a.gc,{icon:"arrow-up-from-bracket"}),i||"Upload"]}),(0,w.jsxs)("p",{className:"text-gray-500 mt-1 fw-medium fs-9",children:[(0,w.jsx)(a.gc,{type:"solid",icon:"info-circle",iconClass:"me-1"}),"Accepts ",this.props.allowFiles.join(", ")]})]})}),l?(0,w.jsx)(v.KG,{animateOpenClose:!0,open:l,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}var k=t(22030),A=t(89652);localStorage.getItem("token");class C extends i.Component{constructor(e){var s,t,i,a,l,o;super(e),this.submitForm=()=>{const{name:e,email:s,description:t,uploadedMedia:i}=this.state;let a=!(!e||(0,k.QT)(e)||0==String(e).trim()),l=!(!s||!(0,k.DT)(s)),o=!!(t&&t.length<=500);if(a&&l&&o){this.setState({isLoading:!0});(e=>(new A.A).post(`${j.xpU}`,{name:e.name,email:e.email,description:e.description,file:e.file}))({name:e,email:s,description:`<b>${this.props.title}</b>-${t}`,file:i}).then((e=>{200==e.data.responseCode?setTimeout((()=>{var e,s,t,i,a,l;(0,k.k1)("Request shared successfully"),this.setState({isLoading:!1,name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(t=s.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(a=i.userData)||void 0===a||null===(l=a.user_data)||void 0===l?void 0:l.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1}),this.props.onCloseModel(!1)}),1e3):(this.setState({isLoading:!1}),(0,k.r$)(e.data.message))})).catch((e=>{this.setState({isLoading:!1}),(0,k.r$)("Something went wrong, please try again later.")}))}else this.setState({isLoading:!1,nameErr:!a,emailErr:!l,descriptionErr:!o})},this.onClickToupload=(e,s)=>this.setState({uploadedMedia:e},(()=>s())),this.onCloseModelFun=()=>{var e,s,t,i,a,l;this.setState({name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(t=s.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(a=i.userData)||void 0===a||null===(l=a.user_data)||void 0===l?void 0:l.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1}),this.props.onCloseModel(!1)},this.state={name:null===(s=this.props.authorized)||void 0===s||null===(t=s.userData)||void 0===t||null===(i=t.user_data)||void 0===i?void 0:i.user.name,email:null===(a=this.props.authorized)||void 0===a||null===(l=a.userData)||void 0===l||null===(o=l.user_data)||void 0===o?void 0:o.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1,isLoading:!1}}render(){const{show:e,title:s}=this.props,{name:t,email:i,description:a,nameErr:c,emailErr:u,descriptionErr:m,isLoading:p,uploadedMedia:h}=this.state;return(0,w.jsxs)(l.A,{id:"reqFeature",size:"lg",show:e,"aria-labelledby":"reqFeature",tabIndex:"0",centered:!0,backdrop:"static",onHide:this.onCloseModelFun,children:[(0,w.jsx)(l.A.Header,{closeButton:!0,children:(0,w.jsx)(l.A.Title,{children:s})}),(0,w.jsxs)(l.A.Body,{className:"p-lg-7 p-3 demo_schedule position-relative",children:[(0,w.jsxs)(o.A,{className:"mb-3",children:[(0,w.jsxs)(n.A.Group,{as:r.A,md:"6",children:[(0,w.jsxs)(n.A.Label,{children:["Full Name ",(0,w.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,w.jsx)(n.A.Control,{id:"r_f_name",required:!0,type:"text",placeholder:"Full name",className:c?"is-invalid":"",value:t,onChange:e=>this.setState({name:e.target.value,nameErr:!1})}),c&&(0,w.jsx)("div",{className:"invalid-feedback",children:"Name is required."})]}),(0,w.jsxs)(n.A.Group,{as:r.A,md:"6",children:[(0,w.jsxs)(n.A.Label,{children:["Email ",(0,w.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,w.jsx)(n.A.Control,{id:"r_f_email",required:!0,type:"email",placeholder:"example@example.com",className:u?"is-invalid":"",value:i,onChange:e=>this.setState({email:e.target.value,emailErr:!1})}),u&&(0,w.jsx)("div",{className:"invalid-feedback",children:""!=i?"Enter valid email.":"Email ID is required."})]})]}),(0,w.jsxs)(n.A.Group,{as:r.A,className:"mb-3",children:[(0,w.jsxs)(n.A.Label,{children:["Description ",(0,w.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,w.jsx)(n.A.Control,{as:"textarea",id:"r_f_desc",placeholder:"Enter Description",className:(m?"is-invalid":"")+" textarea-min-row-6",maxLength:500,onChange:e=>this.setState({description:e.target.value,descriptionErr:!1}),value:a}),(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsx)("div",{className:"invalid-feedback d-block",children:m?"This field is required":""}),(0,w.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===a||void 0===a?void 0:a.length,"/500"]})]})]}),(0,w.jsx)(n.A.Group,{as:r.A,className:"mb-3",children:(0,w.jsx)(y,{id:"sugg_doc",imageStyle:{paddingBottom:"66%"},uploadedMedia:h,onClickToupload:this.onClickToupload,text:"Upload File",allowFiles:["image/*",".docx",".pdf",".mp4",".mov"],isLocation:!0})})]}),(0,w.jsxs)(l.A.Footer,{children:[(0,w.jsx)(d.A,{id:"r_f_cancel",variant:"secondary",className:"ms-3 btn-min-w",onClick:this.onCloseModelFun,children:"Cancel"}),(0,w.jsx)(d.A,{id:"r_f_submit",className:"ms-3 btn-min-w "+(p?"spinner":""),onClick:this.submitForm,children:"Submit"})]})]})}}const S=(0,c.Ng)((e=>({authorized:e.authorized})),(e=>({})))(C);class F extends i.Component{constructor(e){super(e),this.state={show:!1}}render(){const{text:e,variant:s,icon:t,isIcon:i,tooltip:a,title:l}=this.props,{show:o}=this.state;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{onClick:()=>this.setState({show:!o}),children:this.props.children}),(0,w.jsx)(S,{show:o,onCloseModel:()=>this.setState({show:!1}),title:l||"Request New Feature"})]})}}const _=F},19603:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var i=t(65043),a=t(97508),l=t(73216),o=t(35475),n=t(47118),r=(t(79032),t(22030)),d=t(57267),c=t(33637),u=t(84063),m=t(53519),p=t(38628),h=t(14282),x=t(1890),g=t(16287),v=t(70579);const f=()=>{var e,s,f,j,b,w;const{wallId:N}=(0,l.g)(),y=(0,a.wA)(),k=(0,a.d4)((e=>e.addFeedReducer)),A=(0,a.d4)((e=>e.manageFeeds)),[C,S]=(0,i.useState)(!1),[F,_]=(0,i.useState)("");let E=null;(0,i.useEffect)((()=>{y((0,n.Ux)())}),[]);const M=(e,s)=>{S(e),_(s)};(0,i.useEffect)((()=>{$()}),[null===k||void 0===k||null===(e=k.addFeedNetworks)||void 0===e?void 0:e.networks]);const $=async e=>{var s,i,a;if("true"===localStorage.getItem("isTour")&&null!==k&&void 0!==k&&null!==(s=k.addFeedNetworks)&&void 0!==s&&null!==(i=s.networks)&&void 0!==i&&i.length&&(null===A||void 0===A||null===(a=A.feeds)||void 0===a||!a.length)&&"2"===localStorage.getItem("tourStep")){E||(E=t.e(1882).then(t.bind(t,1882)));const{default:s}=await E,{tour:i}=new s(null,!0);e?(localStorage.setItem("tourStep",3),i.destroy()):setTimeout((()=>i.highlight({element:"#tour_net"})),200)}};return(0,v.jsxs)("div",{className:"d-flex flex-column flex-column-fluid full-content",children:[(0,v.jsx)("div",{className:"subheader",children:(0,v.jsx)(m.A,{fluid:!0,children:(0,v.jsx)("div",{className:"f-between",children:(0,v.jsx)("h1",{className:"me-2 h4 my-3",children:"Feeds"})})})}),(0,v.jsx)(m.A,{fluid:!0,children:(0,v.jsxs)(p.A,{children:[(0,v.jsxs)(p.A.Header,{className:"f-between d-flex",children:[(0,v.jsx)("h2",{className:"me-2 h4 my-3",children:"Add Feeds"}),(0,v.jsx)("div",{className:"f-center",children:(null===(s=A.feeds)||void 0===s?void 0:s.length)>0?(0,v.jsx)(o.N_,{to:`/content/managefeed/${localStorage.getItem("wallId")}`,className:"btn btn-primary btn-sm text-nowrap btn-min-w",title:"feed",children:"Manage Feeds"}):null})]}),(0,v.jsx)(p.A.Body,{children:(0,v.jsx)("div",{className:"f-center add_feed_ m-auto",children:(0,v.jsxs)("div",{className:"f-center flex-column mb-10",children:[(0,v.jsxs)("div",{className:"text-center mb-5",children:[(0,v.jsx)("h3",{children:"Choose Source Network"}),(0,v.jsx)("p",{children:"Select the social platform from which you want to add the feeds"})]}),(0,v.jsxs)("div",{className:"f-center flex-wrap mb-10",children:[(null===k||void 0===k||null===(f=k.addFeedNetworks)||void 0===f||null===(j=f.networks)||void 0===j?void 0:j.length)>0?k.addFeedNetworks.networks.map((e=>{return(0,v.jsx)("div",{className:"px-2 mb-4",children:(0,v.jsxs)(o.N_,{id:"tour_net",className:"btn btn-secondary position-relative",...(s=e.id,33===s?{to:"/creators"}:0===s?{to:"/manual-upload"}:34==s||35==s?{}:{to:`/content/addfeed/${N}/${s}`}),onClick:()=>34==e.id||35==e.id?M(!0,e.name):localStorage.getItem("tourStep")?$(!0):{},title:(0,r.Oi)(e.id),children:[29==e.id?(0,v.jsx)(d.gc,{type:"solid",icon:"star",iconClass:"text-warning fs-6"}):(0,v.jsx)(c.A,{height:20,width:20,className:"me-2",src:(0,d.pc)(`media/icons/social-icons-square/${(0,r.EC)(e.id)}.svg`),alt:(0,r.Oi)(e.id),title:(0,r.Oi)(e.id),fluid:!0}),e.name,33===e.id&&(0,v.jsx)(u.A,{bg:"",className:"position-absolute badge-primary py-1",style:{top:-16,right:10},children:"New"})]})},e.id);var s})):(0,r.OZ)(12).map(((e,s)=>(0,v.jsx)("div",{className:"px-2 mb-4",children:(0,v.jsx)("div",{className:"sk_rect h-40px me-2 btn-min-w",style:{width:120}})},s))),(null===k||void 0===k||null===(b=k.addFeedNetworks)||void 0===b||null===(w=b.networks)||void 0===w?void 0:w.length)>0?(0,v.jsx)("div",{className:"px-2 mb-4",children:(0,v.jsx)(x.A,{title:"Request New Network",children:(0,v.jsxs)(h.A,{variant:"secondary",children:[(0,v.jsx)(d.gc,{icon:"plus"}),"Request New Network"]})})}):null]})]})})})]})}),(0,v.jsx)(g.A,{show:C,type:F,onCloseModel:()=>M(!1,"")})]})}}}]);
//# sourceMappingURL=9603.bf41cf1e.chunk.js.map