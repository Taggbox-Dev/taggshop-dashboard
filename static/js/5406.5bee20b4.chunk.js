"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5406],{18038:(e,s,l)=>{l.d(s,{A:()=>o});var t=l(9950),n=l(97937),i=l(54810),a=l(44414);class d extends t.Component{constructor(e){super(e),this.handleClose=()=>{this.props.filterToggleCallback(!1)},this.state={width:window.innerWidth,isSavedList:!1},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){this.setState({width:window.innerWidth})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{filterToggle:e,heading:s,redirectUrl:l,isHide:t,closeAside:d}=this.props,{width:o}=this.state;return(0,a.jsxs)("div",{className:"aside__ border-end "+(o<1280?"offcanvas offcanvas-start "+(e?"show":""):""),id:"aside__toggle",children:[(0,a.jsx)("div",{className:"d-flex justify-content-end d-xl-none p-3 border-bottom h-48px",children:(0,a.jsx)(n.A,{variant:"secondary",id:"toggle_aside",size:"sm",className:"d-flex border-0",onClick:()=>d(),children:(0,a.jsx)(i.gc,{icon:"xmark",iconClass:"me-0"})})}),(0,a.jsx)("div",{className:"aside__body w-100",children:this.props.children})]})}}const o=d},80692:(e,s,l)=>{l.d(s,{A:()=>N});var t=l(9950),n=l(34483),i=l(97937),a=l(21432),d=l(95942),o=l(54810),c=l(73878),r=l(28429),m=l(42074),u=l(44268),h=l(17595),v=l(44414);const x=e=>{let{show:s,title:l,apiError:n,setApiError:a,onCreate:d,onUpdate:o,editContent:c,handleClose:r,isStatus:m,deleteContent:x,spinner:p}=e;const[w,j]=(0,t.useState)(""),[b,g]=(0,t.useState)(1),[f,y]=(0,t.useState)(1),[N,C]=(0,t.useState)(!1),A=()=>{w&&w.length>0?(C(!1),d(w,b,f)):C(!0)},k=e=>{w&&w.length>0?(C(!1),o(e,w,f,b)):C(!0)};(0,t.useEffect)((()=>{c&&Object.keys(c).length>0?(j(c.name),g(Number(c.autoUpdate)),y(Number(c.status))):S()}),[c]);const S=()=>{j(""),g(1),y(1),C(!1)};return(0,v.jsxs)(u.A,{show:s,size:"sm",onHide:r,id:"cont_modal",centered:!0,children:[(0,v.jsx)(u.A.Header,{closeButton:!0,children:(0,v.jsxs)(u.A.Title,{children:[c&&Object.keys(c).length>0?"Edit":"Create"," ",l]})}),(0,v.jsxs)(u.A.Body,{children:[(0,v.jsxs)(h.A.Group,{className:"mb-4",children:[(0,v.jsx)(h.A.Control,{id:"g_name",className:"fw-semibold  "+(N||n?"is-invalid":""),placeholder:"Enter Gallery Name",value:w,onChange:e=>{C(!1),a(""),j(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&(c&&Object.keys(c).length>0?k(c.id):A())}}),(0,v.jsx)("span",{className:"invalid-feedback",children:N?`${l} name is required`:n?`${n}`:""})]}),(0,v.jsxs)(h.A.Group,{className:"f-between mb-4",children:[(0,v.jsx)(h.A.Label,{htmlFor:"cont_a_u",children:"Auto Update"}),(0,v.jsx)(h.A.Check,{type:"switch",id:"cont_a_u",checked:b,onChange:()=>g(Number(!b))})]}),(0,v.jsxs)(h.A.Group,{className:"f-between mb-4",children:[(0,v.jsx)(h.A.Label,{htmlFor:"cont_s",children:"Status"}),(0,v.jsx)(h.A.Check,{type:"switch",id:"cont_s",checked:f,onClick:()=>y(Number(!f))})]})]}),(0,v.jsx)(u.A.Footer,{children:c&&Object.keys(c).length>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{variant:"outline-danger",size:"sm",id:"con_delete_btn",onClick:()=>x(c),children:"Delete"}),(0,v.jsx)(i.A,{size:"sm",id:"con_update_btn",className:""+(p?"spinner":""),disabled:p,onClick:()=>k(c.id),children:"Update"})]}):(0,v.jsx)(i.A,{size:"sm",id:"con_save_btn",className:""+(p?"spinner":""),disabled:p,onClick:A,children:"Save"})})]})};var p=l(54480),w=l(58423),j=l(64323),b=l(33127);var g=l(59074),f=l(4695),y=l.n(f);const N=e=>{var s;let{contentList:l,selectedContent:u,title:h,iswebsite:f,onlySwitcher:N,modifyContent:C,selectLoader:A,header:k}=e;const S=(0,c.d4)((e=>{var s,l;return null===(s=e.dashboardData)||void 0===s||null===(l=s.dashboarddata)||void 0===l?void 0:l.allWalls})),_=(0,c.d4)((e=>{var s,l;return null===(s=e.authorized)||void 0===s||null===(l=s.userData)||void 0===l?void 0:l.user_data})),{wallsLoader:W,addGalleryNow:I}=(0,c.d4)((e=>null===e||void 0===e?void 0:e.dashboardData)),[E,L]=(0,t.useState)(null),[z,U]=(0,t.useState)(!1),[O,P]=(0,t.useState)([]),[$,G]=(0,t.useState)(!0),[F,D]=(0,t.useState)(!1),[B,T]=(0,t.useState)(!1),H=(0,c.wA)(),R=(0,r.Zp)(),K=e=>{var s,l;(L(e),"Collaborator"==(null===_||void 0===_?void 0:_.role)?localStorage.setItem("wallId",e.wallId):localStorage.setItem("wallId",e.id),null!==h&&void 0!==h&&h.includes("Email")||null!==h&&void 0!==h&&h.includes("Shop")||null!==h&&void 0!==h&&h.includes("Website"))?C(e):null!==(s=window.location.pathname)&&void 0!==s&&s.includes("/more-apps")?R(`/more-apps/${e.id}`):null!==(l=window.location.pathname)&&void 0!==l&&l.includes("/moderation")?(H({type:p.A6,payload:!0}),H({type:p.vbo,payload:!0}),H((0,j.LF)()),H((0,w.ud)(!0)),H((0,w.ww)(0)),R(`/content/moderation/${e.id}`),(e=>{e((0,b.lk)(!1)),e((0,b.aS)(!1))})(H)):(H({type:p.A6,payload:!0}),H({type:p.vbo,payload:!0}),H((0,j.LF)()),setTimeout((()=>{(null===e||void 0===e?void 0:e.totalPost)>0?R(`/content/managefeed/${e.id}`):R(`/content/addfeed/${e.id}`)}),1e3))},Y=e=>{e?(T(e),D(!1)):(M(!1),P([]),D(!1))},M=e=>{H({type:p.GSH,payload:e})};return(0,t.useEffect)((()=>{const e=null===S||void 0===S?void 0:S.find((e=>e.id==localStorage.getItem("wallId")));u&&Object.keys(u).length>0?(L(u),G(!1)):A?G(!0):(L(e||(S&&S[0]?S[0]:"")),G(!1))}),[,u,A,S,localStorage.getItem("wallId")]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsxs)(n.A,{className:"w-100",children:[W||$?(0,v.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}):E&&Object.keys(E).length>0?(0,v.jsx)(n.A.Toggle,{id:"content_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between",style:{padding:k?2:4},children:(0,v.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,v.jsx)("div",{className:`symbol symbol-${k?"28":"32"} radius-2 flex-shrink-0 me-2`,children:(0,v.jsx)("span",{className:"symbol-label fs-8",children:null===E||void 0===E||null===(s=E.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,v.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,v.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===E||void 0===E?void 0:E.name}),(0,v.jsx)("span",{className:"fs-10 text-muted",children:null!==E&&void 0!==E&&E.totalPost?`${null===E||void 0===E?void 0:E.totalPost} Posts`:"0 Post"})]})]})}):(0,v.jsxs)(i.A,{variant:"secondary",size:"lg",className:"w-100",onClick:()=>window.location.href.includes("content/moderation")?M(!0):R(`/content/moderation/${localStorage.getItem("wallId")?localStorage.getItem("wallId"):""}`),children:[(0,v.jsx)(o.gc,{icon:"plus",iconClass:"me-1"}),"New Gallery"]}),S?(0,v.jsx)(n.A.Menu,{className:"w-100 p-0",children:(0,v.jsxs)("div",{className:"dropdown-height",children:[null===S||void 0===S?void 0:S.map(((e,s)=>{var l,t;const a=f?null===e||void 0===e||null===(l=e.wall)||void 0===l?void 0:l.Wall:e;return(0,v.jsxs)("div",{className:"position-relative",children:[(0,v.jsx)(n.A.Item,{eventKey:null===a||void 0===a?void 0:a.id,onClick:()=>K(a),className:"mb-1 rounded-0 "+((null===a||void 0===a?void 0:a.id)==localStorage.getItem("wallId")?"active":""),children:(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsx)("div",{className:`symbol symbol-${k?"28":"32"} radius-2 flex-shrink-0 me-2`,children:(0,v.jsx)("span",{className:"symbol-label fs-8",children:null===a||void 0===a||null===(t=a.name)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,v.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,v.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===a||void 0===a?void 0:a.name}),(0,v.jsx)("span",{className:"fs-10 text-muted lh-sm",children:null!==a&&void 0!==a&&a.totalPost?`${null===a||void 0===a?void 0:a.totalPost} Posts`:"0 Post"})]}),(0,v.jsx)("div",{})]})}),!N&&(0,v.jsx)("div",{className:"dropdown-action pe-2",children:(0,v.jsx)(i.A,{variant:"dropdown-icon",className:"content_edit",onClick:()=>(e=>{P(e),M(!0)})(e),children:(0,v.jsx)(o.gc,{icon:"ellipsis-vertical",iconClass:"me-0"})})})]},s)})),!N&&(0,v.jsx)("div",{className:"mt-2 p-2 border-top",children:(0,v.jsxs)(n.A.Item,{id:"add_web_btn",onClick:()=>M(!0),className:"f-center",children:[(0,v.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,v.jsx)(o.gc,{icon:"plus"})}),(0,v.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",h]})]})})]})}):null]}),E&&Object.keys(E).length>1&&/\/(moderation|addfeed|managefeed|manual-upload)/.test(window.location.pathname)?(0,v.jsx)(a.A,{placement:"bottom",overlay:(0,v.jsx)(d.A,{children:"Add more contenting"}),children:(0,v.jsx)(m.N_,{style:{cursor:"pointer"},to:`/content/addfeed/${localStorage.getItem("wallId")?localStorage.getItem("wallId"):""}`,className:"btn btn-primary btn-sm ms-1",children:(0,v.jsx)(o.gc,{icon:"plus",iconClass:"me-0"})})}):null]}),(0,v.jsx)(x,{show:I,apiError:B,setApiError:T,title:"Gallery",onCreate:(e,s,l)=>{const t=null===e||void 0===e?void 0:e.trim();(e=>null===S||void 0===S?void 0:S.some((s=>{var l;return(null===s||void 0===s||null===(l=s.name)||void 0===l?void 0:l.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())})))(t)?T("Gallery name already exists."):t&&(D(!0),H((0,g.kg)({name:t,status:l,autoUpdate:s||0,deleted:0,id:"",action:1},R,Y)))},onUpdate:(e,s,l,t)=>{s&&s.length>0&&(D(!0),H((0,g.kg)({name:null===s||void 0===s?void 0:s.trim(),status:l,id:e,autoUpdate:t||0,deleted:0,action:2},R,Y)))},editContent:O,handleClose:()=>{P([]),M(!1),T("")},deleteContent:e=>{y().fire({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((s=>{s.value?H((0,g.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},R,Y)):s.dismiss}))},spinner:F})]})}},9676:(e,s,l)=>{l.d(s,{A:()=>b});var t=l(9950),n=l(34483),i=l(97937),a=l(54810),d=l(44268),o=l(17595),c=l(44414);const r=e=>{let{show:s,title:l,onCreate:n,onUpdate:a,editContent:r,handleClose:m,isStatus:u,contentList:h,spinner:v,onDelete:x}=e;const[p,w]=(0,t.useState)(null===r||void 0===r?void 0:r.name),[j,b]=(0,t.useState)(!1),[g,f]=(0,t.useState)(null===r||void 0===r?void 0:r.autoUpdate),[y,N]=(0,t.useState)(null===r||void 0===r?void 0:r.status),[C,A]=(0,t.useState)(!1),k=()=>{if(p&&p.length>0)if(h&&h.length>0){S(p).length>0?b(!0):n(p)}else n(p);else A(!0)},S=e=>h.filter((s=>String("Website"==l?s.wall.Wall.name:s.name).toLowerCase().trim()==String(e).toLowerCase().trim())),_=e=>{if(p&&p.length>0)if(h&&h.length>0){S(p).length>0?b(!0):a(e,p,y,g)}else a(e,p,y,g);else A(!0)};return(0,t.useEffect)((()=>{w(null===r||void 0===r?void 0:r.name),f(null===r||void 0===r?void 0:r.autoUpdate),N(null===r||void 0===r?void 0:r.status),A(!1),b(!1)}),[r]),(0,c.jsxs)(d.A,{show:s,size:"sm",onHide:m,id:"gallery_modal",centered:!0,children:[(0,c.jsx)(d.A.Header,{closeButton:!0,children:(0,c.jsxs)(d.A.Title,{children:[r&&Object.keys(r).length>0?"Edit":"Create"," ",l]})}),(0,c.jsxs)(d.A.Body,{children:[(0,c.jsxs)(o.A.Group,{className:"mb-4",children:[(0,c.jsx)(o.A.Control,{id:"g_name",className:"fw-semibold  "+(C||j?"is-invalid":""),placeholder:`Enter ${l} Name`,value:p,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(r&&Object.keys(r).length>0?_(r.id):k())}}),C||j?(0,c.jsx)("span",{className:"invalid-feedback",children:j?"Name already exists.":`${l} name is required`}):""]}),u&&r&&Object.keys(r).length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(o.A.Label,{htmlFor:"gallery_a_u",children:"Auto Update"}),(0,c.jsx)(o.A.Check,{type:"switch",id:"gallery_a_u",defaultChecked:g,onChange:()=>f(!g)})]}),(0,c.jsxs)(o.A.Group,{className:"f-between mb-4",children:[(0,c.jsx)(o.A.Label,{htmlFor:"gallery_s",children:"Status"}),(0,c.jsx)(o.A.Check,{type:"switch",id:"gallery_s",defaultChecked:y,onClick:()=>N(!y)})]})]}):null]}),(0,c.jsx)(d.A.Footer,{children:r&&Object.keys(r).length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.A,{variant:"outline-danger",size:"sm",id:"web_close_btn",className:"me-3",onClick:()=>x(r.id),children:"Delete"}),(0,c.jsx)(i.A,{size:"sm",id:"web_update_btn",className:v?"spinner":"",onClick:()=>_(r.id),children:"Update"})]}):(0,c.jsx)(i.A,{size:"sm",id:"web_save_btn",className:v?"spinner":"",onClick:k,children:"Save"})})]})};var m=l(73878),u=l(28429),h=l(4695),v=l.n(h),x=l(22662),p=l(32417),w=l(25537),j=l(54480);const b=e=>{let{contentList:s,changeWebsite:l,selectedContent:d,title:o,isWebsite:h,method:b,addNew:g,noList:f}=e;const[y,N]=(0,t.useState)(!1),[C,A]=(0,t.useState)([]),[k,S]=(0,t.useState)(!1),_=(0,m.wA)(),W=(0,u.Zp)();(0,t.useEffect)((()=>{g&&N(!0)}),[g]);const I=(e,s,l)=>{N(!1),A([]),(o.includes("ShopOn")||o.includes("Email")||o.includes("Website"))&&(b&&b(l||""),E(),S(!1))},E=()=>{A([]),N(!1),o.includes("ShopOn")&&_({type:j.NBv,payload:!1}),o.includes("Email")&&_({type:j.uZc,payload:!1}),o.includes("Website")&&_({type:j.VtD,payload:!1})};return(0,c.jsxs)(c.Fragment,{children:[f?null:(0,c.jsxs)(n.A,{className:"w-100",children:[d?(0,c.jsx)(n.A.Toggle,{id:"web_switcher_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between p-1",children:(0,c.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,c.jsx)("div",{className:"symbol symbol-24 radius-2 flex-shrink-0 me-1 fs-5",children:(0,c.jsx)(a.gc,{icon:"browser"})}),(0,c.jsxs)("div",{className:"overflow-hidden",style:{maxWidth:130},children:[(0,c.jsx)("p",{className:"fw-semibold mb-0 text-ellipsis fs-9 text-start",children:null===d||void 0===d?void 0:d.name}),(null===d||void 0===d?void 0:d.totalPost)&&(0,c.jsxs)("p",{className:"mb-0 fs-10 text-muted",children:[null===d||void 0===d?void 0:d.totalPost," Posts"]})]})]})}):(0,c.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}),(0,c.jsx)(n.A.Menu,{className:"w-100",children:(0,c.jsxs)("div",{className:"dropdown-height",children:[null===s||void 0===s?void 0:s.map(((e,s)=>{var t;const o=h?null===e||void 0===e||null===(t=e.wall)||void 0===t?void 0:t.Wall:e;return(0,c.jsxs)("div",{className:"position-relative mb-1",children:[(0,c.jsx)(n.A.Item,{eventKey:null===o||void 0===o?void 0:o.id,onClick:()=>l(o),className:(null===o||void 0===o?void 0:o.id)==(null===d||void 0===d?void 0:d.id)?"active":"",children:(0,c.jsx)("div",{className:"menu-title",children:null===o||void 0===o?void 0:o.name})}),(0,c.jsx)("div",{className:"dropdown-action",children:(0,c.jsx)(i.A,{variant:"dropdown-icon",className:"web_edit",onClick:()=>{var s;return(e=>{A(e),N(!0)})(h?null===e||void 0===e||null===(s=e.wall)||void 0===s?void 0:s.Wall:e)},children:(0,c.jsx)(a.gc,{icon:"ellipsis-vertical",iconClass:"me-0"})})})]},s)})),(0,c.jsx)("div",{className:"mt-2 pt-2 border-top",children:(0,c.jsxs)(n.A.Item,{id:"add_web_btn",onClick:()=>N(!0),className:"f-center",children:[(0,c.jsx)(a.gc,{icon:"plus"}),(0,c.jsxs)("span",{className:"menu-title flex-grow-0 ms-1",children:["New ",o]})]})})]})})]}),(0,c.jsx)(r,{show:y,title:o,onCreate:e=>{S(!0),o.includes("Website")&&_((0,x.nE)(e,I,W)),o.includes("ShopOn")&&_((0,p.Lw)(e,I,W)),o.includes("Email")&&_((0,w.Gz)(e,I,W))},onUpdate:(e,s)=>{S(!0),o.includes("Website")&&_((0,x.G$)(e,s,I)),o.includes("ShopOn")&&_((0,p.wR)({action:1,id:e,name:s},I)),o.includes("Email")&&_((0,w.rK)(e,s,I))},editContent:C,handleClose:E,contentList:s,spinner:k,onDelete:e=>{v().fire({title:"Are You Sure?",text:`Are you sure you want to permanently delete this ${o.toLowerCase()} template?`,icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((s=>{s.value&&(o.includes("Website")&&_((0,x.Q7)(e,I,W)),o.includes("ShopOn")&&_((0,p.IS)(e,I,W)),o.includes("Email")&&_((0,w.vt)(e,I,W)))}))}})]})}}}]);