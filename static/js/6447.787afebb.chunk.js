"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6447],{47208:(e,o,t)=>{t.d(o,{nH:()=>r});t(96011);var i=t(14313),s=t(66345),a=t(54480),l=t(4695),n=t.n(l);t(52867);const r=(e,o,t)=>l=>{(new i.A).post(`${s.SZr}/${e}`).then((e=>{const{responseData:i,response_code:r,response_message:d,user:u}=e.data;var p,c;(null!==i&&void 0!==i&&i.promotor_key&&Object.keys(i.promotor_key).forEach((e=>{document.cookie=`${e}=${i.promotor_key[e]};`})),i.user&&Object.keys(i.user).length>0&&t(i.user.id),200==r)?(localStorage.setItem("steps","1"),l({type:a.C01,payload:i}),localStorage.setItem("token",i.token),null!==i&&void 0!==i&&null!==(p=i.user)&&void 0!==p&&p.emailId&&localStorage.setItem("emailId",null===i||void 0===i||null===(c=i.user)||void 0===c?void 0:c.emailId),o("/accounts/price")):201==r&&n().fire({title:d,icon:"success",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Go to Home"}).then((e=>{localStorage.removeItem("steps"),window.location=s.C1b}))}))}},76447:(e,o,t)=>{t.r(o),t.d(o,{default:()=>m});var i=t(9950),s=t(43927),a=t(52867),l=t(1391),n=t(41881),r=t(73878),d=t(74767),u=t(23419),p=t(66345),c=(t(47208),t(1480)),h=t(28981),v=t(44414);class g extends i.Component{constructor(){super(...arguments),this.state={init:!1,showFrePlan:!1,shopifyLogin:localStorage.getItem("shopifyLogin"),loading:!1,changePrice:!0,showContactUs:!1},this.SignUpPlanUpdate=async e=>{const{authorized:o}=this.props;this.setState({loading:!0});const t=(0,a.HA)(),i=new n.A;try{var l,r,d,h,v,g,m;if(200!==(await(0,s.yL)(e)).data.response_code)throw new Error("Plan update failed");const n=(null===o||void 0===o||null===(l=o.token)||void 0===l||null===(r=l.user)||void 0===r?void 0:r.id)||(null===o||void 0===o||null===(d=o.userData)||void 0===d||null===(h=d.user_data)||void 0===h?void 0:h.user.id)||localStorage.getItem("ownerId"),I="shopify"===(null===o||void 0===o||null===(v=o.userData)||void 0===v||null===(g=v.user_data)||void 0===g||null===(m=g.sessionData)||void 0===m?void 0:m.createFrom),S=()=>{this.setState({loading:!1,init:!0}),localStorage.removeItem("steps"),i.remove("shoponUrl"),setTimeout((()=>{this.props.history("/home")}),100)};if(I)localStorage.removeItem("shopifyLogin"),localStorage.removeItem("steps"),setTimeout((()=>{(0,c.Tn)(localStorage.getItem("shopId"),(()=>{this.props.getUserInfo(this.props.history,`${p.btP}init/index/shopify`)}))}),100);else{(0,u.c)("planUpdated",{id:n,plan:""});const e=(0,a.UM)("shoponUrl");await S(e)}(0,a.b)(t)}catch(I){this.setState({loading:!1}),(0,a.b)(t)}}}componentDidMount(){this.props.PLAN__DETAILS(!0),this.setState({shopifyLogin:localStorage.getItem("shopifyLogin")}),setTimeout((()=>{var e,o,t,i,s,a,l,n,r,d,p,c;(0,u.MR)(`getPlanUpdated${null!=(null===(e=this.props.authorized)||void 0===e||null===(o=e.token)||void 0===o||null===(t=o.user)||void 0===t?void 0:t.id)?null===(i=this.props.authorized)||void 0===i||null===(s=i.token)||void 0===s||null===(a=s.user)||void 0===a?void 0:a.id:null!==(l=this.props.authorized)&&void 0!==l&&null!==(n=l.userData)&&void 0!==n&&null!==(r=n.user_data)&&void 0!==r&&r.user.id?null===(d=this.props.authorized)||void 0===d||null===(p=d.userData)||void 0===p||null===(c=p.user_data)||void 0===c?void 0:c.user.id:localStorage.getItem("ownerId")}`,(e=>{localStorage.removeItem("steps"),this.props.history("/home")}))}),1500),window.fpr("referral",{email:localStorage.getItem("emailId")})}render(){return(0,v.jsx)(d.A,{...this.props,signUpPlan:!0,loading:this.state.loading,SignUpPlanUpdate:this.SignUpPlanUpdate})}}const m=(0,r.Ng)((e=>{var o;return{authorized:e.authorized,priceDetail:null===(o=e.planPriceDetail)||void 0===o?void 0:o.planPrice}}),(e=>({PLAN__DETAILS:o=>e((0,s.mT)(o)),getUserInfo:(o,t)=>e((0,h.ug)(o,t))})))((0,l.A)(g))}}]);