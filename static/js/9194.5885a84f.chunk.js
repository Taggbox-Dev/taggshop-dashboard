(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9194],{47208:(e,o,t)=>{"use strict";t.d(o,{nH:()=>r});t(96011);var s=t(14313),i=t(66345),a=t(54480),l=t(4695),n=t.n(l);t(52867);const r=(e,o,t)=>l=>{(new s.A).post(`${i.SZr}/${e}`).then((e=>{const{responseData:s,response_code:r,response_message:d,user:u}=e.data;var p,c;(null!==s&&void 0!==s&&s.promotor_key&&Object.keys(s.promotor_key).forEach((e=>{document.cookie=`${e}=${s.promotor_key[e]};`})),s.user&&Object.keys(s.user).length>0&&t(s.user.id),200==r)?(localStorage.setItem("steps","1"),l({type:a.C01,payload:s}),localStorage.setItem("token",s.token),null!==s&&void 0!==s&&null!==(p=s.user)&&void 0!==p&&p.emailId&&localStorage.setItem("emailId",null===s||void 0===s||null===(c=s.user)||void 0===c?void 0:c.emailId),o("/accounts/price")):201==r&&n().fire({title:d,icon:"success",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Go to Home"}).then((e=>{localStorage.removeItem("steps"),window.location=i.C1b}))}))}},48087:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>I});var s=t(9950),i=t(43927),a=t(52867),l=t(1391),n=t(41881),r=t(73878),d=t(74767),u=t(46256),p=t.n(u),c=t(66345);const h=p()(`${c._QT}`,{transports:["websocket"],transport:["websocket"],upgrade:!0});t(47208);var v=t(1480),g=t(28981),m=t(44414);class w extends s.Component{constructor(){super(...arguments),this.state={init:!1,showFrePlan:!1,shopifyLogin:localStorage.getItem("shopifyLogin"),loading:!1,changePrice:!0,showContactUs:!1},this.SignUpPlanUpdate=async e=>{const{authorized:o}=this.props;this.setState({loading:!0});const t=(0,a.HA)(),s=new n.A;try{var l,r,d,u,p,g,m;if(200!==(await(0,i.yL)(e)).data.response_code)throw new Error("Plan update failed");const n=(null===o||void 0===o||null===(l=o.token)||void 0===l||null===(r=l.user)||void 0===r?void 0:r.id)||(null===o||void 0===o||null===(d=o.userData)||void 0===d||null===(u=d.user_data)||void 0===u?void 0:u.user.id)||localStorage.getItem("ownerId"),S="shopify"===(null===o||void 0===o||null===(p=o.userData)||void 0===p||null===(g=p.user_data)||void 0===g||null===(m=g.sessionData)||void 0===m?void 0:m.createFrom),f=()=>{this.setState({loading:!1,init:!0}),localStorage.removeItem("steps"),s.remove("shoponUrl"),setTimeout((()=>{window.location.replace(`${c.btP}walls/home?id=tagshop`)}),100)};if(S)localStorage.removeItem("shopifyLogin"),localStorage.removeItem("steps"),setTimeout((()=>{(0,v.Tn)(localStorage.getItem("shopId"),(()=>{this.props.getUserInfo(this.props.history,`${c.btP}init/index/shopify`)}))}),100);else{w="planUpdated",I={id:n,plan:""},h.emit(w,I);const e=(0,a.UM)("shoponUrl");await f(e)}(0,a.b)(t)}catch(S){this.setState({loading:!1}),(0,a.b)(t)}var w,I}}componentDidMount(){this.props.PLAN__DETAILS(!0),this.setState({shopifyLogin:localStorage.getItem("shopifyLogin")}),setTimeout((()=>{var e,o,t,s,i,a,l,n,r,d,u,p,v,g;v=`getPlanUpdated${null!=(null===(e=this.props.authorized)||void 0===e||null===(o=e.token)||void 0===o||null===(t=o.user)||void 0===t?void 0:t.id)?null===(s=this.props.authorized)||void 0===s||null===(i=s.token)||void 0===i||null===(a=i.user)||void 0===a?void 0:a.id:null!==(l=this.props.authorized)&&void 0!==l&&null!==(n=l.userData)&&void 0!==n&&null!==(r=n.user_data)&&void 0!==r&&r.user.id?null===(d=this.props.authorized)||void 0===d||null===(u=d.userData)||void 0===u||null===(p=u.user_data)||void 0===p?void 0:p.user.id:localStorage.getItem("ownerId")}`,g=e=>{localStorage.removeItem("steps"),window.location.href=`${c.btP}walls/home`},h.on(v,g)}),1500),window.fpr("referral",{email:localStorage.getItem("emailId")})}render(){return(0,m.jsx)(d.A,{...this.props,signUpPlan:!0,loading:this.state.loading,SignUpPlanUpdate:this.SignUpPlanUpdate})}}const I=(0,r.Ng)((e=>{var o;return{authorized:e.authorized,priceDetail:null===(o=e.planPriceDetail)||void 0===o?void 0:o.planPrice}}),(e=>({PLAN__DETAILS:o=>e((0,i.mT)(o)),getUserInfo:(o,t)=>e((0,g.ug)(o,t))})))((0,l.A)(w))},25660:()=>{}}]);