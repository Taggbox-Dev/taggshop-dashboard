(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9194],{47208:(o,e,t)=>{"use strict";t.d(e,{nH:()=>l});t(96011);var s=t(14313),a=t(66345),i=t(54480),n=t(4695),r=t.n(n);t(52867);const l=(o,e,t)=>n=>{(new s.A).post("".concat(a.SZr,"/").concat(o)).then((o=>{const{responseData:s,response_code:l,response_message:d,user:u}=o.data;var c,p;(null!==s&&void 0!==s&&s.promotor_key&&Object.keys(s.promotor_key).forEach((o=>{document.cookie="".concat(o,"=").concat(s.promotor_key[o],";")})),s.user&&Object.keys(s.user).length>0&&t(s.user.id),200==l)?(localStorage.setItem("steps","1"),n({type:i.C01,payload:s}),localStorage.setItem("token",s.token),null!==s&&void 0!==s&&null!==(c=s.user)&&void 0!==c&&c.emailId&&localStorage.setItem("emailId",null===s||void 0===s||null===(p=s.user)||void 0===p?void 0:p.emailId),e("/accounts/price")):201==l&&r().fire({title:d,icon:"success",showCancelButton:!1,showConfirmButton:!0,confirmButtonText:"Go to Home"}).then((o=>{localStorage.removeItem("steps"),window.location=a.C1b}))}))}},48087:(o,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>f});var s=t(89379),a=t(9950),i=t(43927),n=t(52867),r=t(1391),l=t(41881),d=t(73878),u=t(87053),c=t(46256),p=t.n(c),h=t(66345);const v=p()("".concat(h._QT),{transports:["websocket"],transport:["websocket"],upgrade:!0});t(47208);var g=t(1480),m=t(28981),I=t(44414);class S extends a.Component{constructor(){super(...arguments),this.state={init:!1,showFrePlan:!1,shopifyLogin:localStorage.getItem("shopifyLogin"),loading:!1,changePrice:!0,showContactUs:!1},this.SignUpPlanUpdate=async o=>{const{authorized:e}=this.props;this.setState({loading:!0});const t=(0,n.HA)(),s=new l.A;try{var a,r,d,u,c,p,m;if(200!==(await(0,i.yL)(o)).data.response_code)throw new Error("Plan update failed");const l=(null===e||void 0===e||null===(a=e.token)||void 0===a||null===(r=a.user)||void 0===r?void 0:r.id)||(null===e||void 0===e||null===(d=e.userData)||void 0===d||null===(u=d.user_data)||void 0===u?void 0:u.user.id)||localStorage.getItem("ownerId"),f="shopify"===(null===e||void 0===e||null===(c=e.userData)||void 0===c||null===(p=c.user_data)||void 0===p||null===(m=p.sessionData)||void 0===m?void 0:m.createFrom),w=()=>{this.setState({loading:!1,init:!0}),localStorage.removeItem("steps"),s.remove("shoponUrl"),setTimeout((()=>{this.props.history("/home")}),100)};if(f)localStorage.removeItem("shopifyLogin"),localStorage.removeItem("steps"),setTimeout((()=>{(0,g.Tn)(localStorage.getItem("shopId"),(()=>{this.props.getUserInfo(this.props.history,"".concat(h.btP,"init/index/shopify"))}))}),100);else{I="planUpdated",S={id:l,plan:""},v.emit(I,S);const o=(0,n.UM)("shoponUrl");await w(o)}(0,n.b)(t)}catch(f){this.setState({loading:!1}),(0,n.b)(t)}var I,S}}componentDidMount(){this.props.PLAN__DETAILS(!0),this.setState({shopifyLogin:localStorage.getItem("shopifyLogin")}),setTimeout((()=>{var o,e,t,s,a,i,n,r,l,d,u,c,p,h;p="getPlanUpdated".concat(null!=(null===(o=this.props.authorized)||void 0===o||null===(e=o.token)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)?null===(s=this.props.authorized)||void 0===s||null===(a=s.token)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.id:null!==(n=this.props.authorized)&&void 0!==n&&null!==(r=n.userData)&&void 0!==r&&null!==(l=r.user_data)&&void 0!==l&&l.user.id?null===(d=this.props.authorized)||void 0===d||null===(u=d.userData)||void 0===u||null===(c=u.user_data)||void 0===c?void 0:c.user.id:localStorage.getItem("ownerId")),h=o=>{localStorage.removeItem("steps"),this.props.history("/home")},v.on(p,h)}),1500),window.fpr("referral",{email:localStorage.getItem("emailId")})}render(){return(0,I.jsx)(u.A,(0,s.A)((0,s.A)({},this.props),{},{signUpPlan:!0,loading:this.state.loading,SignUpPlanUpdate:this.SignUpPlanUpdate}))}}const f=(0,d.Ng)((o=>{var e;return{authorized:o.authorized,priceDetail:null===(e=o.planPriceDetail)||void 0===e?void 0:e.planPrice}}),(o=>({PLAN__DETAILS:e=>o((0,i.mT)(e)),getUserInfo:(e,t)=>o((0,m.ug)(e,t))})))((0,r.A)(S))},25660:()=>{}}]);