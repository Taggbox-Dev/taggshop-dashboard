"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3887],{85608:(e,s,t)=>{t.d(s,{$r:()=>n,E5:()=>a,GG:()=>o});const a="466192424702-c542t25gv7ju9bjvpee935oo9b1enscm.apps.googleusercontent.com",o="https://cloud.tagshop.ai/",n=`${o}tmp/`},17538:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(9950),o=t(85608),n=t(85923),i=t(44414);const r=e=>{let{loginAction:s}=e;const t=()=>{window.google&&Object.keys(window.google).length>0&&window.google.accounts&&(window.google.accounts.id.initialize({client_id:o.E5,callback:e=>{if(e.credential)try{const t=(e=>{const s=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(window.atob(s).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)})(e.credential);s(t)}catch(t){n.oR.error("Something went wrong.",{autoClose:3e3})}}}),window.google.accounts.id.prompt())};return(0,a.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e),t(),()=>{document.body.removeChild(e)}}),[]),(0,i.jsx)(i.Fragment,{})}},77941:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(42074),o=t(44414);const n=e=>{let{text:s,link:t,linkText:n}=e;return(0,o.jsxs)("div",{className:" text-center fw-normal fs-8 mt-lg-5 mt-1 f-center mb-5",children:[s,(0,o.jsx)(a.N_,{to:t,className:"btn btn-link text-decoration-none fw-bold fs-8 p-0 ms-1",children:n})]})}},73887:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(9950),o=t(73878),n=t(42074),i=t(28981),r=t(10261),l=(t(77941),t(52867)),c=t(54810),d=t(41181),m=t(19360),g=t(17595),h=t(97937),u=t(85861),p=t(9697),w=t(74283),b=t(17538),x=t(41225),f=t(9638),v=t(44414);const j=new d.A;class y extends a.Component{constructor(e){super(e),this.state={accountEmail:null,accountPassword:null,emailError:null,passwordError:null,loginLoader:!1,loginMailError:null,memberRemember:!0,showPassword:!1,resetAlert:0,loginPwdError:null},this.handleMessage=async e=>{try{const s=JSON.parse(e.data),{code:t,type:a}=s;if(/(\w+\.)?tagshop\.ai|localhost/.test(e.origin)&&"sign-login"==a&&t){const{data:{responseData:e}}=await(0,u.LY)(t),{response:s,userInfo:a}=e||{};(0,p.cO)(),this.socialLogin({accountFullName:null===a||void 0===a?void 0:a.name,accountEmailId:null===a||void 0===a?void 0:a.email,createFrom:"google",picture:(null===a||void 0===a?void 0:a.picture)||"",authId:null===a||void 0===a?void 0:a.sub})}}catch(s){}},this.readAuthentication=e=>{const s=JSON.parse(e.data);this.socialLogin(s)},this.emailTextChange=e=>this.setState({accountEmail:e.target.value,emailError:null,loginMailError:null}),this.passwordTextChange=e=>this.setState({accountPassword:e.target.value,passwordError:null,loginPwdError:null}),this.clickOnLogin=e=>{var s,t;const{accountEmail:a,accountPassword:o,memberRemember:n}=this.state;if(this.setState({loginLoader:!0}),localStorage.setItem("socialLogin",0),(null===(s=String(a))||void 0===s?void 0:s.trim().length)>0&&(0,l.DT)(a)&&(null===(t=String(o))||void 0===t?void 0:t.trim().length)>0){const e={emailId:a,password:o,countryCode:"US",loginType:"web"},s={email:a,password:o,status:!0};this.props.loginUser(e,n,s,"",this.props.history,this.callBackError)}else a&&0!=String(a).trim().length&&(0,l.DT)(a)||this.setState({emailError:!0}),o&&0!=String(o).trim().length||this.setState({passwordError:!0}),this.setState({loginLoader:!1})},this.getGoogleUserDetails=e=>{(0,x.JW)(e).then((e=>this.onGSocialLogin("google",e.data)))},this.onGSocialLogin=(e,s)=>{const t=(0,l.UM)("tracking_URL"),a=(0,l.UM)("landing_URL");if(s&&Object.keys(s).length>0){var o=s.picture?s.picture:"";this.props.userSignUp({fullName:s.name,emailId:s.email,password:"",trackingPage:t,landingPage:a,activeProduct:"0",createFrom:e,picture:o,oauth_uid:s.sub,countryCode:"US",utm_source:e},this.props.history,(()=>this.setState({loginLoader:!1})))}},this.socialLogin=e=>{var{accountFullName:s,accountEmailId:t,createFrom:a,picture:o,authId:n}=e;localStorage.setItem("socialLogin",1);const i=(0,l.UM)("tracking_URL"),r=(0,l.UM)("landing_URL");this.props.userSignUp({fullName:s,emailId:t,password:"",trackingPage:i,landingPage:r,activeProduct:"0",createFrom:a,picture:o,oauth_uid:n,countryCode:"US",utm_source:"facebook"==a?"facebook_ads":a},this.props.history,(()=>{}))},this.callBackError=e=>this.setState({loginMailError:String(e).toLowerCase().includes("email")?e:"",loginLoader:!1,emailError:!!String(e).toLowerCase().includes("email"),passwordError:!!String(e).toLowerCase().includes("password"),loginPwdError:String(e).toLowerCase().includes("password")?e:""},(()=>{String(e).includes("email")||String(e).toLowerCase().includes("email")||String(e).toLowerCase().includes("password")||(0,l.r$)(e)}))}componentDidMount(){window.addEventListener("message",this.handleMessage);const e=w.A.parse(window.location.search),{email:s,password:t,status:a}=j.get("__RememberDetails")||{};this.setState({accountEmail:s||"",accountPassword:t||"",memberRemember:a||!1}),e&&Object.keys(e.length>0)&&this.setState({resetAlert:e.reset})}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){const{accountEmail:e,accountPassword:s,emailError:t,passwordError:a,loginLoader:o,loginPwdError:i,memberRemember:l,showPassword:d,resetAlert:u,loginMailError:p}=this.state;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"w-100 mb-lg-0 mb-3",children:[(0,v.jsx)(b.A,{loginAction:e=>this.onGSocialLogin("google",e)},window.location.href),u?(0,v.jsx)(m.A,{variant:1==u?"success":"danger",className:"fs-7 rounded-2",dismissible:!0,children:1==u?"You have successfully updated your password. You can login now with your new password.":"Link expired, please try again."}):null,(0,v.jsxs)("div",{className:"text-start",children:[(0,v.jsx)("h1",{className:" mb-0 display-2 fw-bold mb-5",children:"Welcome back"}),(0,v.jsx)(r.A,{socialLogin:this.socialLogin,text:"Log in with Google"})]}),(0,v.jsxs)("form",{autoComplete:"on",onKeyPress:e=>"Enter"==e.key?this.clickOnLogin():"",children:[(0,v.jsxs)("div",{className:"mb-8",children:[(0,v.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,v.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"email_",children:"Email"}),(0,v.jsx)(g.A.Control,{type:"email",size:"lg",placeholder:"you@yourcompany.com",className:(t?"is-invalid":"")+" mb-1",value:e||"",onChange:this.emailTextChange,title:"Please enter email."}),t?(0,v.jsx)("span",{className:"invalid-feedback",children:p||(null!==e&&void 0!==e&&e.length?"Enter valid email.":"Email is required.")}):null]}),(0,v.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,v.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"password_",children:"Password"}),(0,v.jsxs)("span",{className:"position-relative d-block "+(a?"is-invalid":""),children:[(0,v.jsx)(g.A.Control,{type:""+(d?"text":"password"),placeholder:"Password",size:"lg",className:(a?"is-invalid":"")+" mb-1",onChange:this.passwordTextChange,value:s||"",title:"Please enter password."}),(0,v.jsx)("span",{className:"view_pass fs-7 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:e=>this.setState({showPassword:!d}),children:(0,v.jsx)(c.gc,{icon:d?"eye":"eye-slash"})})]}),a?(0,v.jsx)("div",{className:"invalid-feedback",children:i||"Password is required."}):null]}),(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center fw-semibold mb-4 mb-xl-5 pt-1",children:[(0,v.jsxs)("label",{className:"form-check align-items-center mb-0",children:[(0,v.jsx)("input",{className:"form-check-input",name:"remember",type:"checkbox",checked:l,onChange:e=>this.setState({memberRemember:e.target.checked})}),(0,v.jsx)("span",{className:"form-check-label fw-semibold",children:"Remember Me"})]}),(0,v.jsx)(n.N_,{className:"pull-right forgot_password",to:"/accounts/forgotpassword",children:"Forgot Password?"})]})]}),(0,v.jsx)("div",{className:"d-grid mb-3",children:(0,v.jsxs)(h.A,{variant:"primary",size:"lg",className:""+(o?" disabled":""),onClick:o?null:this.clickOnLogin,children:[(0,v.jsx)("span",{className:"indicator-label",style:{display:o?"none":"block"},children:"Log in with Email"}),(0,v.jsxs)("span",{className:"indicator-progress",style:{display:o?"block":"none"},children:[" Please wait...",(0,v.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]})]}),(0,v.jsx)(f.A,{})]})}}const N=(0,o.Ng)((e=>({})),(e=>({userSignUp:(s,t,a)=>e((0,i.Ei)(s,t,a)),loginUser:(s,t,a,o,n,r)=>e((0,i.Lx)(s,t,a,o,n,r))})))(y)},10261:(e,s,t)=>{t.d(s,{A:()=>l});t(9950);var a=t(97937),o=t(51960),n=t(54810),i=t(41225),r=t(44414);const l=e=>{let{text:s}=e;return(0,r.jsxs)("div",{className:"login_socials text-center",children:[(0,r.jsxs)(a.A,{variant:"light",size:"lg",id:"googleplusSignIn",onClick:()=>{localStorage.setItem("connectionType","sign-login"),(0,i.jf)()},style:{minWidth:120},className:"w-100 border-0 fw-bold ",children:[(0,r.jsx)(o.A,{className:"me-2 h-20px w-20px",src:(0,n.pc)("media/icons/social-icons/google.svg"),width:"20",height:"20",alt:"Google"}),s||"Log in with Google"]}),(0,r.jsx)("div",{className:"d-flex align-items-center flex-column justify-content-between py-4 w-100",children:(0,r.jsx)("div",{className:"separator separator-content my-2 my-md-3 w-100",children:(0,r.jsx)("span",{className:"text-muted fw-semibold fs-6 f-center text-nowrap",style:{width:50},children:"Or"})})})]})}},11306:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(9950),o=t(19865);function n(e,s,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=(0,o.A)(t);(0,a.useEffect)((()=>{const t="function"===typeof e?e():e;return t.addEventListener(s,i,n),()=>t.removeEventListener(s,i,n)}),[e])}},84622:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(9950),o=(t(1134),t(42175),t(19865));t(11306);t(22770),t(6277);t(71008);new WeakMap;var n=t(82111),i=t(44414);const r=["onKeyDown"];const l=a.forwardRef(((e,s)=>{let{onKeyDown:t}=e,a=function(e,s){if(null==e)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(s.indexOf(a)>=0)continue;t[a]=e[a]}return t}(e,r);const[l]=(0,n.Am)(Object.assign({tagName:"a"},a)),c=(0,o.A)((e=>{l.onKeyDown(e),null==t||t(e)}));return(d=a.href)&&"#"!==d.trim()&&"button"!==a.role?(0,i.jsx)("a",Object.assign({ref:s},a,{onKeyDown:t})):(0,i.jsx)("a",Object.assign({ref:s},a,l,{onKeyDown:c}));var d}));l.displayName="Anchor";const c=l},19360:(e,s,t)=>{t.d(s,{A:()=>v});var a=t(48738),o=t.n(a),n=t(9950),i=t(83529),r=t(19865),l=t(44089),c=t(27611),d=t(44414);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const g=n.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:n=m,...i}=e;return a=(0,l.oU)(a,"alert-heading"),(0,d.jsx)(n,{ref:s,className:o()(t,a),...i})}));g.displayName="AlertHeading";const h=g;var u=t(84622);const p=n.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:n=u.A,...i}=e;return a=(0,l.oU)(a,"alert-link"),(0,d.jsx)(n,{ref:s,className:o()(t,a),...i})}));p.displayName="AlertLink";const w=p;var b=t(30095),x=t(67261);const f=n.forwardRef(((e,s)=>{const{bsPrefix:t,show:a=!0,closeLabel:n="Close alert",closeVariant:c,className:m,children:g,variant:h="primary",onClose:u,dismissible:p,transition:w=b.A,...f}=(0,i.Zw)(e,{show:"onClose"}),v=(0,l.oU)(t,"alert"),j=(0,r.A)((e=>{u&&u(!1,e)})),y=!0===w?b.A:w,N=(0,d.jsxs)("div",{role:"alert",...y?void 0:f,ref:s,className:o()(m,v,h&&`${v}-${h}`,p&&`${v}-dismissible`),children:[p&&(0,d.jsx)(x.A,{onClick:j,"aria-label":n,variant:c}),g]});return y?(0,d.jsx)(y,{unmountOnExit:!0,...f,ref:void 0,in:a,children:N}):a?N:null}));f.displayName="Alert";const v=Object.assign(f,{Link:w,Heading:h})}}]);