{"version":3,"file":"static/js/7314.9096435b.chunk.js","mappings":"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","sources":["actions/initActions.js","actions/socketClient.js","app/Layout/Main/PricePlan/SignUpPricePlan.js"],"sourcesContent":["import axios from 'axios';\nimport HttpClient from \"./http-client\";\nimport { GET_INIT_PRODUCT, SIGN_UP_VERIFICATION, CREATE_WALL, EXTRA_DATA_UPDATE, BASE_URL } from './api'\nimport { USER_TOKEN, USER_AUTHENTICATED } from '../reducer/keys';\nimport Swal from 'sweetalert2';\nimport { TOAST_ERROR } from '../utils';\n\n\nexport const getInItProduct = () => {\n    return new HttpClient().get(GET_INIT_PRODUCT)\n}\n\nexport const UPDATE_EXTRA_DATA = (postData) => {\n    // return new HttpClient().post(EXTRA_DATA_UPDATE , postData)\n}\n\n\n\n\nexport const createWall = (shopOnBio = null) => {\n    const url = shopOnBio ? `${CREATE_WALL}?slug=${shopOnBio}` : CREATE_WALL\n    return new HttpClient().get(url)\n}\n\nexport const signUpVerified = (token, history, callback) => {\n    return (dispatch) => {\n        new HttpClient().post(`${SIGN_UP_VERIFICATION}/${token}`).then((response) => {\n            const { responseData, response_code, response_message, user } = response.data\n\n            if (responseData?.promotor_key) {\n                Object.keys(responseData.promotor_key).forEach(key => {\n                    document.cookie = `${key}=${responseData.promotor_key[key]};`;\n                });\n            }\n\n            if (responseData.user && Object.keys(responseData.user).length > 0) {\n                callback(responseData.user.id);\n            }\n\n            if (response_code == 200) {\n                localStorage.setItem('steps', '1');\n                dispatch({ type: USER_TOKEN, payload: responseData });\n                localStorage.setItem('token', responseData.token);\n                if (responseData?.user?.emailId) localStorage.setItem('emailId', responseData?.user?.emailId);\n                history('/accounts/price')\n            }\n            else if (response_code == 201) {\n                Swal.fire({\n                    title: response_message,\n                    icon: \"success\",\n                    showCancelButton: false,\n                    showConfirmButton: true,\n                    confirmButtonText: 'Go to Home',\n                    confirmButtonColor: \"#5354fc\",\n                }).then(result => {\n                    localStorage.removeItem('steps')\n                    window.location = BASE_URL\n                })\n            }\n        })\n    }\n}","import io from 'socket.io-client';\nimport { SOCKET_CLIENT_URL } from './api';\n\nexport const SOCKET_CONNECTION = io(`${SOCKET_CLIENT_URL}`, {\n    transports: [\"websocket\"],\n    transport: [\"websocket\"],\n    upgrade: true\n})\n\nexport const emitEvent = (event, data) => {\n    SOCKET_CONNECTION.emit(event, data);\n};\n\nexport const onEvent = (event, func) => {\n    SOCKET_CONNECTION.on(event, func);\n};\n\n","import React, { Component } from 'react'\nimport { PLAN__DETAILS, UPDATE_PLAN__DETAILS } from '../../../../actions/planDetail';\nimport { TOAST_DISMISS, TOAST_LOADING, getCookieValue } from '../../../../utils';\nimport withRouter from '../../../routes/WithRouter';\nimport Cookies from 'universal-cookie';\nimport { connect } from 'react-redux';\nimport PlanView from './Elements/PlanView';\nimport { emitEvent, onEvent } from '../../../../actions/socketClient';\nimport { HOST_URL } from '../../../../actions/api';\nimport { createWall } from '../../../../actions/initActions';\nimport { SHOPIFY_PRODUCT_SYNC } from '../../../../actions/productAction';\nimport { getUserInfo } from '../../../../actions/loginActions';\n\nclass SignUpPricePlan extends Component {\n  state = { init: false, showFrePlan: false, shopifyLogin: localStorage.getItem('shopifyLogin'), loading: false, changePrice: true, showContactUs: false }\n\n  componentDidMount() {\n    this.props.PLAN__DETAILS(true);\n    this.setState({ shopifyLogin: localStorage.getItem('shopifyLogin') })\n    setTimeout(() => {\n      onEvent(`getPlanUpdated${this.props.authorized?.token?.user?.id != null ? this.props.authorized?.token?.user?.id : this.props.authorized?.userData?.user_data?.user.id ? this.props.authorized?.userData?.user_data?.user.id : localStorage.getItem('ownerId')}`, (data) => {\n        localStorage.removeItem(\"steps\")\n        this.props.history('/home')\n      });\n    }, 1500);\n    window.fpr(\"referral\", { email: localStorage.getItem('emailId') })\n  }\n\n\n\n  SignUpPlanUpdate = async (planId) => {\n\n    const { authorized } = this.props;\n    this.setState({ loading: true });\n    const toastId = TOAST_LOADING();\n    const cookies = new Cookies();\n    try {\n      const response = await UPDATE_PLAN__DETAILS(planId);\n      if (response.data.response_code !== 200) throw new Error(\"Plan update failed\");\n\n      const userId = authorized?.token?.user?.id || authorized?.userData?.user_data?.user.id || localStorage.getItem('ownerId');\n      const createFromShopify = authorized?.userData?.user_data?.sessionData?.createFrom === 'shopify';\n\n      const processResponse = () => {\n        //await createWall(shopOnBio);\n        this.setState({ loading: false, init: true });\n        localStorage.removeItem('steps');\n        cookies.remove('shoponUrl');\n        setTimeout(() => {\n          this.props.history('/home')\n        }, 100);\n      };\n\n      if (createFromShopify) {\n        //await createWall(null);\n        localStorage.removeItem('shopifyLogin');\n        localStorage.removeItem('steps');\n        setTimeout(() => {\n          SHOPIFY_PRODUCT_SYNC(localStorage.getItem('shopId'), () => {\n             this.props.getUserInfo(this.props.history,`${HOST_URL}init/index/shopify`)\n            //window.location.href = ``;\n          });\n        }, 100);\n      } else {\n        emitEvent('planUpdated', { id: userId, plan: \"\" });\n        const shopOnBio = getCookieValue('shoponUrl');\n        await processResponse(shopOnBio);\n      }\n      TOAST_DISMISS(toastId);\n    } catch (error) {\n      this.setState({ loading: false });\n      TOAST_DISMISS(toastId);\n    }\n  };\n\n\n  render() {\n    return <PlanView {...this.props} signUpPlan={true} loading={this.state.loading} SignUpPlanUpdate={this.SignUpPlanUpdate} />\n  }\n}\n\nconst mapStateToProps = state => { \n  return {\n    authorized: state.authorized,\n    priceDetail: state.planPriceDetail?.planPrice,\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    PLAN__DETAILS: (isSignup) => dispatch(PLAN__DETAILS(isSignup)),\n    getUserInfo: (navigation,link) =>dispatch(getUserInfo(navigation,link))\n    ,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SignUpPricePlan));"],"names":["signUpVerified","token","history","callback","dispatch","HttpClient","post","SIGN_UP_VERIFICATION","then","response","responseData","response_code","response_message","user","data","_responseData$user","_responseData$user2","promotor_key","Object","keys","forEach","key","document","cookie","length","id","localStorage","setItem","type","USER_TOKEN","payload","emailId","Swal","title","icon","showCancelButton","showConfirmButton","confirmButtonText","confirmButtonColor","result","removeItem","window","location","BASE_URL","SOCKET_CONNECTION","io","SOCKET_CLIENT_URL","transports","transport","upgrade","SignUpPricePlan","Component","constructor","arguments","state","init","showFrePlan","shopifyLogin","getItem","loading","changePrice","showContactUs","SignUpPlanUpdate","async","authorized","this","props","setState","toastId","TOAST_LOADING","cookies","Cookies","_authorized$token","_authorized$token$use","_authorized$userData","_authorized$userData$","_authorized$userData2","_authorized$userData3","_authorized$userData4","UPDATE_PLAN__DETAILS","planId","Error","userId","userData","user_data","createFromShopify","sessionData","createFrom","processResponse","remove","setTimeout","SHOPIFY_PRODUCT_SYNC","getUserInfo","HOST_URL","event","plan","emit","shopOnBio","getCookieValue","TOAST_DISMISS","error","emitEvent","componentDidMount","PLAN__DETAILS","_this$props$authorize","_this$props$authorize2","_this$props$authorize3","_this$props$authorize4","_this$props$authorize5","_this$props$authorize6","_this$props$authorize7","_this$props$authorize8","_this$props$authorize9","_this$props$authorize10","_this$props$authorize11","_this$props$authorize12","func","on","fpr","email","render","_jsx","PlanView","signUpPlan","connect","_state$planPriceDetai","priceDetail","planPriceDetail","planPrice","isSignup","navigation","link","withRouter"],"sourceRoot":""}