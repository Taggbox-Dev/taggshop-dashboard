"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5142],{15142:(e,s,a)=>{a.r(s),a.d(s,{default:()=>G});var t=a(9950),n=a(28429),c=a(56463),l=a(40143),o=a(66345),r=a(28981),i=a(18633),h=a(47039),d=a(16522),x=a(85731),m=a(73878),p=a(41181),u=a(44414);const j=new p.A;function f(e,s){const t=function(e){const s=new URL(e);return s.searchParams.delete("link_source"),s.toString()}(s);return a(9210).HmacSHA256(t,e).toString()}const g=e=>{let{history:s,isInstall:a}=e;const c=(()=>{const e=(0,n.zy)(),s=new URLSearchParams(e.search),a=f(o.Gj$,"https://yourshopifystore.myshopify.com/admin/orders?link_source=search&id=12345");return console.log(a,"hmachmachmac",e,"secretsecret",o.Gj$),{code:s.get("code"),embedded:s.get("embedded"),hmac:s.get("hmac"),host:s.get("host"),id_token:s.get("id_token"),locale:s.get("locale"),session:s.get("session"),shop:s.get("shop"),timestamp:s.get("timestamp")}})(),l=(h=c,Object.fromEntries(Object.entries(h).filter((e=>{let[s,a]=e;return null!==a&&void 0!==a}))));var h;const d=(0,m.wA)();return(0,t.useEffect)((()=>{console.log(j.get("syncShopify"),"syncShopify"),a?l.embedded?(console.log(c,"paramsparamsparamsparamsparams-444444",l),d((0,r.AZ)(l,s))):(console.log(c,"paramsparamsparamsparamsparams-555555",l),(0,r.cW)(l.shop)):(console.log(c,"paramsparamsparamsparamsparams-666666",l),d((0,r.AZ)(l,s)))}),[]),(0,u.jsxs)("div",{className:"h-100vh w-100 f-center",children:[(0,u.jsx)(i.a,{}),"Test taggshop"]})};var y=a(7751),w=a(7103);const b=t.lazy((()=>a.e(3887).then(a.bind(a,73887)))),k=t.lazy((()=>a.e(72).then(a.bind(a,20072)))),S=t.lazy((()=>a.e(7562).then(a.bind(a,57562)))),q=t.lazy((()=>a.e(7996).then(a.bind(a,67996)))),v=t.lazy((()=>Promise.all([a.e(6957),a.e(899)]).then(a.bind(a,60899)))),P=t.lazy((()=>a.e(5565).then(a.bind(a,95565)))),A=t.lazy((()=>a.e(9613).then(a.bind(a,89613)))),z=t.lazy((()=>Promise.all([a.e(8740),a.e(6447)]).then(a.bind(a,76447)))),_=t.lazy((()=>a.e(1978).then(a.bind(a,61978)))),L=t.lazy((()=>Promise.all([a.e(3035),a.e(5312)]).then(a.bind(a,46615)))),R=e=>{const s=(0,n.g)();return(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(q,{prefix:e.prefix,params:s})})},U=e=>{const s=(0,n.g)();return(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(P,{prefix:e.prefix,params:s,history:e.history})})},I=e=>{const s=(0,n.zy)(),a=new URLSearchParams(s.search).get("token"),t=new URLSearchParams(s.search).get("callback");return a&&(localStorage.setItem("token",a),window.location.href=t),(0,u.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,u.jsx)(i.a,{})})},E=e=>{localStorage.clear();const s=(0,n.g)();return window.location.href.includes("admin")?localStorage.setItem("isAdmin",1):localStorage.setItem("isAdmin",0),s.token&&(localStorage.setItem("token",atob(s.token)),window.location.href="".concat(o.btP,"home")),(0,u.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,u.jsx)(i.a,{})})},C=e=>{let{history:s}=e;const a=(0,n.zy)(),c=new URLSearchParams(a.search).get("code"),l=new URLSearchParams(a.search).get("account_uuid"),o=new URLSearchParams(a.search).get("context"),h=new URLSearchParams(a.search).get("scope");return(0,t.useEffect)((()=>{(0,r.bG)({code:c,account_uuid:l,context:o,scope:h},s)}),[]),(0,u.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,u.jsx)(i.a,{})})},N=()=>{const e=(0,n.zy)(),s=new URLSearchParams(e.search).get("signed_payload"),a=new URLSearchParams(e.search).get("signed_payload_jwt");return(0,t.useEffect)((()=>{(0,r.HN)({signed_payload:s,signed_payload_jwt:a})}),[]),(0,u.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,u.jsx)(i.a,{})})};function G(e){const s=(0,n.Zp)();return(0,t.useEffect)((()=>{localStorage.getItem("token")||window.location.pathname.includes("/accounts")||window.location.pathname.includes("/connection")||window.location.pathname.includes("/bigcommerce")||window.location.pathname.includes("/Shopify")||window.location.pathname.includes("/autologin")||window.location.pathname.includes("/redirectlogin")||window.location.pathname.includes("/ugc_right")||window.location.pathname.includes("/feeds/authCallback")||window.location.pathname.includes("/collaborator/request")||s("/")}),[]),(0,u.jsxs)(l.A,{children:[(0,u.jsx)(h.A,{}),(0,u.jsxs)(n.BV,{children:[(0,u.jsx)(n.qh,{exact:!0,path:"/autologin",element:(0,u.jsx)(I,{history:e.history})}),(0,u.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token/:isAdmin",element:(0,u.jsx)(E,{})}),(0,u.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token",element:(0,u.jsx)(E,{})}),(0,u.jsx)(n.qh,{exact:!0,path:"/",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(b,{prefix:"/",history:s})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/register",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(k,{prefix:"/",history:s})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/login",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(b,{prefix:"/",history:s})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/forgotpassword",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(S,{prefix:"/",activeProduct:"0"})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/resetpassword/:userId/:token",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(R,{prefix:"/"})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/otherinfo",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(v,{prefix:"/",addEmail:!1,history:e.history})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/extemail",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(_,{children:(0,u.jsx)(v,{addEmail:!0,prefix:"/",history:e.history})})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/price",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(z,{history:e.history})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/verifyemail/:id",element:(0,u.jsx)(U,{prefix:"/",history:e.history})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/verify",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(A,{prefix:"/",history:e.history})})}),(0,u.jsx)(n.qh,{exact:!0,path:"/feeds/authCallback",element:(0,u.jsx)(d.A,{})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/paymentPaidCallback",element:(0,u.jsx)(c.A,{})}),(0,u.jsx)(n.qh,{exact:!0,path:"/ugc_right/:id",element:(0,u.jsx)(x.A,{})}),(0,u.jsx)(n.qh,{path:"/Shopify/token",element:(0,u.jsx)(g,{history:s,isInstall:!1})}),(0,u.jsx)(n.qh,{path:"/Shopify/install",element:(0,u.jsx)(g,{history:s,isInstall:!0})}),(0,u.jsx)(n.qh,{path:"/bigcommerce/oauth",element:(0,u.jsx)(C,{history:s})}),(0,u.jsx)(n.qh,{path:"/bigcommerce/load",element:(0,u.jsx)(N,{})}),(0,u.jsx)(n.qh,{exact:!0,path:"/connection/:id",element:(0,u.jsx)(t.Suspense,{fallback:null,children:(0,u.jsx)(L,{})})}),(0,u.jsx)(n.qh,{path:"*",element:(0,u.jsx)(n.C5,{to:"/accounts/login"})}),(0,u.jsx)(n.qh,{exact:!0,path:"/accounts/shopifypaymentcomplete",element:(0,u.jsx)(y.A,{})}),(0,u.jsx)(n.qh,{path:"/collaborator/request/:ownerToken/:collaboratorToken",element:(0,u.jsx)(_,{children:(0,u.jsx)(w.A,{history:s})})})]})]})}}}]);