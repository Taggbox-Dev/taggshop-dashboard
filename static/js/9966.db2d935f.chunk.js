"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[9966],{89966:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(65043),n=a(73216),l=a(87124),c=a(90224),o=a(92908),i=a(47610),r=a(27108),h=a(71112),d=a(87367),x=a(31474),p=a(97508),j=a(70579);const m=e=>{let{history:t,isInstall:a}=e;const l=(()=>{const e=(0,n.zy)(),t=new URLSearchParams(e.search);return{app_load_id:t.get("app_load_id"),code:t.get("code"),embedded:t.get("embedded"),hmac:t.get("hmac"),host:t.get("host"),id_token:t.get("id_token"),locale:t.get("locale"),session:t.get("session"),shop:t.get("shop"),timestamp:t.get("timestamp")}})(),c=(o=l,Object.fromEntries(Object.entries(o).filter((e=>{let[t,a]=e;return null!==a&&void 0!==a}))));var o;const h=(0,p.wA)();return(0,s.useEffect)((()=>{a?c.embedded?h((0,i.AZ)(c,t)):(0,i.cW)(c.shop):h((0,i.AZ)(c,t))}),[]),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(r.a,{})})};var u=a(87970),f=a(28560);const y=s.lazy((()=>a.e(204).then(a.bind(a,70204)))),g=s.lazy((()=>a.e(2101).then(a.bind(a,52101)))),w=s.lazy((()=>a.e(4923).then(a.bind(a,14923)))),b=s.lazy((()=>a.e(7103).then(a.bind(a,37103)))),k=s.lazy((()=>Promise.all([a.e(993),a.e(404)]).then(a.bind(a,80404)))),S=s.lazy((()=>a.e(7146).then(a.bind(a,47146)))),q=s.lazy((()=>a.e(8932).then(a.bind(a,8932)))),v=s.lazy((()=>Promise.all([a.e(4335),a.e(5582)]).then(a.bind(a,15582)))),_=s.lazy((()=>a.e(8369).then(a.bind(a,78369)))),P=s.lazy((()=>Promise.all([a.e(8894),a.e(4165)]).then(a.bind(a,16216)))),z=e=>{const t=(0,n.g)();return(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(b,{prefix:e.prefix,params:t})})},A=e=>{const t=(0,n.g)();return(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(S,{prefix:e.prefix,params:t,history:e.history})})},I=e=>{const t=(0,n.zy)(),a=new URLSearchParams(t.search).get("token"),s=new URLSearchParams(t.search).get("callback");return a&&(localStorage.setItem("token",a),window.location.href=s),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(r.a,{})})},L=e=>{localStorage.clear();const t=(0,n.g)();return window.location.href.includes("admin")?localStorage.setItem("isAdmin",1):localStorage.setItem("isAdmin",0),t.token&&(localStorage.setItem("token",atob(t.token)),window.location.href=`${o.btP}home`),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(r.a,{})})},R=e=>{let{history:t}=e;const a=(0,n.zy)(),l=new URLSearchParams(a.search).get("code"),c=new URLSearchParams(a.search).get("account_uuid"),o=new URLSearchParams(a.search).get("context"),h=new URLSearchParams(a.search).get("scope");return(0,s.useEffect)((()=>{(0,i.bG)({code:l,account_uuid:c,context:o,scope:h},t)}),[]),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(r.a,{})})},U=()=>{const e=(0,n.zy)(),t=new URLSearchParams(e.search).get("signed_payload"),a=new URLSearchParams(e.search).get("signed_payload_jwt");return(0,s.useEffect)((()=>{(0,i.HN)({signed_payload:t,signed_payload_jwt:a})}),[]),(0,j.jsx)("div",{className:"h-100vh w-100 f-center",children:(0,j.jsx)(r.a,{})})};function E(e){const t=(0,n.Zp)();return(0,s.useEffect)((()=>{localStorage.getItem("token")||window.location.pathname.includes("/accounts")||window.location.pathname.includes("/connection")||window.location.pathname.includes("/bigcommerce")||window.location.pathname.includes("/Shopify")||window.location.pathname.includes("/autologin")||window.location.pathname.includes("/redirectlogin")||window.location.pathname.includes("/ugc_right")||window.location.pathname.includes("/feeds/authCallback")||window.location.pathname.includes("/collaborator/request")||t("/")}),[]),(0,j.jsxs)(c.A,{children:[(0,j.jsx)(h.A,{}),(0,j.jsxs)(n.BV,{children:[(0,j.jsx)(n.qh,{exact:!0,path:"/autologin",element:(0,j.jsx)(I,{history:e.history})}),(0,j.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token/:isAdmin",element:(0,j.jsx)(L,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/redirectlogin/:token",element:(0,j.jsx)(L,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(y,{prefix:"/",history:t})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/register",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(g,{prefix:"/",history:t})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/login",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(y,{prefix:"/",history:t})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/forgotpassword",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(w,{prefix:"/",activeProduct:"0"})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/resetpassword/:userId/:token",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(z,{prefix:"/"})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/otherinfo",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(k,{prefix:"/",addEmail:!1,history:e.history})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/extemail",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(_,{children:(0,j.jsx)(k,{addEmail:!0,prefix:"/",history:e.history})})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/price",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(v,{history:e.history})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/verifyemail/:id",element:(0,j.jsx)(A,{prefix:"/",history:e.history})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/verify",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(q,{prefix:"/",history:e.history})})}),(0,j.jsx)(n.qh,{exact:!0,path:"/feeds/authCallback",element:(0,j.jsx)(d.A,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/paymentPaidCallback",element:(0,j.jsx)(l.A,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/ugc_right/:id",element:(0,j.jsx)(x.A,{})}),(0,j.jsx)(n.qh,{path:"/Shopify/token",element:(0,j.jsx)(m,{history:t,isInstall:!1})}),(0,j.jsx)(n.qh,{path:"/Shopify/install",element:(0,j.jsx)(m,{history:t,isInstall:!0})}),(0,j.jsx)(n.qh,{path:"/bigcommerce/oauth",element:(0,j.jsx)(R,{history:t})}),(0,j.jsx)(n.qh,{path:"/bigcommerce/load",element:(0,j.jsx)(U,{})}),(0,j.jsx)(n.qh,{exact:!0,path:"/connection/:id",element:(0,j.jsx)(s.Suspense,{fallback:null,children:(0,j.jsx)(P,{})})}),(0,j.jsx)(n.qh,{path:"*",element:(0,j.jsx)(n.C5,{to:"/accounts/login"})}),(0,j.jsx)(n.qh,{exact:!0,path:"/accounts/shopifypaymentcomplete",element:(0,j.jsx)(u.A,{})}),(0,j.jsx)(n.qh,{path:"/collaborator/request/:ownerToken/:collaboratorToken",element:(0,j.jsx)(_,{children:(0,j.jsx)(f.A,{history:t})})})]})]})}}}]);
//# sourceMappingURL=9966.db2d935f.chunk.js.map