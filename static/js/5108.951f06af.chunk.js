"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5108],{55108:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(89379),l=a(9950),n=a(54810),i=a(34483),o=a(66773),d=a(51960),c=a(97937),r=a(73878),m=a(42074),h=a(80692),u=a(41181),p=a(52867),x=a(44414);const g=l.lazy((()=>a.e(8060).then(a.bind(a,88060)))),v=l.lazy((()=>a.e(8224).then(a.bind(a,58224)))),f=new u.A,j=e=>(0,x.jsxs)(i.A.Item,(0,s.A)((0,s.A)({},e),{},{children:[(0,x.jsx)(n.gc,{type:"solid",icon:e.iconText}),e.text]}));class b extends l.Component{constructor(e){if(super(e),this.setMode=()=>{const e=document.getElementsByTagName("html")[0];this.setState({appThemeSkin:!this.state.appThemeSkin},(()=>{e.setAttribute("data-theme",this.state.appThemeSkin?"light":"dark"),f.set("appThemeSkin",this.state.appThemeSkin?"light":"dark",{path:"/"})}))},this.onNotificationToggle=()=>this.setState({isNotification:!this.state.isNotification}),this.state={isActiveAside:!1,appThemeSkin:!f.get("appThemeSkin")||"light"==f.get("appThemeSkin"),isNotification:!1},f.get("appThemeSkin")){document.getElementsByTagName("html")[0].setAttribute("data-theme",f.get("appThemeSkin"))}}componentDidMount(){}render(){var e,t,a,s,r,u;const{navigate:f,authorized:b,notificationList:w}=this.props,{isNotification:N,appThemeSkin:y}=this.state,k=w.filter((e=>0==e.status)).length;return(0,x.jsxs)(o.A,{className:"header-main fixed-top f-center border-bottom py-0 bg-body flex-nowrap",expand:"lg",children:[(0,p.t9)()?null:(0,x.jsx)("div",{className:"app-logo f-center flex-shrink-1 border-end",children:(0,x.jsx)(m.N_,{to:"/",className:"f-center header_logo",title:"Tagshop",children:(0,x.jsx)("span",{className:"d-flex w-100",children:(0,x.jsx)(d.A,{src:(0,n.pc)("media/logo/tagshop-icon.svg"),width:"44",height:"44",alt:"Tagshop",title:"Tagshop",fluid:!0})})})}),(0,x.jsxs)("div",{className:"app-container f-between flex-grow-1 h-100",children:[(0,p.t9)()?(0,x.jsx)("div",{className:"p-2 f-center flex-shrink-1",children:(0,x.jsx)(m.N_,{to:"/",className:"f-center header_logo",title:"Tagshop",children:(0,x.jsx)("span",{className:"d-flex w-100",children:(0,x.jsx)(d.A,{src:(0,n.pc)("media/logo/tagshop-logo.svg"),width:"153",height:"30",alt:"Tagshop",title:"Tagshop",fluid:!0})})})}):null,(0,x.jsxs)("div",{className:"d-flex flex-grow-1",style:{maxWidth:(0,p.t9)()?250:""},children:[(0,p.t9)()?"":(0,x.jsx)("div",{className:"d-lg-none d-flex align-items-center justify-content-center mob_toggle_icon me-3",children:(0,x.jsxs)(c.A,{id:"main_menu_toggle",variant:"icon",size:"sm",className:"p-0 custom_burger_icon bg-tansparent","aria-label":"toggle",title:"toggle",children:[(0,x.jsx)("span",{}),(0,x.jsx)("span",{}),(0,x.jsx)("span",{})]})}),(0,x.jsx)("div",{className:"w-100 header_swticher",children:/\/(moderation|addfeed|managefeed|more-apps|manual-upload|reviewhub|autopilot)/.test(window.location.pathname)?(0,x.jsx)(h.A,{header:!0}):""})]}),(0,p.t9)()?"":(0,x.jsx)("div",{className:"header-menu d-flex align-items-center justify-content-end w-xs-100 h-100",children:(0,x.jsxs)("div",{className:"d-flex align-items-center h-100 flex-shrink-0",children:[(null===b||void 0===b?void 0:b.userData)&&!(null!==b&&void 0!==b&&null!==(e=b.userData)&&void 0!==e&&null!==(t=e.user_data)&&void 0!==t&&null!==(a=t.UserPlan)&&void 0!==a&&null!==(s=a.planId)&&void 0!==s&&s.includes("39"))&&""==(null===b||void 0===b||null===(r=b.userData)||void 0===r||null===(u=r.user_data)||void 0===u?void 0:u.collaborator)&&(0,x.jsx)(m.N_,{to:"/price",className:"btn btn-primary text-nowrap btn-sm mx-1 d-none d-sm-flex",title:"Upgrade Now!",style:{minWidth:34},children:"Upgrade Now!"}),(0,p.t9)()?"":(0,x.jsx)(c.A,{variant:"icon",size:"sm",className:"fs-6 border-0 ms-sm-1","aria-label":"Mode",onClick:this.setMode,children:(0,x.jsx)("i",{className:"fa-duotone fa-solid fa-".concat(y?"moon":"sun-bright")})}),(0,p.t9)()?"":(0,x.jsxs)(i.A,{className:"h-100 f-center",align:"end",children:[(0,x.jsx)(i.A.Toggle,{variant:"icon",size:"sm",className:"fs-6 border-0 arrow_disabled ms-sm-1","aria-label":"Support",children:(0,x.jsx)("i",{className:"fa-duotone fa-solid fa-circle-question"})}),(0,x.jsxs)(i.A.Menu,{children:[(0,x.jsx)(j,{iconText:"comments",text:"Chat",onClick:p.tk}),(0,x.jsx)(j,{iconText:"phone",text:"Call",href:"https://calendly.com/taggbox/csm",target:"_blank"}),(0,x.jsx)(j,{iconText:"envelope",text:"Email",href:"mailto:support@tagshop.ai",target:"_blank"}),(0,x.jsx)(j,{iconText:"book-open-cover",text:"Knowledge Base",href:"https://tagshop.ai/support/",target:"_blank"})]})]}),(0,x.jsxs)(i.A,{className:"head_notifications_ h-100 f-center me-1",align:"end",show:N,onToggle:this.onNotificationToggle,children:[(0,x.jsxs)(i.A.Toggle,{variant:"icon",size:"sm",className:"fs-6 border-0 arrow_disabled ms-sm-1 position-relative","aria-label":"Notifications",children:[k?(0,x.jsx)("span",{className:"notifications_count bg-primary text-white position-absolute rounded-4",id:"notificationCount",style:{zIndex:9},children:k}):null,(0,x.jsx)("i",{className:"fa-duotone fa-solid fa-bell"})]}),(0,x.jsx)(i.A.Menu,{className:"p-0",children:(0,x.jsx)(l.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(v,{notificationList:w,onNotificationToggle:this.onNotificationToggle})})})]}),(0,x.jsx)(l.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(g,{navigate:f,authorized:b})})]})})]})]})}}const w=(0,r.Ng)((e=>({notificationList:e.notification.notificationList})))(b)},80692:(e,t,a)=>{a.d(t,{A:()=>A});var s=a(9950),l=a(34483),n=a(97937),i=a(21432),o=a(95942),d=a(54810),c=a(73878),r=a(28429),m=a(44268),h=a(17595),u=a(52867),p=a(44414);const x=e=>{let{show:t,title:a,apiError:l,setApiError:i,onCreate:o,onUpdate:d,editContent:c,handleClose:r,isStatus:x,deleteContent:g,spinner:v}=e;const[f,j]=(0,s.useState)(""),[b,w]=(0,s.useState)(1),[N,y]=(0,s.useState)(1),[k,A]=(0,s.useState)(!1),_=()=>{f&&f.length>0?(A(!1),o(f,b,N)):A(!0)},S=e=>{f&&f.length>0?(A(!1),d(e,f,N,b,c.carouselPost)):A(!0)};(0,s.useEffect)((()=>{c&&Object.keys(c).length>0?(j(c.name),w(Number(c.autoUpdate)),y(Number(c.status))):C()}),[c]);const C=()=>{j(""),w(1),y(1),A(!1)};return(0,p.jsxs)(m.A,{show:t,size:"sm",onHide:r,id:"cont_modal",centered:!0,children:[(0,p.jsx)(m.A.Header,{closeButton:!0,children:(0,p.jsxs)(m.A.Title,{children:[c&&Object.keys(c).length>0?"Edit":"Create"," ",a]})}),(0,p.jsxs)(m.A.Body,{children:[(0,p.jsxs)(h.A.Group,{className:"mb-4",children:[(0,p.jsx)(h.A.Control,{id:"g_name",className:"fw-semibold  ".concat(k||l?"is-invalid":""),placeholder:"Enter Gallery Name",value:f,onChange:e=>{A(!1),i(""),j(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&(c&&Object.keys(c).length>0?S(c.id):_())}}),(0,p.jsx)("span",{className:"invalid-feedback",children:k?"".concat(a," name is required"):l?"".concat(l):""})]}),(0,p.jsxs)(h.A.Group,{className:"f-between mb-4",children:[(0,p.jsx)(h.A.Label,{htmlFor:"cont_a_u",children:"Auto Update"}),(0,p.jsx)(h.A.Check,{type:"switch",id:"cont_a_u",checked:b,onChange:()=>b?(0,u.zO)("Disabling auto-update will prevent new posts from being fetched, limiting the content while existing posts remain accessible.",w,Number(!b)):w(Number(!b))})]}),(0,p.jsxs)(h.A.Group,{className:"f-between mb-4",children:[(0,p.jsx)(h.A.Label,{htmlFor:"cont_s",children:"Status"}),(0,p.jsx)(h.A.Check,{type:"switch",id:"cont_s",checked:N,onClick:()=>N?(0,u.zO)("Disabling this status will hide all collected posts from this feed, affecting visibility and content access.",y,Number(!N)):y(Number(!N))})]})]}),(0,p.jsx)(m.A.Footer,{children:c&&Object.keys(c).length>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.A,{variant:"outline-danger",size:"sm",id:"con_delete_btn",onClick:()=>g(c),children:"Delete"}),(0,p.jsx)(n.A,{size:"sm",id:"con_update_btn",className:"".concat(v?"spinner":""),disabled:v,onClick:()=>S(c.id),children:"Update"})]}):(0,p.jsx)(n.A,{size:"sm",id:"con_save_btn",className:"".concat(v?"spinner":""),disabled:v,onClick:_,children:"Save"})})]})};var g=a(54480),v=a(58423),f=a(64323),j=a(33127);var b=a(59074),w=a(4695),N=a.n(w),y=a(80322),k=a(91615);const A=e=>{var t;let{contentList:a,selectedContent:m,title:h,iswebsite:u,onlySwitcher:w,modifyContent:A,selectLoader:_,header:S}=e;const C=(0,c.d4)((e=>{var t,a;return null===(t=e.dashboardData)||void 0===t||null===(a=t.dashboarddata)||void 0===a?void 0:a.allWalls})),{wallsLoader:T,addGalleryNow:I}=((0,c.d4)((e=>{var t,a;return null===(t=e.authorized)||void 0===t||null===(a=t.userData)||void 0===a?void 0:a.user_data})),(0,c.d4)((e=>null===e||void 0===e?void 0:e.dashboardData))),[z,G]=(0,s.useState)(null),[P,U]=(0,s.useState)(!1),[E,L]=(0,s.useState)([]),[D,F]=(0,s.useState)(!0),[O,W]=(0,s.useState)(!1),[Y,B]=(0,s.useState)(!1),M=(0,c.wA)(),H=(0,r.Zp)(),K=e=>{var t,a,s;if(G(e),localStorage.setItem("wallId",e.id),null!==h&&void 0!==h&&h.includes("Email")||null!==h&&void 0!==h&&h.includes("Shop")||null!==h&&void 0!==h&&h.includes("Website"))A(e);else if(null!==(t=window.location.pathname)&&void 0!==t&&t.includes("/more-apps"))H("/more-apps/".concat(e.id));else if(null!==(a=window.location.pathname)&&void 0!==a&&a.includes("/moderation")||null!==(s=window.location.pathname)&&void 0!==s&&s.includes("/reviewhub")){var l;M({type:g.A6,payload:!0}),M({type:g.vbo,payload:!0}),M((0,f.LF)()),M((0,v.ud)(!0)),M((0,v.ww)(0)),null!==(l=window.location.pathname)&&void 0!==l&&l.includes("/moderation")?H("/content/moderation/".concat(e.id)):M((0,k.QR)()),(e=>{e((0,j.lk)(!1)),e((0,j.aS)(!1))})(M)}else{var n;M({type:g.A6,payload:!0}),M({type:g.vbo,payload:!0}),M((0,f.LF)()),null!==(n=window.location.pathname)&&void 0!==n&&n.includes("/autopilot")||setTimeout((()=>{(null===e||void 0===e?void 0:e.totalPost)>0?H("/content/managefeed/".concat(e.id)):H("/content/addfeed/".concat(e.id))}),1e3)}},q=e=>{e?(B(e),W(!1)):(Q(!1),L([]),W(!1))},Q=e=>{M({type:g.GSH,payload:e})};return(0,s.useEffect)((()=>{const e=null===C||void 0===C?void 0:C.find((e=>e.id==localStorage.getItem("wallId")));m&&Object.keys(m).length>0?(G(m),F(!1)):_?F(!0):(G(e||(C&&C[0]?C[0]:"")),F(!1))}),[,m,_,C,localStorage.getItem("wallId")]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsxs)(l.A,{className:"w-100",children:[T||D?(0,p.jsx)("div",{className:"w-100 sk_rect rounded-1 h-34px"}):z&&Object.keys(z).length>0?(0,p.jsx)(l.A.Toggle,{id:"content_btn",variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between",style:{padding:S?2:4},children:(0,p.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,p.jsx)("div",{className:"symbol symbol-".concat(S?"28":"32"," radius-2 flex-shrink-0 me-2"),children:(0,p.jsx)("span",{className:"symbol-label fs-8",children:null===z||void 0===z||null===(t=z.name)||void 0===t?void 0:t.charAt(0).toUpperCase()})}),(0,p.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,p.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===z||void 0===z?void 0:z.name}),(0,p.jsx)("span",{className:"fs-10 text-muted",children:null!==z&&void 0!==z&&z.totalPost?"".concat(null===z||void 0===z?void 0:z.totalPost," Posts"):"0 Post"})]})]})}):(0,p.jsxs)(n.A,{variant:"secondary",size:"lg",id:"tour_1",className:"w-100",onClick:()=>{window.location.href.includes("content/moderation")?(0,y.Yj)("contentGallery","editGallery",!0)&&Q(!0):(0,y.Yj)("publish",null!==h&&void 0!==h&&h.includes("Website")?"website":null!==h&&void 0!==h&&h.includes("Shop")?"shopon":"email_camp",!0)&&H("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):""))},children:[(0,p.jsx)(d.gc,{icon:"plus",iconClass:"me-1"}),"New Gallery"]}),C?(0,p.jsx)(l.A.Menu,{className:"w-100 p-0",children:(0,p.jsxs)("div",{className:"dropdown-height",children:[null===C||void 0===C?void 0:C.map(((e,t)=>{var a,s;const i=u?null===e||void 0===e||null===(a=e.wall)||void 0===a?void 0:a.Wall:e;return(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)(l.A.Item,{eventKey:null===i||void 0===i?void 0:i.id,onClick:()=>(e=>{h?(0,y.Yj)("publish",h.includes("Website")?"website":h.includes("Shop")?"shopon":"email_camp",!0)&&K(e):K(e)})(i),className:"mb-1 rounded-0 ".concat((null===i||void 0===i?void 0:i.id)==localStorage.getItem("wallId")?"active":""),children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{className:"symbol symbol-".concat(S?"28":"32"," radius-2 flex-shrink-0 me-2"),children:(0,p.jsx)("span",{className:"symbol-label fs-8",children:null===i||void 0===i||null===(s=i.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,p.jsxs)("div",{className:"overflow-hidden w-100 text-start d-flex flex-column",style:{maxWidth:130},children:[(0,p.jsx)("p",{className:"fw-bold mb-0 text-ellipsis fs-9 lh-sm",children:null===i||void 0===i?void 0:i.name}),(0,p.jsx)("span",{className:"fs-10 text-muted lh-sm",children:null!==i&&void 0!==i&&i.totalPost?"".concat(null===i||void 0===i?void 0:i.totalPost," Posts"):"0 Post"})]}),(0,p.jsx)("div",{})]})}),!w&&(0,p.jsx)("div",{className:"dropdown-action pe-2",children:(0,p.jsx)(n.A,{variant:"dropdown-icon",className:"content_edit",onClick:()=>(0,y.Yj)("contentGallery","editGallery",!0,!1,e.id)?(e=>{L(e),Q(!0)})(e):{},children:(0,p.jsx)(d.gc,{icon:"ellipsis-vertical",iconClass:"me-0"})})})]},t)})),!w&&(0,p.jsx)("div",{className:"mt-2 p-2 border-top",children:(0,p.jsxs)(l.A.Item,{id:"add_web_btn",onClick:()=>(0,y.Yj)("contentGallery","createGallery",!0)?Q(!0):{},className:"f-center",children:[(0,p.jsx)("span",{className:"svg-icon svg-icon-9",children:(0,p.jsx)(d.gc,{icon:"plus"})}),(0,p.jsxs)("span",{className:"menu-title flex-grow-0",children:["New ",h]})]})})]})}):null]}),z&&Object.keys(z).length>1&&/\/(moderation|addfeed|managefeed|manual-upload)/.test(window.location.pathname)?(0,p.jsx)(i.A,{placement:"bottom",overlay:(0,p.jsx)(o.A,{children:"Add more content"}),children:(0,p.jsx)(n.A,{variant:"primary",size:"sm","aria-label":"add more content",onClick:()=>(0,y.Yj)("networkManager","manageFeed",!0)?H("/content/addfeed/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")):{},className:"ms-1",children:(0,p.jsx)(d.gc,{icon:"plus",iconClass:"me-0"})})}):null]}),(0,p.jsx)(x,{show:I,apiError:Y,setApiError:B,title:"Gallery",onCreate:(e,t,a)=>{const s=null===e||void 0===e?void 0:e.trim();(e=>null===C||void 0===C?void 0:C.some((t=>{var a;return(null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())})))(s)?B("Gallery name already exists."):s&&(W(!0),M((0,b.kg)({name:s,status:a,carouselPost:0,autoUpdate:t||0,deleted:0,id:"",action:1},H,q)))},onUpdate:(e,t,a,s,l)=>{t&&t.length>0&&(W(!0),M((0,b.kg)({name:null===t||void 0===t?void 0:t.trim(),carouselPost:l||0,status:a,id:e,autoUpdate:s||0,deleted:0,action:2},H,q)))},editContent:E,handleClose:()=>{L([]),Q(!1),B("")},deleteContent:e=>{N().fire({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((t=>{t.value?M((0,b.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},H,q)):t.dismiss}))},spinner:O})]})}}}]);